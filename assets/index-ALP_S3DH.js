(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var _d={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function xA(){if(a_)return fl;a_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:h}}return fl.Fragment=t,fl.jsx=i,fl.jsxs=i,fl}var o_;function PA(){return o_||(o_=1,_d.exports=xA()),_d.exports}var it=PA(),vd={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function UA(){if(l_)return bt;l_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function N(I){return I===null||typeof I!="object"?null:(I=D&&I[D]||I["@@iterator"],typeof I=="function"?I:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,nt={};function W(I,$,H){this.props=I,this.context=$,this.refs=nt,this.updater=H||F}W.prototype.isReactComponent={},W.prototype.setState=function(I,$){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,$,"setState")},W.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ft(){}ft.prototype=W.prototype;function pt(I,$,H){this.props=I,this.context=$,this.refs=nt,this.updater=H||F}var ct=pt.prototype=new ft;ct.constructor=pt,J(ct,W.prototype),ct.isPureReactComponent=!0;var Vt=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},Mt=Object.prototype.hasOwnProperty;function M(I,$,H,Q,st,yt){return H=yt.ref,{$$typeof:a,type:I,key:$,ref:H!==void 0?H:null,props:yt}}function S(I,$){return M(I.type,$,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function O(I){var $={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(H){return $[H]})}var V=/\/+/g;function P(I,$){return typeof I=="object"&&I!==null&&I.key!=null?O(""+I.key):$.toString(36)}function w(){}function ve(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(w,w):(I.status="pending",I.then(function($){I.status==="pending"&&(I.status="fulfilled",I.value=$)},function($){I.status==="pending"&&(I.status="rejected",I.reason=$)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ee(I,$,H,Q,st){var yt=typeof I;(yt==="undefined"||yt==="boolean")&&(I=null);var ht=!1;if(I===null)ht=!0;else switch(yt){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(I.$$typeof){case a:case t:ht=!0;break;case A:return ht=I._init,ee(ht(I._payload),$,H,Q,st)}}if(ht)return st=st(I),ht=Q===""?"."+P(I,0):Q,Vt(st)?(H="",ht!=null&&(H=ht.replace(V,"$&/")+"/"),ee(st,$,H,"",function(jn){return jn})):st!=null&&(R(st)&&(st=S(st,H+(st.key==null||I&&I.key===st.key?"":(""+st.key).replace(V,"$&/")+"/")+ht)),$.push(st)),1;ht=0;var Ce=Q===""?".":Q+":";if(Vt(I))for(var Zt=0;Zt<I.length;Zt++)Q=I[Zt],yt=Ce+P(Q,Zt),ht+=ee(Q,$,H,yt,st);else if(Zt=N(I),typeof Zt=="function")for(I=Zt.call(I),Zt=0;!(Q=I.next()).done;)Q=Q.value,yt=Ce+P(Q,Zt++),ht+=ee(Q,$,H,yt,st);else if(yt==="object"){if(typeof I.then=="function")return ee(ve(I),$,H,Q,st);throw $=String(I),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ht}function q(I,$,H){if(I==null)return I;var Q=[],st=0;return ee(I,Q,"","",function(yt){return $.call(H,yt,st++)}),Q}function et(I){if(I._status===-1){var $=I._result;$=$(),$.then(function(H){(I._status===0||I._status===-1)&&(I._status=1,I._result=H)},function(H){(I._status===0||I._status===-1)&&(I._status=2,I._result=H)}),I._status===-1&&(I._status=0,I._result=$)}if(I._status===1)return I._result.default;throw I._result}var lt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Lt(){}return bt.Children={map:q,forEach:function(I,$,H){q(I,function(){$.apply(this,arguments)},H)},count:function(I){var $=0;return q(I,function(){$++}),$},toArray:function(I){return q(I,function($){return $})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},bt.Component=W,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=pt,bt.StrictMode=s,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,bt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return Tt.H.useMemoCache(I)}},bt.cache=function(I){return function(){return I.apply(null,arguments)}},bt.cloneElement=function(I,$,H){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var Q=J({},I.props),st=I.key,yt=void 0;if($!=null)for(ht in $.ref!==void 0&&(yt=void 0),$.key!==void 0&&(st=""+$.key),$)!Mt.call($,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&$.ref===void 0||(Q[ht]=$[ht]);var ht=arguments.length-2;if(ht===1)Q.children=H;else if(1<ht){for(var Ce=Array(ht),Zt=0;Zt<ht;Zt++)Ce[Zt]=arguments[Zt+2];Q.children=Ce}return M(I.type,st,void 0,void 0,yt,Q)},bt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},bt.createElement=function(I,$,H){var Q,st={},yt=null;if($!=null)for(Q in $.key!==void 0&&(yt=""+$.key),$)Mt.call($,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(st[Q]=$[Q]);var ht=arguments.length-2;if(ht===1)st.children=H;else if(1<ht){for(var Ce=Array(ht),Zt=0;Zt<ht;Zt++)Ce[Zt]=arguments[Zt+2];st.children=Ce}if(I&&I.defaultProps)for(Q in ht=I.defaultProps,ht)st[Q]===void 0&&(st[Q]=ht[Q]);return M(I,yt,void 0,void 0,null,st)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(I){return{$$typeof:g,render:I}},bt.isValidElement=R,bt.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:et}},bt.memo=function(I,$){return{$$typeof:v,type:I,compare:$===void 0?null:$}},bt.startTransition=function(I){var $=Tt.T,H={};Tt.T=H;try{var Q=I(),st=Tt.S;st!==null&&st(H,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Lt,lt)}catch(yt){lt(yt)}finally{Tt.T=$}},bt.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},bt.use=function(I){return Tt.H.use(I)},bt.useActionState=function(I,$,H){return Tt.H.useActionState(I,$,H)},bt.useCallback=function(I,$){return Tt.H.useCallback(I,$)},bt.useContext=function(I){return Tt.H.useContext(I)},bt.useDebugValue=function(){},bt.useDeferredValue=function(I,$){return Tt.H.useDeferredValue(I,$)},bt.useEffect=function(I,$,H){var Q=Tt.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(I,$)},bt.useId=function(){return Tt.H.useId()},bt.useImperativeHandle=function(I,$,H){return Tt.H.useImperativeHandle(I,$,H)},bt.useInsertionEffect=function(I,$){return Tt.H.useInsertionEffect(I,$)},bt.useLayoutEffect=function(I,$){return Tt.H.useLayoutEffect(I,$)},bt.useMemo=function(I,$){return Tt.H.useMemo(I,$)},bt.useOptimistic=function(I,$){return Tt.H.useOptimistic(I,$)},bt.useReducer=function(I,$,H){return Tt.H.useReducer(I,$,H)},bt.useRef=function(I){return Tt.H.useRef(I)},bt.useState=function(I){return Tt.H.useState(I)},bt.useSyncExternalStore=function(I,$,H){return Tt.H.useSyncExternalStore(I,$,H)},bt.useTransition=function(){return Tt.H.useTransition()},bt.version="19.1.1",bt}var u_;function um(){return u_||(u_=1,vd.exports=UA()),vd.exports}var xe=um(),Ed={exports:{}},dl={},Td={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function kA(){return c_||(c_=1,function(a){function t(q,et){var lt=q.length;q.push(et);t:for(;0<lt;){var Lt=lt-1>>>1,I=q[Lt];if(0<l(I,et))q[Lt]=et,q[lt]=I,lt=Lt;else break t}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var et=q[0],lt=q.pop();if(lt!==et){q[0]=lt;t:for(var Lt=0,I=q.length,$=I>>>1;Lt<$;){var H=2*(Lt+1)-1,Q=q[H],st=H+1,yt=q[st];if(0>l(Q,lt))st<I&&0>l(yt,Q)?(q[Lt]=yt,q[st]=lt,Lt=st):(q[Lt]=Q,q[H]=lt,Lt=H);else if(st<I&&0>l(yt,lt))q[Lt]=yt,q[st]=lt,Lt=st;else break t}}return et}function l(q,et){var lt=q.sortIndex-et.sortIndex;return lt!==0?lt:q.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],v=[],A=1,D=null,N=3,F=!1,J=!1,nt=!1,W=!1,ft=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Vt(q){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=q)s(v),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(v)}}function Tt(q){if(nt=!1,Vt(q),!J)if(i(y)!==null)J=!0,Mt||(Mt=!0,P());else{var et=i(v);et!==null&&ee(Tt,et.startTime-q)}}var Mt=!1,M=-1,S=5,R=-1;function O(){return W?!0:!(a.unstable_now()-R<S)}function V(){if(W=!1,Mt){var q=a.unstable_now();R=q;var et=!0;try{t:{J=!1,nt&&(nt=!1,pt(M),M=-1),F=!0;var lt=N;try{e:{for(Vt(q),D=i(y);D!==null&&!(D.expirationTime>q&&O());){var Lt=D.callback;if(typeof Lt=="function"){D.callback=null,N=D.priorityLevel;var I=Lt(D.expirationTime<=q);if(q=a.unstable_now(),typeof I=="function"){D.callback=I,Vt(q),et=!0;break e}D===i(y)&&s(y),Vt(q)}else s(y);D=i(y)}if(D!==null)et=!0;else{var $=i(v);$!==null&&ee(Tt,$.startTime-q),et=!1}}break t}finally{D=null,N=lt,F=!1}et=void 0}}finally{et?P():Mt=!1}}}var P;if(typeof ct=="function")P=function(){ct(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ve=w.port2;w.port1.onmessage=V,P=function(){ve.postMessage(null)}}else P=function(){ft(V,0)};function ee(q,et){M=ft(function(){q(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return N},a.unstable_next=function(q){switch(N){case 1:case 2:case 3:var et=3;break;default:et=N}var lt=N;N=et;try{return q()}finally{N=lt}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(q,et){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var lt=N;N=q;try{return et()}finally{N=lt}},a.unstable_scheduleCallback=function(q,et,lt){var Lt=a.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Lt+lt:Lt):lt=Lt,q){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=lt+I,q={id:A++,callback:et,priorityLevel:q,startTime:lt,expirationTime:I,sortIndex:-1},lt>Lt?(q.sortIndex=lt,t(v,q),i(y)===null&&q===i(v)&&(nt?(pt(M),M=-1):nt=!0,ee(Tt,lt-Lt))):(q.sortIndex=I,t(y,q),J||F||(J=!0,Mt||(Mt=!0,P()))),q},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(q){var et=N;return function(){var lt=N;N=et;try{return q.apply(this,arguments)}finally{N=lt}}}}(Ad)),Ad}var h_;function LA(){return h_||(h_=1,Td.exports=kA()),Td.exports}var Sd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function zA(){if(f_)return Qe;f_=1;var a=um();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,v,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:D==null?null:""+D,children:y,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(y,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(y,v,null,A)},Qe.flushSync=function(y){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=v,s.p=A,s.d.f()}},Qe.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},Qe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Qe.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:D,integrity:N,fetchPriority:F}):A==="script"&&s.d.X(y,{crossOrigin:D,integrity:N,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qe.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},Qe.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin);s.d.L(y,A,{crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qe.preloadModule=function(y,v){if(typeof y=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},Qe.requestFormReset=function(y){s.d.r(y)},Qe.unstable_batchedUpdates=function(y,v){return y(v)},Qe.useFormState=function(y,v,A){return d.H.useFormState(y,v,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var d_;function BA(){if(d_)return Sd.exports;d_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Sd.exports=zA(),Sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function jA(){if(m_)return dl;m_=1;var a=LA(),t=um(),i=BA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),e;if(f===o)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=c,o=f;else{for(var _=!1,E=c.child;E;){if(E===r){_=!0,r=c,o=f;break}if(E===o){_=!0,o=c,r=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===r){_=!0,r=f,o=c;break}if(E===o){_=!0,o=f,r=c;break}E=E.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ft=Symbol.for("react.provider"),pt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case W:return"Profiler";case nt:return"StrictMode";case Tt:return"Suspense";case Mt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case ct:return(e.displayName||"Context")+".Provider";case pt:return(e._context.displayName||"Context")+".Consumer";case Vt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return n=e.displayName||null,n!==null?n:ve(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ve(e(n))}catch{}}return null}var ee=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Lt=[],I=-1;function $(e){return{current:e}}function H(e){0>I||(e.current=Lt[I],Lt[I]=null,I--)}function Q(e,n){I++,Lt[I]=e.current,e.current=n}var st=$(null),yt=$(null),ht=$(null),Ce=$(null);function Zt(e,n){switch(Q(ht,n),Q(yt,e),Q(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?xy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=xy(n),e=Py(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(st),Q(st,e)}function jn(){H(st),H(yt),H(ht)}function $i(e){e.memoizedState!==null&&Q(Ce,e);var n=st.current,r=Py(n,e.type);n!==r&&(Q(yt,e),Q(st,r))}function mi(e){yt.current===e&&(H(st),H(yt)),Ce.current===e&&(H(Ce),ol._currentValue=lt)}var qr=Object.prototype.hasOwnProperty,Hr=a.unstable_scheduleCallback,Gr=a.unstable_cancelCallback,io=a.unstable_shouldYield,Ql=a.unstable_requestPaint,pn=a.unstable_now,yh=a.unstable_getCurrentPriorityLevel,ro=a.unstable_ImmediatePriority,Bs=a.unstable_UserBlockingPriority,Fr=a.unstable_NormalPriority,_h=a.unstable_LowPriority,js=a.unstable_IdlePriority,so=a.log,Kl=a.unstable_setDisableYieldValue,ae=null,Ht=null;function an(e){if(typeof so=="function"&&Kl(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ae,e)}catch{}}var Ge=Math.clz32?Math.clz32:Qr,Yl=Math.log,vh=Math.LN2;function Qr(e){return e>>>=0,e===0?32:31-(Yl(e)/vh|0)|0}var Kr=256,Yr=4194304;function Mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qs(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Mn(o):(_&=E,_!==0?c=Mn(_):r||(r=E&~e,r!==0&&(c=Mn(r))))):(E=o&~f,E!==0?c=Mn(E):_!==0?c=Mn(_):r||(r=o&~e,r!==0&&(c=Mn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Xr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ao(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var e=Kr;return Kr<<=1,(Kr&4194048)===0&&(Kr=256),e}function lo(){var e=Yr;return Yr<<=1,(Yr&62914560)===0&&(Yr=4194304),e}function gi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function pi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uo(e,n,r,o,c,f){var _=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(r=_&~r;0<r;){var G=31-Ge(r),Y=1<<G;E[G]=0,b[G]=-1;var z=L[G];if(z!==null)for(L[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}r&=~Y}o!==0&&qn(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function qn(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194090}function co(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ge(r),c=1<<o;c&n|e[o]&n&&(e[o]|=n),r&=~c}}function Zi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ji(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:t_(e.type))}function Xl(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var ne=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ne,de="__reactProps$"+ne,yn="__reactContainer$"+ne,ho="__reactEvents$"+ne,Eh="__reactListeners$"+ne,Wi="__reactHandles$"+ne,$l="__reactResources$"+ne,$r="__reactMarker$"+ne;function tr(e){delete e[Ee],delete e[de],delete e[ho],delete e[Eh],delete e[Wi]}function yi(e){var n=e[Ee];if(n)return n;for(var r=e.parentNode;r;){if(n=r[yn]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=zy(e);e!==null;){if(r=e[Ee])return r;e=zy(e)}return n}e=r,r=e.parentNode}return null}function Hn(e){if(e=e[Ee]||e[yn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ze(e){var n=e[$l];return n||(n=e[$l]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(e){e[$r]=!0}var fo=new Set,Gs={};function xn(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for(Gs[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var Zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jl={},Zr={};function Wl(e){return qr.call(Zr,e)?!0:qr.call(Jl,e)?!1:Zl.test(e)?Zr[e]=!0:(Jl[e]=!0,!1)}function er(e,n,r){if(Wl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Fn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ue(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}var Jr,tu;function vi(e){if(Jr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Jr=n&&n[1]||"",tu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+e+tu}var Fs=!1;function Qs(e,n){if(!e||Fs)return"";Fs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var z=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){z=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){z=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var b=_.split(`
`),L=E.split(`
`);for(c=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(o===b.length||c===L.length)for(o=b.length-1,c=L.length-1;1<=o&&0<=c&&b[o]!==L[c];)c--;for(;1<=o&&0<=c;o--,c--)if(b[o]!==L[c]){if(o!==1||c!==1)do if(o--,c--,0>c||b[o]!==L[c]){var G=`
`+b[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=c);break}}}finally{Fs=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?vi(r):""}function mo(e){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Qs(e.type,!1);case 11:return Qs(e.type.render,!1);case 1:return Qs(e.type,!0);case 31:return vi("Activity");default:return""}}function Ks(e){try{var n="";do n+=mo(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function go(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Th(e){var n=go(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){o=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ys(e){e._valueTracker||(e._valueTracker=Th(e))}function po(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=go(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ah=/[\n"\\]/g;function me(e){return e.replace(Ah,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function on(e,n,r,o,c,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Je(n)):e.value!==""+Je(n)&&(e.value=""+Je(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?nr(e,_,Je(n)):r!=null?nr(e,_,Je(r)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Je(E):e.removeAttribute("name")}function ts(e,n,r,o,c,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Je(r):"",n=n!=null?""+Je(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function nr(e,n,r){n==="number"&&Wr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ei(e,n,r,o){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Je(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Qt(e,n,r){if(n!=null&&(n=""+Je(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Je(r):""}function es(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(ee(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Je(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function _n(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var ns=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||ns.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function yo(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&r[c]!==o&&eu(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&eu(e,f,n[f])}function _o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(e){return bh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ti=null;function vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,Si=null;function vo(e){var n=Hn(e);if(n&&(e=n.stateNode)){var r=e[de]||null;t:switch(e=n.stateNode,n.type){case"input":if(on(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var c=o[de]||null;if(!c)throw Error(s(90));on(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&po(o)}break t;case"textarea":Qt(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Ei(e,!!r.multiple,n,!1)}}}var Qn=!1;function nu(e,n,r){if(Qn)return e(n,r);Qn=!0;try{var o=e(n);return o}finally{if(Qn=!1,(Ai!==null||Si!==null)&&(Xu(),Ai&&(n=Ai,e=Si,Si=Ai=null,vo(n),e)))for(n=0;n<e.length;n++)vo(e[n])}}function is(e,n){var r=e.stateNode;if(r===null)return null;var o=r[de]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Pn)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){En=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{En=!1}var Kn=null,ir=null,bi=null;function Eo(){if(bi)return bi;var e,n=ir,r=n.length,o,c="value"in Kn?Kn.value:Kn.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var _=r-e;for(o=1;o<=_&&n[r-o]===c[f-o];o++);return bi=c.slice(e,1<o?1-o:void 0)}function Yn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function To(){return!1}function De(e){function n(r,o,c,f,_){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xn:To,this.isPropagationStopped=To,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=De(jt),ss=A({},jt,{view:0,detail:0}),iu=De(ss),Zs,Js,$n,as=A({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(Zs=e.screenX-$n.screenX,Js=e.screenY-$n.screenY):Js=Zs=0,$n=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:Js}}),Tn=De(as),ru=A({},as,{dataTransfer:0}),Rh=De(ru),os=A({},ss,{relatedTarget:0}),Ws=De(os),Ao=A({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=De(Ao),su=A({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ea=De(su),wh=A({},jt,{data:0}),So=De(wh),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ou[e])?!!n[e]:!1}function us(){return bo}var lu=A({},ss,{key:function(e){if(e.key){var n=ls[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),na=De(lu),uu=A({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=De(uu),Ri=A({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),cu=De(Ri),hu=A({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),fu=De(hu),du=A({},as,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=De(du),We=A({},jt,{newState:0,oldState:0}),mu=De(We),gu=[9,13,27,32],Zn=Pn&&"CompositionEvent"in window,u=null;Pn&&"documentMode"in document&&(u=document.documentMode);var m=Pn&&"TextEvent"in window&&!u,p=Pn&&(!Zn||u&&8<u&&11>=u),T=" ",U=!1;function j(e,n){switch(e){case"keyup":return gu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function Te(e,n){switch(e){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return e=n.data,e===T&&U?null:e;default:return null}}function Pt(e,n){if(xt)return e==="compositionend"||!Zn&&j(e,n)?(e=Eo(),bi=ir=Kn=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ne[e.type]:n==="textarea"}function wi(e,n,r,o){Ai?Si?Si.push(o):Si=[o]:Ai=o,n=ec(n,"onChange"),0<n.length&&(r=new $s("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var ke=null,Jn=null;function wo(e){Dy(e,0)}function pu(e){var n=Gn(e);if(po(n))return e}function $m(e,n){if(e==="change")return n}var Zm=!1;if(Pn){var Ih;if(Pn){var Ch="oninput"in document;if(!Ch){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),Ch=typeof Jm.oninput=="function"}Ih=Ch}else Ih=!1;Zm=Ih&&(!document.documentMode||9<document.documentMode)}function Wm(){ke&&(ke.detachEvent("onpropertychange",tg),Jn=ke=null)}function tg(e){if(e.propertyName==="value"&&pu(Jn)){var n=[];wi(n,Jn,e,vn(e)),nu(wo,n)}}function c0(e,n,r){e==="focusin"?(Wm(),ke=n,Jn=r,ke.attachEvent("onpropertychange",tg)):e==="focusout"&&Wm()}function h0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(Jn)}function f0(e,n){if(e==="click")return pu(n)}function d0(e,n){if(e==="input"||e==="change")return pu(n)}function m0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ln=typeof Object.is=="function"?Object.is:m0;function Io(e,n){if(ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!qr.call(n,c)||!ln(e[c],n[c]))return!1}return!0}function eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ng(e,n){var r=eg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=eg(r)}}function ig(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ig(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Wr(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Wr(e.document)}return n}function Dh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var g0=Pn&&"documentMode"in document&&11>=document.documentMode,ra=null,Nh=null,Co=null,Oh=!1;function sg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oh||ra==null||ra!==Wr(o)||(o=ra,"selectionStart"in o&&Dh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Co&&Io(Co,o)||(Co=o,o=ec(Nh,"onSelect"),0<o.length&&(n=new $s("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ra)))}function cs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var sa={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},Vh={},ag={};Pn&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function hs(e){if(Vh[e])return Vh[e];if(!sa[e])return e;var n=sa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ag)return Vh[e]=n[r];return e}var og=hs("animationend"),lg=hs("animationiteration"),ug=hs("animationstart"),p0=hs("transitionrun"),y0=hs("transitionstart"),_0=hs("transitioncancel"),cg=hs("transitionend"),hg=new Map,Mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mh.push("scrollEnd");function Un(e,n){hg.set(e,n),xn(n,[e])}var fg=new WeakMap;function An(e,n){if(typeof e=="object"&&e!==null){var r=fg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Ks(n)},fg.set(e,n),n)}return{value:e,source:n,stack:Ks(n)}}var Sn=[],aa=0,xh=0;function yu(){for(var e=aa,n=xh=aa=0;n<e;){var r=Sn[n];Sn[n++]=null;var o=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,o!==null&&c!==null){var _=o.pending;_===null?c.next=c:(c.next=_.next,_.next=c),o.pending=c}f!==0&&dg(r,c,f)}}function _u(e,n,r,o){Sn[aa++]=e,Sn[aa++]=n,Sn[aa++]=r,Sn[aa++]=o,xh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ph(e,n,r,o){return _u(e,n,r,o),vu(e)}function oa(e,n){return _u(e,null,null,n),vu(e)}function dg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Ge(r),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=r|536870912),f):null}function vu(e){if(50<Wo)throw Wo=0,qf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var la={};function v0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,n,r,o){return new v0(e,n,r,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,n){var r=e.alternate;return r===null?(r=un(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function mg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Eu(e,n,r,o,c,f){var _=0;if(o=e,typeof e=="function")Uh(e)&&(_=1);else if(typeof e=="string")_=TA(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=un(31,r,n,c),e.elementType=R,e.lanes=f,e;case J:return fs(r.children,c,f,n);case nt:_=8,c|=24;break;case W:return e=un(12,r,n,c|2),e.elementType=W,e.lanes=f,e;case Tt:return e=un(13,r,n,c),e.elementType=Tt,e.lanes=f,e;case Mt:return e=un(19,r,n,c),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:case ct:_=10;break t;case pt:_=9;break t;case Vt:_=11;break t;case M:_=14;break t;case S:_=16,o=null;break t}_=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=un(_,r,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function fs(e,n,r,o){return e=un(7,e,o,n),e.lanes=r,e}function kh(e,n,r){return e=un(6,e,null,n),e.lanes=r,e}function Lh(e,n,r){return n=un(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ua=[],ca=0,Tu=null,Au=0,bn=[],Rn=0,ds=null,Ci=1,Di="";function ms(e,n){ua[ca++]=Au,ua[ca++]=Tu,Tu=e,Au=n}function gg(e,n,r){bn[Rn++]=Ci,bn[Rn++]=Di,bn[Rn++]=ds,ds=e;var o=Ci;e=Di;var c=32-Ge(o)-1;o&=~(1<<c),r+=1;var f=32-Ge(n)+c;if(30<f){var _=c-c%5;f=(o&(1<<_)-1).toString(32),o>>=_,c-=_,Ci=1<<32-Ge(n)+c|r<<c|o,Di=f+e}else Ci=1<<f|r<<c|o,Di=e}function zh(e){e.return!==null&&(ms(e,1),gg(e,1,0))}function Bh(e){for(;e===Tu;)Tu=ua[--ca],ua[ca]=null,Au=ua[--ca],ua[ca]=null;for(;e===ds;)ds=bn[--Rn],bn[Rn]=null,Di=bn[--Rn],bn[Rn]=null,Ci=bn[--Rn],bn[Rn]=null}var tn=null,oe=null,Bt=!1,gs=null,Wn=!1,jh=Error(s(519));function ps(e){var n=Error(s(418,""));throw Oo(An(n,e)),jh}function pg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[de]=o,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<el.length;r++)Ct(el[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),ts(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ys(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),es(n,o.value,o.defaultValue,o.children),Ys(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||My(n.textContent,r)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=nc),n=!0):n=!1,n||ps(e)}function yg(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function Do(e){if(e!==tn)return!1;if(!Bt)return yg(e),Bt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||rd(e.type,e.memoizedProps)),r=!r),r&&oe&&ps(e),yg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){oe=Ln(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}oe=null}}else n===27?(n=oe,vr(e.type)?(e=ld,ld=null,oe=e):oe=n):oe=tn?Ln(e.stateNode.nextSibling):null;return!0}function No(){oe=tn=null,Bt=!1}function _g(){var e=gs;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),gs=null),e}function Oo(e){gs===null?gs=[e]:gs.push(e)}var qh=$(null),ys=null,Ni=null;function rr(e,n,r){Q(qh,n._currentValue),n._currentValue=r}function Oi(e){e._currentValue=qh.current,H(qh)}function Hh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Gh(e,n,r,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Hh(f.return,r,e),o||(_=null);break t}f=E.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Hh(_,r,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function Vo(e,n,r,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=c.type;ln(c.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(c===Ce.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}c=c.return}e!==null&&Gh(n,e,r,o),n.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){ys=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return vg(ys,e)}function bu(e,n){return ys===null&&_s(e),vg(e,n)}function vg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ni===null){if(e===null)throw Error(s(308));Ni=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ni=Ni.next=n;return r}var E0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},T0=a.unstable_scheduleCallback,A0=a.unstable_NormalPriority,Se={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new E0,data:new Map,refCount:0}}function Mo(e){e.refCount--,e.refCount===0&&T0(A0,function(){e.controller.abort()})}var xo=null,Qh=0,ha=0,fa=null;function S0(e,n){if(xo===null){var r=xo=[];Qh=0,ha=Xf(),fa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Qh++,n.then(Eg,Eg),n}function Eg(){if(--Qh===0&&xo!==null){fa!==null&&(fa.status="fulfilled");var e=xo;xo=null,ha=0,fa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function b0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var Tg=q.S;q.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&S0(e,n),Tg!==null&&Tg(e,n)};var vs=$(null);function Kh(){var e=vs.current;return e!==null?e:Jt.pooledCache}function Ru(e,n){n===null?Q(vs,vs.current):Q(vs,n.pool)}function Ag(){var e=Kh();return e===null?null:{parent:Se._currentValue,pool:e}}var Po=Error(s(460)),Sg=Error(s(474)),wu=Error(s(542)),Yh={then:function(){}};function bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Iu(){}function Rg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Iu,Iu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e;default:if(typeof n.status=="string")n.then(Iu,Iu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e}throw Uo=n,Po}}var Uo=null;function wg(){if(Uo===null)throw Error(s(459));var e=Uo;return Uo=null,e}function Ig(e){if(e===Po||e===wu)throw Error(s(483))}var sr=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $h(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function or(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=vu(e),dg(e,null,r),n}return _u(e,o,n,r),vu(e)}function ko(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}function Zh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Jh=!1;function Lo(){if(Jh){var e=fa;if(e!==null)throw e}}function zo(e,n,r,o){Jh=!1;var c=e.updateQueue;sr=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,L=b.next;b.next=null,_===null?f=L:_.next=L,_=b;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;_=0,G=L=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Ut&z)===z:(o&z)===z){z!==0&&z===ha&&(Jh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=e,mt=E;z=n;var Xt=r;switch(mt.tag){case 1:if(vt=mt.payload,typeof vt=="function"){Y=vt.call(Xt,Y,z);break t}Y=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=mt.payload,z=typeof vt=="function"?vt.call(Xt,Y,z):vt,z==null)break t;Y=A({},Y,z);break t;case 2:sr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=B,b=Y):G=G.next=B,_|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=L,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),gr|=_,e.lanes=_,e.memoizedState=Y}}function Cg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Dg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Cg(r[e],n)}var da=$(null),Cu=$(0);function Ng(e,n){e=Li,Q(Cu,e),Q(da,n),Li=e|n.baseLanes}function Wh(){Q(Cu,Li),Q(da,da.current)}function tf(){Li=Cu.current,H(da),H(Cu)}var lr=0,Rt=null,Kt=null,ge=null,Du=!1,ma=!1,Es=!1,Nu=0,Bo=0,ga=null,R0=0;function ce(){throw Error(s(321))}function ef(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!ln(e[r],n[r]))return!1;return!0}function nf(e,n,r,o,c,f){return lr=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?dp:mp,Es=!1,f=r(o,c),Es=!1,ma&&(f=Vg(n,r,o,c)),Og(e),f}function Og(e){q.H=Uu;var n=Kt!==null&&Kt.next!==null;if(lr=0,ge=Kt=Rt=null,Du=!1,Bo=0,ga=null,n)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Su(e)&&(Oe=!0))}function Vg(e,n,r,o){Rt=e;var c=0;do{if(ma&&(ga=null),Bo=0,ma=!1,25<=c)throw Error(s(301));if(c+=1,ge=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=V0,f=n(r,o)}while(ma);return f}function w0(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?jo(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function rf(){var e=Nu!==0;return Nu=0,e}function sf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function af(e){if(Du){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Du=!1}lr=0,ge=Kt=Rt=null,ma=!1,Bo=Nu=0,ga=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Rt.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Kt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=ge===null?Rt.memoizedState:ge.next;if(n!==null)ge=n,Kt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ge===null?Rt.memoizedState=ge=e:ge=ge.next=e}return ge}function of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(e){var n=Bo;return Bo+=1,ga===null&&(ga=[]),e=Rg(ga,e,n),n=Rt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?dp:mp),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jo(e);if(e.$$typeof===ct)return Fe(e)}throw Error(s(438,String(e)))}function lf(e){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=of(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=O;return n.index++,r}function Vi(e,n){return typeof n=="function"?n(e):n}function Vu(e){var n=pe();return uf(n,Kt,e)}function uf(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=_=null,b=null,L=n,G=!1;do{var Y=L.lane&-536870913;if(Y!==L.lane?(Ut&Y)===Y:(lr&Y)===Y){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Y===ha&&(G=!0);else if((lr&z)===z){L=L.next,z===ha&&(G=!0);continue}else Y={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Y,_=f):b=b.next=Y,Rt.lanes|=z,gr|=z;Y=L.action,Es&&r(f,Y),f=L.hasEagerState?L.eagerState:r(f,Y)}else z={lane:Y,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,_=f):b=b.next=z,Rt.lanes|=Y,gr|=Y;L=L.next}while(L!==null&&L!==n);if(b===null?_=f:b.next=E,!ln(f,e.memoizedState)&&(Oe=!0,G&&(r=fa,r!==null)))throw r;e.memoizedState=f,e.baseState=_,e.baseQueue=b,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function cf(e){var n=pe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var _=c=c.next;do f=e(f,_.action),_=_.next;while(_!==c);ln(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Mg(e,n,r){var o=Rt,c=pe(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!ln((Kt||c).memoizedState,r);_&&(c.memoizedState=r,Oe=!0),c=c.queue;var E=Ug.bind(null,o,c,e);if(qo(2048,8,E,[e]),c.getSnapshot!==n||_||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,pa(9,Mu(),Pg.bind(null,o,c,r,n),null),Jt===null)throw Error(s(349));f||(lr&124)!==0||xg(o,n,r)}return r}function xg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=of(),Rt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Pg(e,n,r,o){n.value=r,n.getSnapshot=o,kg(n)&&Lg(e)}function Ug(e,n,r){return r(function(){kg(n)&&Lg(e)})}function kg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!ln(e,r)}catch{return!0}}function Lg(e){var n=oa(e,2);n!==null&&mn(n,e,2)}function hf(e){var n=en();if(typeof e=="function"){var r=e;if(e=r(),Es){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},n}function zg(e,n,r,o){return e.baseState=r,uf(e,Kt,typeof o=="function"?o:Vi)}function I0(e,n,r,o,c){if(Pu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Bg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Bg(e,n){var r=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=q.T,_={};q.T=_;try{var E=r(c,o),b=q.S;b!==null&&b(_,E),jg(e,n,E)}catch(L){ff(e,n,L)}finally{q.T=f}}else try{f=r(c,o),jg(e,n,f)}catch(L){ff(e,n,L)}}function jg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){qg(e,n,o)},function(o){return ff(e,n,o)}):qg(e,n,r)}function qg(e,n,r){n.status="fulfilled",n.value=r,Hg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Bg(e,r)))}function ff(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Hg(n),n=n.next;while(n!==o)}e.action=null}function Hg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Gg(e,n){return n}function Fg(e,n){if(Bt){var r=Jt.formState;if(r!==null){t:{var o=Rt;if(Bt){if(oe){e:{for(var c=oe,f=Wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Ln(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){oe=Ln(c.nextSibling),o=c.data==="F!";break t}}ps(o)}o=!1}o&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:n},r.queue=o,r=cp.bind(null,Rt,o),o.dispatch=r,o=hf(!1),f=yf.bind(null,Rt,!1,o.queue),o=en(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,r=I0.bind(null,Rt,c,f,r),c.dispatch=r,o.memoizedState=e,[n,r,!1]}function Qg(e){var n=pe();return Kg(n,Kt,e)}function Kg(e,n,r){if(n=uf(e,n,Gg)[0],e=Vu(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=jo(n)}catch(_){throw _===Po?wu:_}else o=n;n=pe();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,pa(9,Mu(),C0.bind(null,c,r),null)),[o,f,e]}function C0(e,n){e.action=n}function Yg(e){var n=pe(),r=Kt;if(r!==null)return Kg(n,r,e);pe(),n=n.memoizedState,r=pe();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function pa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=of(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Mu(){return{destroy:void 0,resource:void 0}}function Xg(){return pe().memoizedState}function xu(e,n,r,o){var c=en();o=o===void 0?null:o,Rt.flags|=e,c.memoizedState=pa(1|n,Mu(),r,o)}function qo(e,n,r,o){var c=pe();o=o===void 0?null:o;var f=c.memoizedState.inst;Kt!==null&&o!==null&&ef(o,Kt.memoizedState.deps)?c.memoizedState=pa(n,f,r,o):(Rt.flags|=e,c.memoizedState=pa(1|n,f,r,o))}function $g(e,n){xu(8390656,8,e,n)}function Zg(e,n){qo(2048,8,e,n)}function Jg(e,n){return qo(4,2,e,n)}function Wg(e,n){return qo(4,4,e,n)}function tp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ep(e,n,r){r=r!=null?r.concat([e]):null,qo(4,4,tp.bind(null,n,e),r)}function df(){}function np(e,n){var r=pe();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&ef(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function ip(e,n){var r=pe();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&ef(n,o[1]))return o[0];if(o=e(),Es){an(!0);try{e()}finally{an(!1)}}return r.memoizedState=[o,n],o}function mf(e,n,r){return r===void 0||(lr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=ay(),Rt.lanes|=e,gr|=e,r)}function rp(e,n,r,o){return ln(r,n)?r:da.current!==null?(e=mf(e,r,o),ln(e,n)||(Oe=!0),e):(lr&42)===0?(Oe=!0,e.memoizedState=r):(e=ay(),Rt.lanes|=e,gr|=e,n)}function sp(e,n,r,o,c){var f=et.p;et.p=f!==0&&8>f?f:8;var _=q.T,E={};q.T=E,yf(e,!1,n,r);try{var b=c(),L=q.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=b0(b,o);Ho(e,n,G,dn(e))}else Ho(e,n,o,dn(e))}catch(Y){Ho(e,n,{then:function(){},status:"rejected",reason:Y},dn())}finally{et.p=f,q.T=_}}function D0(){}function gf(e,n,r,o){if(e.tag!==5)throw Error(s(476));var c=ap(e).queue;sp(e,c,n,lt,r===null?D0:function(){return op(e),r(o)})}function ap(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function op(e){var n=ap(e).next.queue;Ho(e,n,{},dn())}function pf(){return Fe(ol)}function lp(){return pe().memoizedState}function up(){return pe().memoizedState}function N0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=dn();e=ar(r);var o=or(n,e,r);o!==null&&(mn(o,n,r),ko(o,n,r)),n={cache:Fh()},e.payload=n;return}n=n.return}}function O0(e,n,r){var o=dn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Pu(e)?hp(n,r):(r=Ph(e,n,r,o),r!==null&&(mn(r,e,o),fp(r,n,o)))}function cp(e,n,r){var o=dn();Ho(e,n,r,o)}function Ho(e,n,r,o){var c={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))hp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,_))return _u(e,n,c,0),Jt===null&&yu(),!1}catch{}finally{}if(r=Ph(e,n,c,o),r!==null)return mn(r,e,o),fp(r,n,o),!0}return!1}function yf(e,n,r,o){if(o={lane:2,revertLane:Xf(),action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(n)throw Error(s(479))}else n=Ph(e,r,o,2),n!==null&&mn(n,e,2)}function Pu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function hp(e,n){ma=Du=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function fp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}var Uu={readContext:Fe,use:Ou,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},dp={readContext:Fe,use:Ou,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:$g,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,xu(4194308,4,tp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return xu(4194308,4,e,n)},useInsertionEffect:function(e,n){xu(4,2,e,n)},useMemo:function(e,n){var r=en();n=n===void 0?null:n;var o=e();if(Es){an(!0);try{e()}finally{an(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=en();if(r!==void 0){var c=r(n);if(Es){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=O0.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=hf(e);var n=e.queue,r=cp.bind(null,Rt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:df,useDeferredValue:function(e,n){var r=en();return mf(r,e,n)},useTransition:function(){var e=hf(!1);return e=sp.bind(null,Rt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Rt,c=en();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(Ut&124)!==0||xg(o,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,$g(Ug.bind(null,o,f,e),[e]),o.flags|=2048,pa(9,Mu(),Pg.bind(null,o,f,r,n),null),r},useId:function(){var e=en(),n=Jt.identifierPrefix;if(Bt){var r=Di,o=Ci;r=(o&~(1<<32-Ge(o)-1)).toString(32)+r,n="«"+n+"R"+r,r=Nu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=R0++,n="«"+n+"r"+r.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:pf,useFormState:Fg,useActionState:Fg,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yf.bind(null,Rt,!0,r),r.dispatch=n,[e,n]},useMemoCache:lf,useCacheRefresh:function(){return en().memoizedState=N0.bind(null,Rt)}},mp={readContext:Fe,use:Ou,useCallback:np,useContext:Fe,useEffect:Zg,useImperativeHandle:ep,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:ip,useReducer:Vu,useRef:Xg,useState:function(){return Vu(Vi)},useDebugValue:df,useDeferredValue:function(e,n){var r=pe();return rp(r,Kt.memoizedState,e,n)},useTransition:function(){var e=Vu(Vi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:jo(e),n]},useSyncExternalStore:Mg,useId:lp,useHostTransitionStatus:pf,useFormState:Qg,useActionState:Qg,useOptimistic:function(e,n){var r=pe();return zg(r,Kt,e,n)},useMemoCache:lf,useCacheRefresh:up},V0={readContext:Fe,use:Ou,useCallback:np,useContext:Fe,useEffect:Zg,useImperativeHandle:ep,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:ip,useReducer:cf,useRef:Xg,useState:function(){return cf(Vi)},useDebugValue:df,useDeferredValue:function(e,n){var r=pe();return Kt===null?mf(r,e,n):rp(r,Kt.memoizedState,e,n)},useTransition:function(){var e=cf(Vi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:jo(e),n]},useSyncExternalStore:Mg,useId:lp,useHostTransitionStatus:pf,useFormState:Yg,useActionState:Yg,useOptimistic:function(e,n){var r=pe();return Kt!==null?zg(r,Kt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:lf,useCacheRefresh:up},ya=null,Go=0;function ku(e){var n=Go;return Go+=1,ya===null&&(ya=[]),Rg(ya,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===D?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function gp(e){var n=e._init;return n(e._payload)}function pp(e){function n(x,C){if(e){var k=x.deletions;k===null?(x.deletions=[C],x.flags|=16):k.push(C)}}function r(x,C){if(!e)return null;for(;C!==null;)n(x,C),C=C.sibling;return null}function o(x){for(var C=new Map;x!==null;)x.key!==null?C.set(x.key,x):C.set(x.index,x),x=x.sibling;return C}function c(x,C){return x=Ii(x,C),x.index=0,x.sibling=null,x}function f(x,C,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<C?(x.flags|=67108866,C):k):(x.flags|=67108866,C)):(x.flags|=1048576,C)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,C,k,K){return C===null||C.tag!==6?(C=kh(k,x.mode,K),C.return=x,C):(C=c(C,k),C.return=x,C)}function b(x,C,k,K){var at=k.type;return at===J?G(x,C,k.props.children,K,k.key):C!==null&&(C.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&gp(at)===C.type)?(C=c(C,k.props),Fo(C,k),C.return=x,C):(C=Eu(k.type,k.key,k.props,null,x.mode,K),Fo(C,k),C.return=x,C)}function L(x,C,k,K){return C===null||C.tag!==4||C.stateNode.containerInfo!==k.containerInfo||C.stateNode.implementation!==k.implementation?(C=Lh(k,x.mode,K),C.return=x,C):(C=c(C,k.children||[]),C.return=x,C)}function G(x,C,k,K,at){return C===null||C.tag!==7?(C=fs(k,x.mode,K,at),C.return=x,C):(C=c(C,k),C.return=x,C)}function Y(x,C,k){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=kh(""+C,x.mode,k),C.return=x,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case N:return k=Eu(C.type,C.key,C.props,null,x.mode,k),Fo(k,C),k.return=x,k;case F:return C=Lh(C,x.mode,k),C.return=x,C;case S:var K=C._init;return C=K(C._payload),Y(x,C,k)}if(ee(C)||P(C))return C=fs(C,x.mode,k,null),C.return=x,C;if(typeof C.then=="function")return Y(x,ku(C),k);if(C.$$typeof===ct)return Y(x,bu(x,C),k);Lu(x,C)}return null}function z(x,C,k,K){var at=C!==null?C.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return at!==null?null:E(x,C,""+k,K);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case N:return k.key===at?b(x,C,k,K):null;case F:return k.key===at?L(x,C,k,K):null;case S:return at=k._init,k=at(k._payload),z(x,C,k,K)}if(ee(k)||P(k))return at!==null?null:G(x,C,k,K,null);if(typeof k.then=="function")return z(x,C,ku(k),K);if(k.$$typeof===ct)return z(x,C,bu(x,k),K);Lu(x,k)}return null}function B(x,C,k,K,at){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return x=x.get(k)||null,E(C,x,""+K,at);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case N:return x=x.get(K.key===null?k:K.key)||null,b(C,x,K,at);case F:return x=x.get(K.key===null?k:K.key)||null,L(C,x,K,at);case S:var wt=K._init;return K=wt(K._payload),B(x,C,k,K,at)}if(ee(K)||P(K))return x=x.get(k)||null,G(C,x,K,at,null);if(typeof K.then=="function")return B(x,C,k,ku(K),at);if(K.$$typeof===ct)return B(x,C,k,bu(C,K),at);Lu(C,K)}return null}function vt(x,C,k,K){for(var at=null,wt=null,ut=C,gt=C=0,Me=null;ut!==null&&gt<k.length;gt++){ut.index>gt?(Me=ut,ut=null):Me=ut.sibling;var zt=z(x,ut,k[gt],K);if(zt===null){ut===null&&(ut=Me);break}e&&ut&&zt.alternate===null&&n(x,ut),C=f(zt,C,gt),wt===null?at=zt:wt.sibling=zt,wt=zt,ut=Me}if(gt===k.length)return r(x,ut),Bt&&ms(x,gt),at;if(ut===null){for(;gt<k.length;gt++)ut=Y(x,k[gt],K),ut!==null&&(C=f(ut,C,gt),wt===null?at=ut:wt.sibling=ut,wt=ut);return Bt&&ms(x,gt),at}for(ut=o(ut);gt<k.length;gt++)Me=B(ut,x,gt,k[gt],K),Me!==null&&(e&&Me.alternate!==null&&ut.delete(Me.key===null?gt:Me.key),C=f(Me,C,gt),wt===null?at=Me:wt.sibling=Me,wt=Me);return e&&ut.forEach(function(br){return n(x,br)}),Bt&&ms(x,gt),at}function mt(x,C,k,K){if(k==null)throw Error(s(151));for(var at=null,wt=null,ut=C,gt=C=0,Me=null,zt=k.next();ut!==null&&!zt.done;gt++,zt=k.next()){ut.index>gt?(Me=ut,ut=null):Me=ut.sibling;var br=z(x,ut,zt.value,K);if(br===null){ut===null&&(ut=Me);break}e&&ut&&br.alternate===null&&n(x,ut),C=f(br,C,gt),wt===null?at=br:wt.sibling=br,wt=br,ut=Me}if(zt.done)return r(x,ut),Bt&&ms(x,gt),at;if(ut===null){for(;!zt.done;gt++,zt=k.next())zt=Y(x,zt.value,K),zt!==null&&(C=f(zt,C,gt),wt===null?at=zt:wt.sibling=zt,wt=zt);return Bt&&ms(x,gt),at}for(ut=o(ut);!zt.done;gt++,zt=k.next())zt=B(ut,x,gt,zt.value,K),zt!==null&&(e&&zt.alternate!==null&&ut.delete(zt.key===null?gt:zt.key),C=f(zt,C,gt),wt===null?at=zt:wt.sibling=zt,wt=zt);return e&&ut.forEach(function(MA){return n(x,MA)}),Bt&&ms(x,gt),at}function Xt(x,C,k,K){if(typeof k=="object"&&k!==null&&k.type===J&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case N:t:{for(var at=k.key;C!==null;){if(C.key===at){if(at=k.type,at===J){if(C.tag===7){r(x,C.sibling),K=c(C,k.props.children),K.return=x,x=K;break t}}else if(C.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&gp(at)===C.type){r(x,C.sibling),K=c(C,k.props),Fo(K,k),K.return=x,x=K;break t}r(x,C);break}else n(x,C);C=C.sibling}k.type===J?(K=fs(k.props.children,x.mode,K,k.key),K.return=x,x=K):(K=Eu(k.type,k.key,k.props,null,x.mode,K),Fo(K,k),K.return=x,x=K)}return _(x);case F:t:{for(at=k.key;C!==null;){if(C.key===at)if(C.tag===4&&C.stateNode.containerInfo===k.containerInfo&&C.stateNode.implementation===k.implementation){r(x,C.sibling),K=c(C,k.children||[]),K.return=x,x=K;break t}else{r(x,C);break}else n(x,C);C=C.sibling}K=Lh(k,x.mode,K),K.return=x,x=K}return _(x);case S:return at=k._init,k=at(k._payload),Xt(x,C,k,K)}if(ee(k))return vt(x,C,k,K);if(P(k)){if(at=P(k),typeof at!="function")throw Error(s(150));return k=at.call(k),mt(x,C,k,K)}if(typeof k.then=="function")return Xt(x,C,ku(k),K);if(k.$$typeof===ct)return Xt(x,C,bu(x,k),K);Lu(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,C!==null&&C.tag===6?(r(x,C.sibling),K=c(C,k),K.return=x,x=K):(r(x,C),K=kh(k,x.mode,K),K.return=x,x=K),_(x)):r(x,C)}return function(x,C,k,K){try{Go=0;var at=Xt(x,C,k,K);return ya=null,at}catch(ut){if(ut===Po||ut===wu)throw ut;var wt=un(29,ut,null,x.mode);return wt.lanes=K,wt.return=x,wt}finally{}}}var _a=pp(!0),yp=pp(!1),wn=$(null),ti=null;function ur(e){var n=e.alternate;Q(be,be.current&1),Q(wn,e),ti===null&&(n===null||da.current!==null||n.memoizedState!==null)&&(ti=e)}function _p(e){if(e.tag===22){if(Q(be,be.current),Q(wn,e),ti===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ti=e)}}else cr()}function cr(){Q(be,be.current),Q(wn,wn.current)}function Mi(e){H(wn),ti===e&&(ti=null),H(be)}var be=$(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||od(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function _f(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=dn(),c=ar(o);c.payload=n,r!=null&&(c.callback=r),n=or(e,c,o),n!==null&&(mn(n,e,o),ko(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=dn(),c=ar(o);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=or(e,c,o),n!==null&&(mn(n,e,o),ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=dn(),o=ar(r);o.tag=2,n!=null&&(o.callback=n),n=or(e,o,r),n!==null&&(mn(n,e,r),ko(n,e,r))}};function vp(e,n,r,o,c,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!Io(r,o)||!Io(c,f):!0}function Ep(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&vf.enqueueReplaceState(n,n.state,null)}function Ts(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}var Bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Tp(e){Bu(e)}function Ap(e){console.error(e)}function Sp(e){Bu(e)}function ju(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function bp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ef(e,n,r){return r=ar(r),r.tag=3,r.payload={element:null},r.callback=function(){ju(e,n)},r}function Rp(e){return e=ar(e),e.tag=3,e}function wp(e,n,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){bp(n,r,o)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){bp(n,r,o),typeof c!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function M0(e,n,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Vo(n,r,c,!0),r=wn.current,r!==null){switch(r.tag){case 13:return ti===null?Gf():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===Yh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Qf(e,o,c)),!1;case 22:return r.flags|=65536,o===Yh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Qf(e,o,c)),!1}throw Error(s(435,r.tag))}return Qf(e,o,c),Gf(),!1}if(Bt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==jh&&(e=Error(s(422),{cause:o}),Oo(An(e,r)))):(o!==jh&&(n=Error(s(423),{cause:o}),Oo(An(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=An(o,r),c=Ef(e.stateNode,o,c),Zh(e,c),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:o});if(f=An(f,r),Jo===null?Jo=[f]:Jo.push(f),le!==4&&(le=2),n===null)return!0;o=An(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Ef(r.stateNode,o,e),Zh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(pr===null||!pr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Rp(c),wp(c,e,r,o),Zh(r,c),!1}r=r.return}while(r!==null);return!1}var Ip=Error(s(461)),Oe=!1;function Le(e,n,r,o){n.child=e===null?yp(n,null,r,o):_a(n,e.child,r,o)}function Cp(e,n,r,o,c){r=r.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return _s(n),o=nf(e,n,r,_,f,c),E=rf(),e!==null&&!Oe?(sf(e,n,c),xi(e,n,c)):(Bt&&E&&zh(n),n.flags|=1,Le(e,n,o,c),n.child)}function Dp(e,n,r,o,c){if(e===null){var f=r.type;return typeof f=="function"&&!Uh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Np(e,n,f,o,c)):(e=Eu(r.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Cf(e,c)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:Io,r(_,o)&&e.ref===n.ref)return xi(e,n,c)}return n.flags|=1,e=Ii(f,o),e.ref=n.ref,e.return=n,n.child=e}function Np(e,n,r,o,c){if(e!==null){var f=e.memoizedProps;if(Io(f,o)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=o=f,Cf(e,c))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,xi(e,n,c)}return Tf(e,n,r,o,c)}function Op(e,n,r){var o=n.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|r:r,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Vp(e,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(n,f!==null?f.cachePool:null),f!==null?Ng(n,f):Wh(),_p(n);else return n.lanes=n.childLanes=536870912,Vp(e,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Ru(n,f.cachePool),Ng(n,f),cr(),n.memoizedState=null):(e!==null&&Ru(n,null),Wh(),cr());return Le(e,n,c,r),n.child}function Vp(e,n,r,o){var c=Kh();return c=c===null?null:{parent:Se._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},e!==null&&Ru(n,null),Wh(),_p(n),e!==null&&Vo(e,n,o,!0),null}function qu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Tf(e,n,r,o,c){return _s(n),r=nf(e,n,r,o,void 0,c),o=rf(),e!==null&&!Oe?(sf(e,n,c),xi(e,n,c)):(Bt&&o&&zh(n),n.flags|=1,Le(e,n,r,c),n.child)}function Mp(e,n,r,o,c,f){return _s(n),n.updateQueue=null,r=Vg(n,o,r,c),Og(e),o=rf(),e!==null&&!Oe?(sf(e,n,f),xi(e,n,f)):(Bt&&o&&zh(n),n.flags|=1,Le(e,n,r,f),n.child)}function xp(e,n,r,o,c){if(_s(n),n.stateNode===null){var f=la,_=r.contextType;typeof _=="object"&&_!==null&&(f=Fe(_)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Xh(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?Fe(_):la,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(_f(n,r,_,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&vf.enqueueReplaceState(f,f.state,null),zo(n,o,f,c),Lo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=Ts(r,E);f.props=b;var L=f.context,G=r.contextType;_=la,typeof G=="object"&&G!==null&&(_=Fe(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==_)&&Ep(n,f,o,_),sr=!1;var z=n.memoizedState;f.state=z,zo(n,o,f,c),Lo(),L=n.memoizedState,E||z!==L||sr?(typeof Y=="function"&&(_f(n,r,Y,o),L=n.memoizedState),(b=sr||vp(n,r,b,o,z,L,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=_,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,$h(e,n),_=n.memoizedProps,G=Ts(r,_),f.props=G,Y=n.pendingProps,z=f.context,L=r.contextType,b=la,typeof L=="object"&&L!==null&&(b=Fe(L)),E=r.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Y||z!==b)&&Ep(n,f,o,b),sr=!1,z=n.memoizedState,f.state=z,zo(n,o,f,c),Lo();var B=n.memoizedState;_!==Y||z!==B||sr||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof E=="function"&&(_f(n,r,E,o),B=n.memoizedState),(G=sr||vp(n,r,G,o,z,B,b)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=b,o=G):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,qu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=_a(n,e.child,null,c),n.child=_a(n,null,r,c)):Le(e,n,r,c),n.memoizedState=f.state,e=n.child):e=xi(e,n,c),e}function Pp(e,n,r,o){return No(),n.flags|=256,Le(e,n,r,o),n.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(e){return{baseLanes:e,cachePool:Ag()}}function bf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=In),e}function Up(e,n,r){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(c?ur(n):cr(),Bt){var E=oe,b;if(b=E){t:{for(b=E,E=Wn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Ln(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ds!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},b=un(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,tn=n,oe=null,b=!0):b=!1}b||ps(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return od(E)?n.lanes=32:n.lanes=536870912,null;Mi(n)}return E=o.children,o=o.fallback,c?(cr(),c=n.mode,E=Hu({mode:"hidden",children:E},c),o=fs(o,c,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,c=n.child,c.memoizedState=Sf(r),c.childLanes=bf(e,_,r),n.memoizedState=Af,o):(ur(n),Rf(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(ur(n),n.flags&=-257,n=wf(e,n,r)):n.memoizedState!==null?(cr(),n.child=e.child,n.flags|=128,n=null):(cr(),c=o.fallback,E=n.mode,o=Hu({mode:"visible",children:o.children},E),c=fs(c,E,r,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,_a(n,e.child,null,r),o=n.child,o.memoizedState=Sf(r),o.childLanes=bf(e,_,r),n.memoizedState=Af,n=c);else if(ur(n),od(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var L=_.dgst;_=L,o=Error(s(419)),o.stack="",o.digest=_,Oo({value:o,source:null,stack:null}),n=wf(e,n,r)}else if(Oe||Vo(e,n,r,!1),_=(r&e.childLanes)!==0,Oe||_){if(_=Jt,_!==null&&(o=r&-r,o=(o&42)!==0?1:Zi(o),o=(o&(_.suspendedLanes|r))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,oa(e,o),mn(_,e,o),Ip;E.data==="$?"||Gf(),n=wf(e,n,r)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,oe=Ln(E.nextSibling),tn=n,Bt=!0,gs=null,Wn=!1,e!==null&&(bn[Rn++]=Ci,bn[Rn++]=Di,bn[Rn++]=ds,Ci=e.id,Di=e.overflow,ds=n),n=Rf(n,o.children),n.flags|=4096);return n}return c?(cr(),c=o.fallback,E=n.mode,b=e.child,L=b.sibling,o=Ii(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?c=Ii(L,c):(c=fs(c,E,r,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,E=e.child.memoizedState,E===null?E=Sf(r):(b=E.cachePool,b!==null?(L=Se._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=Ag(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=bf(e,_,r),n.memoizedState=Af,o):(ur(n),r=e.child,e=r.sibling,r=Ii(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=r,n.memoizedState=null,r)}function Rf(e,n){return n=Hu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Hu(e,n){return e=un(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function wf(e,n,r){return _a(n,e.child,null,r),e=Rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function kp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Hh(e.return,n,r)}function If(e,n,r,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=c)}function Lp(e,n,r){var o=n.pendingProps,c=o.revealOrder,f=o.tail;if(Le(e,n,o.children,r),o=be.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kp(e,r,n);else if(e.tag===19)kp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Q(be,o),c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&zu(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),If(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&zu(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}If(n,!0,r,null,f);break;case"together":If(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function xi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),gr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Vo(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Ii(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ii(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Cf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function x0(e,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),rr(n,Se,e.memoizedState.cache),No();break;case 27:case 5:$i(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:rr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ur(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Up(e,n,r):(ur(n),e=xi(e,n,r),e!==null?e.sibling:null);ur(n);break;case 19:var c=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Vo(e,n,r,!1),o=(r&n.childLanes)!==0),c){if(o)return Lp(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Q(be,be.current),o)break;return null;case 22:case 23:return n.lanes=0,Op(e,n,r);case 24:rr(n,Se,e.memoizedState.cache)}return xi(e,n,r)}function zp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Cf(e,r)&&(n.flags&128)===0)return Oe=!1,x0(e,n,r);Oe=(e.flags&131072)!==0}else Oe=!1,Bt&&(n.flags&1048576)!==0&&gg(n,Au,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")Uh(o)?(e=Ts(o,e),n.tag=1,n=xp(null,n,o,e,r)):(n.tag=0,n=Tf(null,n,o,e,r));else{if(o!=null){if(c=o.$$typeof,c===Vt){n.tag=11,n=Cp(null,n,o,e,r);break t}else if(c===M){n.tag=14,n=Dp(null,n,o,e,r);break t}}throw n=ve(o)||o,Error(s(306,n,""))}}return n;case 0:return Tf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,c=Ts(o,n.pendingProps),xp(e,n,o,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,$h(e,n),zo(n,o,null,r);var _=n.memoizedState;if(o=_.cache,rr(n,Se,o),o!==f.cache&&Gh(n,[Se],r,!0),Lo(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Pp(e,n,o,r);break t}else if(o!==c){c=An(Error(s(424)),n),Oo(c),n=Pp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Ln(e.firstChild),tn=n,Bt=!0,gs=null,Wn=!0,r=yp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(No(),o===c){n=xi(e,n,r);break t}Le(e,n,o,r)}n=n.child}return n;case 26:return qu(e,n),e===null?(r=Hy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,e=n.pendingProps,o=ic(ht.current).createElement(r),o[Ee]=n,o[de]=e,Be(o,r,e),ue(o),n.stateNode=o):n.memoizedState=Hy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $i(n),e===null&&Bt&&(o=n.stateNode=By(n.type,n.pendingProps,ht.current),tn=n,Wn=!0,c=oe,vr(n.type)?(ld=c,oe=Ln(o.firstChild)):oe=c),Le(e,n,n.pendingProps.children,r),qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((c=o=oe)&&(o=lA(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,tn=n,oe=Ln(o.firstChild),Wn=!1,c=!0):c=!1),c||ps(n)),$i(n),c=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,rd(c,f)?o=null:_!==null&&rd(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=nf(e,n,w0,null,null,r),ol._currentValue=c),qu(e,n),Le(e,n,o,r),n.child;case 6:return e===null&&Bt&&((e=r=oe)&&(r=uA(r,n.pendingProps,Wn),r!==null?(n.stateNode=r,tn=n,oe=null,e=!0):e=!1),e||ps(n)),null;case 13:return Up(e,n,r);case 4:return Zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=_a(n,null,o,r):Le(e,n,o,r),n.child;case 11:return Cp(e,n,n.type,n.pendingProps,r);case 7:return Le(e,n,n.pendingProps,r),n.child;case 8:return Le(e,n,n.pendingProps.children,r),n.child;case 12:return Le(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,rr(n,n.type,o.value),Le(e,n,o.children,r),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,_s(n),c=Fe(c),o=o(c),n.flags|=1,Le(e,n,o,r),n.child;case 14:return Dp(e,n,n.type,n.pendingProps,r);case 15:return Np(e,n,n.type,n.pendingProps,r);case 19:return Lp(e,n,r);case 31:return o=n.pendingProps,r=n.mode,o={mode:o.mode,children:o.children},e===null?(r=Hu(o,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ii(e.child,o),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Op(e,n,r);case 24:return _s(n),o=Fe(Se),e===null?(c=Kh(),c===null&&(c=Jt,f=Fh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:o,cache:c},Xh(n),rr(n,Se,c)):((e.lanes&r)!==0&&($h(e,n),zo(n,null,null,r),Lo()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),rr(n,Se,o)):(o=f.cache,rr(n,Se,o),o!==c.cache&&Gh(n,[Se],r,!0))),Le(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Pi(e){e.flags|=4}function Bp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Yy(n)){if(n=wn.current,n!==null&&((Ut&4194048)===Ut?ti!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==ti))throw Uo=Yh,Sg;e.flags|=8192}}function Gu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?lo():536870912,e.lanes|=n,Aa|=n)}function Qo(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function P0(e,n,r){var o=n.pendingProps;switch(Bh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Oi(Se),jn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Do(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,_g())),re(n),null;case 26:return r=n.memoizedState,e===null?(Pi(n),r!==null?(re(n),Bp(n,r)):(re(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Pi(n),re(n),Bp(n,r)):(re(n),n.flags&=-16777217):(e.memoizedProps!==o&&Pi(n),re(n),n.flags&=-16777217),null;case 27:mi(n),r=ht.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return re(n),null}e=st.current,Do(n)?pg(n):(e=By(c,o,r),n.stateNode=e,Pi(n))}return re(n),null;case 5:if(mi(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(e=st.current,Do(n))pg(n);else{switch(c=ic(ht.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(r,{is:o.is}):c.createElement(r)}}e[Ee]=n,e[de]=o;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(Be(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pi(n)}}return re(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=ht.current,Do(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,c=tn,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||My(e.nodeValue,r)),e||ps(n)}else e=ic(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return re(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Do(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ee]=n}else No(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=_g(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Mi(n),n):(Mi(n),null)}if(Mi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),Gu(n,n.updateQueue),re(n),null;case 4:return jn(),e===null&&Wf(n.stateNode.containerInfo),re(n),null;case 10:return Oi(n.type),re(n),null;case 19:if(H(be),c=n.memoizedState,c===null)return re(n),null;if(o=(n.flags&128)!==0,f=c.rendering,f===null)if(o)Qo(c,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,Qo(c,!1),e=f.updateQueue,n.updateQueue=e,Gu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)mg(r,e),r=r.sibling;return Q(be,be.current&1|2),n.child}e=e.sibling}c.tail!==null&&pn()>Ku&&(n.flags|=128,o=!0,Qo(c,!1),n.lanes=4194304)}else{if(!o)if(e=zu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Gu(n,e),Qo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return re(n),null}else 2*pn()-c.renderingStartTime>Ku&&r!==536870912&&(n.flags|=128,o=!0,Qo(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=pn(),n.sibling=null,e=be.current,Q(be,o?e&1|2:e&1),n):(re(n),null);case 22:case 23:return Mi(n),tf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),r=n.updateQueue,r!==null&&Gu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&H(vs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Oi(Se),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function U0(e,n){switch(Bh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Oi(Se),jn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return mi(n),null;case 13:if(Mi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));No()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(be),null;case 4:return jn(),null;case 10:return Oi(n.type),null;case 22:case 23:return Mi(n),tf(),e!==null&&H(vs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Oi(Se),null;case 25:return null;default:return null}}function jp(e,n){switch(Bh(n),n.tag){case 3:Oi(Se),jn();break;case 26:case 27:case 5:mi(n);break;case 4:jn();break;case 13:Mi(n);break;case 19:H(be);break;case 10:Oi(n.type);break;case 22:case 23:Mi(n),tf(),e!==null&&H(vs);break;case 24:Oi(Se)}}function Ko(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){o=void 0;var f=r.create,_=r.inst;o=f(),_.destroy=o}r=r.next}while(r!==c)}}catch(E){$t(n,n.return,E)}}function hr(e,n,r){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,c=n;var b=r,L=E;try{L()}catch(G){$t(c,b,G)}}}o=o.next}while(o!==f)}}catch(G){$t(n,n.return,G)}}function qp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Dg(n,r)}catch(o){$t(e,e.return,o)}}}function Hp(e,n,r){r.props=Ts(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){$t(e,n,o)}}function Yo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(c){$t(e,n,c)}}function ei(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){$t(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){$t(e,n,c)}else r.current=null}function Gp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){$t(e,e.return,c)}}function Df(e,n,r){try{var o=e.stateNode;iA(o,e.type,r,n),o[de]=n}catch(c){$t(e,e.return,c)}}function Fp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vr(e.type)||e.tag===4}function Nf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=nc));else if(o!==4&&(o===27&&vr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Of(e,n,r),e=e.sibling;e!==null;)Of(e,n,r),e=e.sibling}function Fu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&vr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Fu(e,n,r),e=e.sibling;e!==null;)Fu(e,n,r),e=e.sibling}function Qp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Be(n,o,r),n[Ee]=e,n[de]=r}catch(f){$t(e,e.return,f)}}var Ui=!1,he=!1,Vf=!1,Kp=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function k0(e,n){if(e=e.containerInfo,nd=uc,e=rg(e),Dh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,E=-1,b=-1,L=0,G=0,Y=e,z=null;e:for(;;){for(var B;Y!==r||c!==0&&Y.nodeType!==3||(E=_+c),Y!==f||o!==0&&Y.nodeType!==3||(b=_+o),Y.nodeType===3&&(_+=Y.nodeValue.length),(B=Y.firstChild)!==null;)z=Y,Y=B;for(;;){if(Y===e)break e;if(z===r&&++L===c&&(E=_),z===f&&++G===o&&(b=_),(B=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=B}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(id={focusedElem:e,selectionRange:r},uc=!1,Ve=n;Ve!==null;)if(n=Ve,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ve=e;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var vt=Ts(r.type,c,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(vt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){$t(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)ad(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ve=e;break}Ve=n.return}}function Yp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:fr(e,r),o&4&&Ko(5,r);break;case 1:if(fr(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(_){$t(r,r.return,_)}else{var c=Ts(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(r,r.return,_)}}o&64&&qp(r),o&512&&Yo(r,r.return);break;case 3:if(fr(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Dg(e,n)}catch(_){$t(r,r.return,_)}}break;case 27:n===null&&o&4&&Qp(r);case 26:case 5:fr(e,r),n===null&&o&4&&Gp(r),o&512&&Yo(r,r.return);break;case 12:fr(e,r);break;case 13:fr(e,r),o&4&&Zp(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Q0.bind(null,r),cA(e,r))));break;case 22:if(o=r.memoizedState!==null||Ui,!o){n=n!==null&&n.memoizedState!==null||he,c=Ui;var f=he;Ui=o,(he=n)&&!f?dr(e,r,(r.subtreeFlags&8772)!==0):fr(e,r),Ui=c,he=f}break;case 30:break;default:fr(e,r)}}function Xp(e){var n=e.alternate;n!==null&&(e.alternate=null,Xp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&tr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,nn=!1;function ki(e,n,r){for(r=r.child;r!==null;)$p(e,n,r),r=r.sibling}function $p(e,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ae,r)}catch{}switch(r.tag){case 26:he||ei(r,n),ki(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:he||ei(r,n);var o=ie,c=nn;vr(r.type)&&(ie=r.stateNode,nn=!1),ki(e,n,r),il(r.stateNode),ie=o,nn=c;break;case 5:he||ei(r,n);case 6:if(o=ie,c=nn,ie=null,ki(e,n,r),ie=o,nn=c,ie!==null)if(nn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{ie.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:ie!==null&&(nn?(e=ie,Ly(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),hl(e)):Ly(ie,r.stateNode));break;case 4:o=ie,c=nn,ie=r.stateNode.containerInfo,nn=!0,ki(e,n,r),ie=o,nn=c;break;case 0:case 11:case 14:case 15:he||hr(2,r,n),he||hr(4,r,n),ki(e,n,r);break;case 1:he||(ei(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Hp(r,n,o)),ki(e,n,r);break;case 21:ki(e,n,r);break;case 22:he=(o=he)||r.memoizedState!==null,ki(e,n,r),he=o;break;default:ki(e,n,r)}}function Zp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hl(e)}catch(r){$t(n,n.return,r)}}function L0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Kp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Kp),n;default:throw Error(s(435,e.tag))}}function Mf(e,n){var r=L0(e);n.forEach(function(o){var c=K0.bind(null,e,o);r.has(o)||(r.add(o),o.then(c,c))})}function cn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=e,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(vr(E.type)){ie=E.stateNode,nn=!1;break t}break;case 5:ie=E.stateNode,nn=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ie===null)throw Error(s(160));$p(f,_,c),ie=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Jp(n,e),n=n.sibling}var kn=null;function Jp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),o&4&&(hr(3,e,e.return),Ko(3,e),hr(5,e,e.return));break;case 1:cn(n,e),hn(e),o&512&&(he||r===null||ei(r,r.return)),o&64&&Ui&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=kn;if(cn(n,e),hn(e),o&512&&(he||r===null||ei(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[$r]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Be(f,o,r),f[Ee]=e,ue(f),o=f;break t;case"link":var _=Qy("link","href",c).get(o+(r.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(E,1);break e}}f=c.createElement(o),Be(f,o,r),c.head.appendChild(f);break;case"meta":if(_=Qy("meta","content",c).get(o+(r.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(E,1);break e}}f=c.createElement(o),Be(f,o,r),c.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ee]=e,ue(f),o=f}e.stateNode=o}else Ky(c,e.type,e.stateNode);else e.stateNode=Fy(c,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Ky(c,e.type,e.stateNode):Fy(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Df(e,e.memoizedProps,r.memoizedProps)}break;case 27:cn(n,e),hn(e),o&512&&(he||r===null||ei(r,r.return)),r!==null&&o&4&&Df(e,e.memoizedProps,r.memoizedProps);break;case 5:if(cn(n,e),hn(e),o&512&&(he||r===null||ei(r,r.return)),e.flags&32){c=e.stateNode;try{_n(c,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Df(e,c,r!==null?r.memoizedProps:c)),o&1024&&(Vf=!0);break;case 6:if(cn(n,e),hn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(ac=null,c=kn,kn=rc(n.containerInfo),cn(n,e),kn=c,hn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{hl(n.containerInfo)}catch(B){$t(e,e.return,B)}Vf&&(Vf=!1,Wp(e));break;case 4:o=kn,kn=rc(e.stateNode.containerInfo),cn(n,e),hn(e),kn=o;break;case 12:cn(n,e),hn(e);break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(zf=pn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Mf(e,o)));break;case 22:c=e.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,L=Ui,G=he;if(Ui=L||c,he=G||b,cn(n,e),he=G,Ui=L,hn(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Ui||he||As(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(b,b.return,B)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){$t(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Mf(e,r))));break;case 19:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Mf(e,o)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Fp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Nf(e);Fu(e,f,c);break;case 5:var _=r.stateNode;r.flags&32&&(_n(_,""),r.flags&=-33);var E=Nf(e);Fu(e,E,_);break;case 3:case 4:var b=r.stateNode.containerInfo,L=Nf(e);Of(e,L,b);break;default:throw Error(s(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Wp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function fr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yp(e,n.alternate,n),n=n.sibling}function As(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:hr(4,n,n.return),As(n);break;case 1:ei(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Hp(n,n.return,r),As(n);break;case 27:il(n.stateNode);case 26:case 5:ei(n,n.return),As(n);break;case 22:n.memoizedState===null&&As(n);break;case 30:As(n);break;default:As(n)}e=e.sibling}}function dr(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:dr(c,f,r),Ko(4,f);break;case 1:if(dr(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Cg(b[c],E)}catch(L){$t(o,o.return,L)}}r&&_&64&&qp(f),Yo(f,f.return);break;case 27:Qp(f);case 26:case 5:dr(c,f,r),r&&o===null&&_&4&&Gp(f),Yo(f,f.return);break;case 12:dr(c,f,r);break;case 13:dr(c,f,r),r&&_&4&&Zp(c,f);break;case 22:f.memoizedState===null&&dr(c,f,r),Yo(f,f.return);break;case 30:break;default:dr(c,f,r)}n=n.sibling}}function xf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Mo(r))}function Pf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e))}function ni(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ty(e,n,r,o),n=n.sibling}function ty(e,n,r,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,r,o),c&2048&&Ko(9,n);break;case 1:ni(e,n,r,o);break;case 3:ni(e,n,r,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e)));break;case 12:if(c&2048){ni(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(n,n.return,b)}}else ni(e,n,r,o);break;case 13:ni(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?ni(e,n,r,o):Xo(e,n):f._visibility&2?ni(e,n,r,o):(f._visibility|=2,va(e,n,r,o,(n.subtreeFlags&10256)!==0)),c&2048&&xf(_,n);break;case 24:ni(e,n,r,o),c&2048&&Pf(n.alternate,n);break;default:ni(e,n,r,o)}}function va(e,n,r,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,E=r,b=o,L=_.flags;switch(_.tag){case 0:case 11:case 15:va(f,_,E,b,c),Ko(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?va(f,_,E,b,c):Xo(f,_):(G._visibility|=2,va(f,_,E,b,c)),c&&L&2048&&xf(_.alternate,_);break;case 24:va(f,_,E,b,c),c&&L&2048&&Pf(_.alternate,_);break;default:va(f,_,E,b,c)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,c=o.flags;switch(o.tag){case 22:Xo(r,o),c&2048&&xf(o.alternate,o);break;case 24:Xo(r,o),c&2048&&Pf(o.alternate,o);break;default:Xo(r,o)}n=n.sibling}}var $o=8192;function Ea(e){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)ey(e),e=e.sibling}function ey(e){switch(e.tag){case 26:Ea(e),e.flags&$o&&e.memoizedState!==null&&SA(kn,e.memoizedState,e.memoizedProps);break;case 5:Ea(e);break;case 3:case 4:var n=kn;kn=rc(e.stateNode.containerInfo),Ea(e),kn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=$o,$o=16777216,Ea(e),$o=n):Ea(e));break;default:Ea(e)}}function ny(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ve=o,ry(o,e)}ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&hr(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qu(e)):Zo(e);break;default:Zo(e)}}function Qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ve=o,ry(o,e)}ny(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:hr(8,n,n.return),Qu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Qu(n));break;default:Qu(n)}e=e.sibling}}function ry(e,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:hr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Mo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ve=o;else t:for(r=e;Ve!==null;){o=Ve;var c=o.sibling,f=o.return;if(Xp(o),o===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var z0={getCacheForType:function(e){var n=Fe(Se),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},B0=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,It=null,Ut=0,Ft=0,fn=null,mr=!1,Ta=!1,Uf=!1,Li=0,le=0,gr=0,Ss=0,kf=0,In=0,Aa=0,Jo=null,rn=null,Lf=!1,zf=0,Ku=1/0,Yu=null,pr=null,ze=0,yr=null,Sa=null,ba=0,Bf=0,jf=null,sy=null,Wo=0,qf=null;function dn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if(q.T!==null){var e=ha;return e!==0?e:Xf()}return Ji()}function ay(){In===0&&(In=(Ut&536870912)===0||Bt?oo():536870912);var e=wn.current;return e!==null&&(e.flags|=32),In}function mn(e,n,r){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),_r(e,Ut,In,!1)),pi(e,r),((Gt&2)===0||e!==Jt)&&(e===Jt&&((Gt&2)===0&&(Ss|=r),le===4&&_r(e,Ut,In,!1)),ii(e))}function oy(e,n,r){if((Gt&6)!==0)throw Error(s(327));var o=!r&&(n&124)===0&&(n&e.expiredLanes)===0||Xr(e,n),c=o?H0(e,n):Ff(e,n,!0),f=o;do{if(c===0){Ta&&!o&&_r(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!j0(r)){c=Ff(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=e;c=Jo;var b=E.current.memoizedState.isDehydrated;if(b&&(Ra(E,_).flags|=256),_=Ff(E,_,!1),_!==2){if(Uf&&!b){E.errorRecoveryDisabledLanes|=f,Ss|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=_}if(f=!1,c!==2)continue}}if(c===1){Ra(e,0),_r(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:_r(o,n,In,!mr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=zf+300-pn(),10<c)){if(_r(o,n,In,!mr),qs(o,0,!0)!==0)break t;o.timeoutHandle=Uy(ly.bind(null,o,r,rn,Yu,Lf,n,In,Ss,Aa,mr,f,2,-0,0),c);break t}ly(o,r,rn,Yu,Lf,n,In,Ss,Aa,mr,f,0,-0,0)}}break}while(!0);ii(e)}function ly(e,n,r,o,c,f,_,E,b,L,G,Y,z,B){if(e.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(al={stylesheets:null,count:0,unsuspend:AA},ey(n),Y=bA(),Y!==null)){e.cancelPendingCommit=Y(gy.bind(null,e,n,f,r,o,c,_,E,b,G,1,z,B)),_r(e,f,_,!L);return}gy(e,n,f,r,o,c,_,E,b)}function j0(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _r(e,n,r,o){n&=~kf,n&=~Ss,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-Ge(c),_=1<<f;o[f]=-1,c&=~_}r!==0&&qn(e,r,n)}function Xu(){return(Gt&6)===0?(tl(0),!1):!0}function Hf(){if(It!==null){if(Ft===0)var e=It.return;else e=It,Ni=ys=null,af(e),ya=null,Go=0,e=It;for(;e!==null;)jp(e.alternate,e),e=e.return;It=null}}function Ra(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,sA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Hf(),Jt=e,It=r=Ii(e.current,null),Ut=n,Ft=0,fn=null,mr=!1,Ta=Xr(e,n),Uf=!1,Aa=In=kf=Ss=gr=le=0,rn=Jo=null,Lf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-Ge(o),f=1<<c;n|=e[c],o&=~f}return Li=n,yu(),r}function uy(e,n){Rt=null,q.H=Uu,n===Po||n===wu?(n=wg(),Ft=3):n===Sg?(n=wg(),Ft=4):Ft=n===Ip?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,It===null&&(le=1,ju(e,An(n,e.current)))}function cy(){var e=q.H;return q.H=Uu,e===null?Uu:e}function hy(){var e=q.A;return q.A=z0,e}function Gf(){le=4,mr||(Ut&4194048)!==Ut&&wn.current!==null||(Ta=!0),(gr&134217727)===0&&(Ss&134217727)===0||Jt===null||_r(Jt,Ut,In,!1)}function Ff(e,n,r){var o=Gt;Gt|=2;var c=cy(),f=hy();(Jt!==e||Ut!==n)&&(Yu=null,Ra(e,n)),n=!1;var _=le;t:do try{if(Ft!==0&&It!==null){var E=It,b=fn;switch(Ft){case 8:Hf(),_=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var L=Ft;if(Ft=0,fn=null,wa(e,E,b,L),r&&Ta){_=0;break t}break;default:L=Ft,Ft=0,fn=null,wa(e,E,b,L)}}q0(),_=le;break}catch(G){uy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ni=ys=null,Gt=o,q.H=c,q.A=f,It===null&&(Jt=null,Ut=0,yu()),_}function q0(){for(;It!==null;)fy(It)}function H0(e,n){var r=Gt;Gt|=2;var o=cy(),c=hy();Jt!==e||Ut!==n?(Yu=null,Ku=pn()+500,Ra(e,n)):Ta=Xr(e,n);t:do try{if(Ft!==0&&It!==null){n=It;var f=fn;e:switch(Ft){case 1:Ft=0,fn=null,wa(e,n,f,1);break;case 2:case 9:if(bg(f)){Ft=0,fn=null,dy(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),ii(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:bg(f)?(Ft=0,fn=null,dy(n)):(Ft=0,fn=null,wa(e,n,f,7));break;case 5:var _=null;switch(It.tag){case 26:_=It.memoizedState;case 5:case 27:var E=It;if(!_||Yy(_)){Ft=0,fn=null;var b=E.sibling;if(b!==null)It=b;else{var L=E.return;L!==null?(It=L,$u(L)):It=null}break e}}Ft=0,fn=null,wa(e,n,f,5);break;case 6:Ft=0,fn=null,wa(e,n,f,6);break;case 8:Hf(),le=6;break t;default:throw Error(s(462))}}G0();break}catch(G){uy(e,G)}while(!0);return Ni=ys=null,q.H=o,q.A=c,Gt=r,It!==null?0:(Jt=null,Ut=0,yu(),le)}function G0(){for(;It!==null&&!io();)fy(It)}function fy(e){var n=zp(e.alternate,e,Li);e.memoizedProps=e.pendingProps,n===null?$u(e):It=n}function dy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Mp(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Mp(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:af(n);default:jp(r,n),n=It=mg(n,Li),n=zp(r,n,Li)}e.memoizedProps=e.pendingProps,n===null?$u(e):It=n}function wa(e,n,r,o){Ni=ys=null,af(n),ya=null,Go=0;var c=n.return;try{if(M0(e,c,n,r,Ut)){le=1,ju(e,An(r,e.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;le=1,ju(e,An(r,e.current)),It=null;return}n.flags&32768?(Bt||o===1?e=!0:Ta||(Ut&536870912)!==0?e=!1:(mr=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),my(n,e)):$u(n)}function $u(e){var n=e;do{if((n.flags&32768)!==0){my(n,mr);return}e=n.return;var r=P0(n.alternate,n,Li);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);le===0&&(le=5)}function my(e,n){do{var r=U0(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);le=6,It=null}function gy(e,n,r,o,c,f,_,E,b){e.cancelPendingCommit=null;do Zu();while(ze!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=xh,uo(e,r,f,_,E,b),e===Jt&&(It=Jt=null,Ut=0),Sa=n,yr=e,ba=r,Bf=f,jf=c,sy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Y0(Fr,function(){return Ey(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,c=et.p,et.p=2,_=Gt,Gt|=4;try{k0(e,n,r)}finally{Gt=_,et.p=c,q.T=o}}ze=1,py(),yy(),_y()}}function py(){if(ze===1){ze=0;var e=yr,n=Sa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=et.p;et.p=2;var c=Gt;Gt|=4;try{Jp(n,e);var f=id,_=rg(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&ig(E.ownerDocument.documentElement,E)){if(b!==null&&Dh(E)){var L=b.start,G=b.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var B=z.getSelection(),vt=E.textContent.length,mt=Math.min(b.start,vt),Xt=b.end===void 0?mt:Math.min(b.end,vt);!B.extend&&mt>Xt&&(_=Xt,Xt=mt,mt=_);var x=ng(E,mt),C=ng(E,Xt);if(x&&C&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==C.node||B.focusOffset!==C.offset)){var k=Y.createRange();k.setStart(x.node,x.offset),B.removeAllRanges(),mt>Xt?(B.addRange(k),B.extend(C.node,C.offset)):(k.setEnd(C.node,C.offset),B.addRange(k))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}uc=!!nd,id=nd=null}finally{Gt=c,et.p=o,q.T=r}}e.current=n,ze=2}}function yy(){if(ze===2){ze=0;var e=yr,n=Sa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=et.p;et.p=2;var c=Gt;Gt|=4;try{Yp(e,n.alternate,n)}finally{Gt=c,et.p=o,q.T=r}}ze=3}}function _y(){if(ze===4||ze===3){ze=0,Ql();var e=yr,n=Sa,r=ba,o=sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Sa=yr=null,vy(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(pr=null),Hs(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,c=et.p,et.p=2,q.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{q.T=n,et.p=c}}(ba&3)!==0&&Zu(),ii(e),c=e.pendingLanes,(r&4194090)!==0&&(c&42)!==0?e===qf?Wo++:(Wo=0,qf=e):Wo=0,tl(0)}}function vy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Mo(n)))}function Zu(e){return py(),yy(),_y(),Ey()}function Ey(){if(ze!==5)return!1;var e=yr,n=Bf;Bf=0;var r=Hs(ba),o=q.T,c=et.p;try{et.p=32>r?32:r,q.T=null,r=jf,jf=null;var f=yr,_=ba;if(ze=0,Sa=yr=null,ba=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,iy(f.current),ty(f,f.current,_,r),Gt=E,tl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{et.p=c,q.T=o,vy(e,n)}}function Ty(e,n,r){n=An(r,n),n=Ef(e.stateNode,n,2),e=or(e,n,2),e!==null&&(pi(e,2),ii(e))}function $t(e,n,r){if(e.tag===3)Ty(e,e,r);else for(;n!==null;){if(n.tag===3){Ty(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(pr===null||!pr.has(o))){e=An(r,e),r=Rp(2),o=or(n,r,2),o!==null&&(wp(r,o,n,e),pi(o,2),ii(o));break}}n=n.return}}function Qf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new B0;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(r)||(Uf=!0,c.add(r),e=F0.bind(null,e,n,r),n.then(e,e))}function F0(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Jt===e&&(Ut&r)===r&&(le===4||le===3&&(Ut&62914560)===Ut&&300>pn()-zf?(Gt&2)===0&&Ra(e,0):kf|=r,Aa===Ut&&(Aa=0)),ii(e)}function Ay(e,n){n===0&&(n=lo()),e=oa(e,n),e!==null&&(pi(e,n),ii(e))}function Q0(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Ay(e,r)}function K0(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Ay(e,r)}function Y0(e,n){return Hr(e,n)}var Ju=null,Ia=null,Kf=!1,Wu=!1,Yf=!1,bs=0;function ii(e){e!==Ia&&e.next===null&&(Ia===null?Ju=Ia=e:Ia=Ia.next=e),Wu=!0,Kf||(Kf=!0,$0())}function tl(e,n){if(!Yf&&Wu){Yf=!0;do for(var r=!1,o=Ju;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ge(42|e)+1)-1,f&=c&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,wy(o,f))}else f=Ut,f=qs(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Xr(o,f)||(r=!0,wy(o,f));o=o.next}while(r);Yf=!1}}function X0(){Sy()}function Sy(){Wu=Kf=!1;var e=0;bs!==0&&(rA()&&(e=bs),bs=0);for(var n=pn(),r=null,o=Ju;o!==null;){var c=o.next,f=by(o,n);f===0?(o.next=null,r===null?Ju=c:r.next=c,c===null&&(Ia=r)):(r=o,(e!==0||(f&3)!==0)&&(Wu=!0)),o=c}tl(e)}function by(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-Ge(f),E=1<<_,b=c[_];b===-1?((E&r)===0||(E&o)!==0)&&(c[_]=ao(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,r=Ut,r=qs(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Gr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Xr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Gr(o),Hs(r)){case 2:case 8:r=Bs;break;case 32:r=Fr;break;case 268435456:r=js;break;default:r=Fr}return o=Ry.bind(null,e),r=Hr(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Gr(o),e.callbackPriority=2,e.callbackNode=null,2}function Ry(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Zu()&&e.callbackNode!==r)return null;var o=Ut;return o=qs(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(oy(e,o,n),by(e,pn()),e.callbackNode!=null&&e.callbackNode===r?Ry.bind(null,e):null)}function wy(e,n){if(Zu())return null;oy(e,n,!0)}function $0(){aA(function(){(Gt&6)!==0?Hr(ro,X0):Sy()})}function Xf(){return bs===0&&(bs=oo()),bs}function Iy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xs(""+e)}function Cy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Z0(e,n,r,o,c){if(n==="submit"&&r&&r.stateNode===c){var f=Iy((c[de]||null).action),_=o.submitter;_&&(n=(n=_[de]||null)?Iy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new $s("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(bs!==0){var b=_?Cy(c,_):new FormData(c);gf(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=_?Cy(c,_):new FormData(c),gf(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var $f=0;$f<Mh.length;$f++){var Zf=Mh[$f],J0=Zf.toLowerCase(),W0=Zf[0].toUpperCase()+Zf.slice(1);Un(J0,"on"+W0)}Un(og,"onAnimationEnd"),Un(lg,"onAnimationIteration"),Un(ug,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(p0,"onTransitionRun"),Un(y0,"onTransitionStart"),Un(_0,"onTransitionCancel"),Un(cg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function Dy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(G){Bu(G)}c.currentTarget=null,f=b}else for(_=0;_<o.length;_++){if(E=o[_],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(G){Bu(G)}c.currentTarget=null,f=b}}}}function Ct(e,n){var r=n[ho];r===void 0&&(r=n[ho]=new Set);var o=e+"__bubble";r.has(o)||(Ny(n,e,2,!1),r.add(o))}function Jf(e,n,r){var o=0;n&&(o|=4),Ny(r,e,o,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[tc]){e[tc]=!0,fo.forEach(function(r){r!=="selectionchange"&&(tA.has(r)||Jf(r,!1,e),Jf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,Jf("selectionchange",!1,n))}}function Ny(e,n,r,o){switch(t_(n)){case 2:var c=IA;break;case 8:c=CA;break;default:c=dd}r=c.bind(null,n,r,e),c=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function td(e,n,r,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===c)break;if(_===4)for(_=o.return;_!==null;){var b=_.tag;if((b===3||b===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;E!==null;){if(_=yi(E),_===null)return;if(b=_.tag,b===5||b===6||b===26||b===27){o=f=_;continue t}E=E.parentNode}}o=o.return}nu(function(){var L=f,G=vn(r),Y=[];t:{var z=hg.get(e);if(z!==void 0){var B=$s,vt=e;switch(e){case"keypress":if(Yn(r)===0)break t;case"keydown":case"keyup":B=na;break;case"focusin":vt="focus",B=Ws;break;case"focusout":vt="blur",B=Ws;break;case"beforeblur":case"afterblur":B=Ws;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=cu;break;case og:case lg:case ug:B=ta;break;case cg:B=fu;break;case"scroll":case"scrollend":B=iu;break;case"wheel":B=ia;break;case"copy":case"cut":case"paste":B=ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ro;break;case"toggle":case"beforetoggle":B=mu}var mt=(n&4)!==0,Xt=!mt&&(e==="scroll"||e==="scrollend"),x=mt?z!==null?z+"Capture":null:z;mt=[];for(var C=L,k;C!==null;){var K=C;if(k=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||k===null||x===null||(K=is(C,x),K!=null&&mt.push(nl(C,K,k))),Xt)break;C=C.return}0<mt.length&&(z=new B(z,vt,null,r,G),Y.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&r!==Ti&&(vt=r.relatedTarget||r.fromElement)&&(yi(vt)||vt[yn]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(vt=r.relatedTarget||r.toElement,B=L,vt=vt?yi(vt):null,vt!==null&&(Xt=h(vt),mt=vt.tag,vt!==Xt||mt!==5&&mt!==27&&mt!==6)&&(vt=null)):(B=null,vt=L),B!==vt)){if(mt=Tn,K="onMouseLeave",x="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Ro,K="onPointerLeave",x="onPointerEnter",C="pointer"),Xt=B==null?z:Gn(B),k=vt==null?z:Gn(vt),z=new mt(K,C+"leave",B,r,G),z.target=Xt,z.relatedTarget=k,K=null,yi(G)===L&&(mt=new mt(x,C+"enter",vt,r,G),mt.target=k,mt.relatedTarget=Xt,K=mt),Xt=K,B&&vt)e:{for(mt=B,x=vt,C=0,k=mt;k;k=Ca(k))C++;for(k=0,K=x;K;K=Ca(K))k++;for(;0<C-k;)mt=Ca(mt),C--;for(;0<k-C;)x=Ca(x),k--;for(;C--;){if(mt===x||x!==null&&mt===x.alternate)break e;mt=Ca(mt),x=Ca(x)}mt=null}else mt=null;B!==null&&Oy(Y,z,B,mt,!1),vt!==null&&Xt!==null&&Oy(Y,Xt,vt,mt,!0)}}t:{if(z=L?Gn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var at=$m;else if(Ae(z))if(Zm)at=d0;else{at=h0;var wt=c0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&_o(L.elementType)&&(at=$m):at=f0;if(at&&(at=at(e,L))){wi(Y,at,r,G);break t}wt&&wt(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&nr(z,"number",z.value)}switch(wt=L?Gn(L):window,e){case"focusin":(Ae(wt)||wt.contentEditable==="true")&&(ra=wt,Nh=L,Co=null);break;case"focusout":Co=Nh=ra=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,sg(Y,r,G);break;case"selectionchange":if(g0)break;case"keydown":case"keyup":sg(Y,r,G)}var ut;if(Zn)t:{switch(e){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else xt?j(e,r)&&(gt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(gt="onCompositionStart");gt&&(p&&r.locale!=="ko"&&(xt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&xt&&(ut=Eo()):(Kn=G,ir="value"in Kn?Kn.value:Kn.textContent,xt=!0)),wt=ec(L,gt),0<wt.length&&(gt=new So(gt,e,null,r,G),Y.push({event:gt,listeners:wt}),ut?gt.data=ut:(ut=tt(r),ut!==null&&(gt.data=ut)))),(ut=m?Te(e,r):Pt(e,r))&&(gt=ec(L,"onBeforeInput"),0<gt.length&&(wt=new So("onBeforeInput","beforeinput",null,r,G),Y.push({event:wt,listeners:gt}),wt.data=ut)),Z0(Y,e,L,r,G)}Dy(Y,n)})}function nl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ec(e,n){for(var r=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=is(e,r),c!=null&&o.unshift(nl(e,c,f)),c=is(e,n),c!=null&&o.push(nl(e,c,f))),e.tag===3)return o;e=e.return}return[]}function Ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Oy(e,n,r,o,c){for(var f=n._reactName,_=[];r!==null&&r!==o;){var E=r,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,c?(L=is(r,f),L!=null&&_.unshift(nl(r,L,b))):c||(L=is(r,f),L!=null&&_.push(nl(r,L,b)))),r=r.return}_.length!==0&&e.push({event:n,listeners:_})}var eA=/\r\n?/g,nA=/\u0000|\uFFFD/g;function Vy(e){return(typeof e=="string"?e:""+e).replace(eA,`
`).replace(nA,"")}function My(e,n){return n=Vy(n),Vy(e)===n}function nc(){}function Yt(e,n,r,o,c,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||_n(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&_n(e,""+o);break;case"className":Fn(e,"class",o);break;case"tabIndex":Fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,r,o);break;case"style":yo(e,o,f);break;case"data":if(n!=="object"){Fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Xs(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(e,n,"name",c.name,c,null),Yt(e,n,"formEncType",c.formEncType,c,null),Yt(e,n,"formMethod",c.formMethod,c,null),Yt(e,n,"formTarget",c.formTarget,c,null)):(Yt(e,n,"encType",c.encType,c,null),Yt(e,n,"method",c.method,c,null),Yt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Xs(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=nc);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Xs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),er(e,"popover",o);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":er(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Sh.get(r)||r,er(e,r,o))}}function ed(e,n,r,o,c,f){switch(r){case"style":yo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?_n(e,o):(typeof o=="number"||typeof o=="bigint")&&_n(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gs.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[de]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,c);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):er(e,r,o)}}}function Be(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(e,n,f,_,r,null)}}c&&Yt(e,n,"srcSet",r.srcSet,r,null),o&&Yt(e,n,"src",r.src,r,null);return;case"input":Ct("invalid",e);var E=f=_=c=null,b=null,L=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":c=G;break;case"type":_=G;break;case"checked":b=G;break;case"defaultChecked":L=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(e,n,o,G,r,null)}}ts(e,f,E,b,L,_,c,!1),Ys(e);return;case"select":Ct("invalid",e),o=_=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Yt(e,n,c,E,r,null)}n=f,r=_,e.multiple=!!o,n!=null?Ei(e,!!o,n,!1):r!=null&&Ei(e,!!o,r,!0);return;case"textarea":Ct("invalid",e),f=c=o=null;for(_ in r)if(r.hasOwnProperty(_)&&(E=r[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,n,_,E,r,null)}es(e,o,c,f),Ys(e);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(o=r[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,n,b,o,r,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)Ct(el[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(o=r[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(e,n,L,o,r,null)}return;default:if(_o(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&ed(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Yt(e,n,E,o,r,null))}function iA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,E=null,b=null,L=null,G=null;for(B in r){var Y=r[B];if(r.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Y;default:o.hasOwnProperty(B)||Yt(e,n,B,null,o,Y)}}for(var z in o){var B=o[z];if(Y=r[z],o.hasOwnProperty(z)&&(B!=null||Y!=null))switch(z){case"type":f=B;break;case"name":c=B;break;case"checked":L=B;break;case"defaultChecked":G=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Y&&Yt(e,n,z,B,o,Y)}}on(e,_,E,b,L,G,f,c);return;case"select":B=_=E=z=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||Yt(e,n,f,null,o,b)}for(c in o)if(f=o[c],b=r[c],o.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==b&&Yt(e,n,c,f,o,b)}n=E,r=_,o=B,z!=null?Ei(e,!!r,z,!1):!!o!=!!r&&(n!=null?Ei(e,!!r,n,!0):Ei(e,!!r,r?[]:"",!1));return;case"textarea":B=z=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,n,E,null,o,c)}for(_ in o)if(c=o[_],f=r[_],o.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":z=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(e,n,_,c,o,f)}Qt(e,z,B);return;case"option":for(var vt in r)if(z=r[vt],r.hasOwnProperty(vt)&&z!=null&&!o.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Yt(e,n,vt,null,o,z)}for(b in o)if(z=o[b],B=r[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,n,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)z=r[mt],r.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&Yt(e,n,mt,null,o,z);for(L in o)if(z=o[L],B=r[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Yt(e,n,L,z,o,B)}return;default:if(_o(n)){for(var Xt in r)z=r[Xt],r.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&ed(e,n,Xt,void 0,o,z);for(G in o)z=o[G],B=r[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||ed(e,n,G,z,o,B);return}}for(var x in r)z=r[x],r.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Yt(e,n,x,null,o,z);for(Y in o)z=o[Y],B=r[Y],!o.hasOwnProperty(Y)||z===B||z==null&&B==null||Yt(e,n,Y,z,o,B)}var nd=null,id=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function xy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sd=null;function rA(){var e=window.event;return e&&e.type==="popstate"?e===sd?!1:(sd=e,!0):(sd=null,!1)}var Uy=typeof setTimeout=="function"?setTimeout:void 0,sA=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,aA=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(e){return ky.resolve(null).then(e).catch(oA)}:Uy;function oA(e){setTimeout(function(){throw e})}function vr(e){return e==="head"}function Ly(e,n){var r=n,o=0,c=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<o&&8>o){r=o;var _=e.ownerDocument;if(r&1&&il(_.documentElement),r&2&&il(_.body),r&4)for(r=_.head,il(r),_=r.firstChild;_;){var E=_.nextSibling,b=_.nodeName;_[$r]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&_.rel.toLowerCase()==="stylesheet"||r.removeChild(_),_=E}}if(c===0){e.removeChild(f),hl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:o=r.charCodeAt(0)-48;else o=0;r=f}while(r);hl(n)}function ad(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ad(r),tr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function lA(e,n,r,o){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[$r])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function uA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ln(e.nextSibling),e===null))return null;return e}function od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function cA(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var ld=null;function zy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function By(e,n,r){switch(n=ic(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);tr(e)}var Cn=new Map,jy=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zi=et.d;et.d={f:hA,r:fA,D:dA,C:mA,L:gA,m:pA,X:_A,S:yA,M:vA};function hA(){var e=zi.f(),n=Xu();return e||n}function fA(e){var n=Hn(e);n!==null&&n.tag===5&&n.type==="form"?op(n):zi.r(e)}var Da=typeof document>"u"?null:document;function qy(e,n,r){var o=Da;if(o&&typeof n=="string"&&n){var c=me(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),jy.has(c)||(jy.add(c),e={rel:e,crossOrigin:r,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Be(n,"link",e),ue(n),o.head.appendChild(n)))}}function dA(e){zi.D(e),qy("dns-prefetch",e,null)}function mA(e,n){zi.C(e,n),qy("preconnect",e,n)}function gA(e,n,r){zi.L(e,n,r);var o=Da;if(o&&e&&n){var c='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+me(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+me(r.imageSizes)+'"]')):c+='[href="'+me(e)+'"]';var f=c;switch(n){case"style":f=Na(e);break;case"script":f=Oa(e)}Cn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Cn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(rl(f))||n==="script"&&o.querySelector(sl(f))||(n=o.createElement("link"),Be(n,"link",e),ue(n),o.head.appendChild(n)))}}function pA(e,n){zi.m(e,n);var r=Da;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!Cn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Cn.set(f,e),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(sl(f)))return}o=r.createElement("link"),Be(o,"link",e),ue(o),r.head.appendChild(o)}}}function yA(e,n,r){zi.S(e,n,r);var o=Da;if(o&&e){var c=Ze(o).hoistableStyles,f=Na(e);n=n||"default";var _=c.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(rl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Cn.get(f))&&ud(e,r);var b=_=o.createElement("link");ue(b),Be(b,"link",e),b._p=new Promise(function(L,G){b.onload=L,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},c.set(f,_)}}}function _A(e,n){zi.X(e,n);var r=Da;if(r&&e){var o=Ze(r).hoistableScripts,c=Oa(e),f=o.get(c);f||(f=r.querySelector(sl(c)),f||(e=A({src:e,async:!0},n),(n=Cn.get(c))&&cd(e,n),f=r.createElement("script"),ue(f),Be(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function vA(e,n){zi.M(e,n);var r=Da;if(r&&e){var o=Ze(r).hoistableScripts,c=Oa(e),f=o.get(c);f||(f=r.querySelector(sl(c)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Cn.get(c))&&cd(e,n),f=r.createElement("script"),ue(f),Be(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Hy(e,n,r,o){var c=(c=ht.current)?rc(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Na(r.href),r=Ze(c).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Na(r.href);var f=Ze(c).hoistableStyles,_=f.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=c.querySelector(rl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Cn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(e,r),f||EA(c,e,r,_.state))),n&&o===null)throw Error(s(528,""));return _}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(r),r=Ze(c).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Na(e){return'href="'+me(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function Gy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function EA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Be(n,"link",r),ue(n),e.head.appendChild(n))}function Oa(e){return'[src="'+me(e)+'"]'}function sl(e){return"script[async]"+e}function Fy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+me(r.href)+'"]');if(o)return n.instance=o,ue(o),o;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ue(o),Be(o,"style",c),sc(o,r.precedence,e),n.instance=o;case"stylesheet":c=Na(r.href);var f=e.querySelector(rl(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;o=Gy(r),(c=Cn.get(c))&&ud(o,c),f=(e.ownerDocument||e).createElement("link"),ue(f);var _=f;return _._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),Be(f,"link",o),n.state.loading|=4,sc(f,r.precedence,e),n.instance=f;case"script":return f=Oa(r.src),(c=e.querySelector(sl(f)))?(n.instance=c,ue(c),c):(o=r,(c=Cn.get(f))&&(o=A({},r),cd(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),ue(c),Be(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,sc(o,r.precedence,e));return n.instance}function sc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ac=null;function Qy(e,n,r){if(ac===null){var o=new Map,c=ac=new Map;c.set(r,o)}else c=ac,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[$r]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function Ky(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function TA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Yy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var al=null;function AA(){}function SA(e,n,r){if(al===null)throw Error(s(475));var o=al;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Na(r.href),f=e.querySelector(rl(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=oc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,ue(f);return}f=e.ownerDocument||e,r=Gy(r),(c=Cn.get(c))&&ud(r,c),f=f.createElement("link"),ue(f);var _=f;_._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),Be(f,"link",r),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=oc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function bA(){if(al===null)throw Error(s(475));var e=al;return e.stylesheets&&e.count===0&&hd(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&hd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function oc(){if(this.count--,this.count===0){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function hd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,n.forEach(RA,e),lc=null,oc.call(e))}function RA(e,n){if(!(n.state.loading&4)){var r=lc.get(e);if(r)var o=r.get(null);else{r=new Map,lc.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),o=_)}o&&r.set(null,o)}c=n.instance,_=c.getAttribute("data-precedence"),f=r.get(_)||o,f===o&&r.set(null,c),r.set(_,c),this.count++,o=oc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:ct,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function wA(e,n,r,o,c,f,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Xy(e,n,r,o,c,f,_,E,b,L,G,Y){return e=new wA(e,n,r,_,E,b,L,Y),n=1,f===!0&&(n|=24),f=un(3,null,null,n),e.current=f,f.stateNode=e,n=Fh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Xh(f),e}function $y(e){return e?(e=la,e):la}function Zy(e,n,r,o,c,f){c=$y(c),o.context===null?o.context=c:o.pendingContext=c,o=ar(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=or(e,o,n),r!==null&&(mn(r,e,n),ko(r,e,n))}function Jy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function fd(e,n){Jy(e,n),(e=e.alternate)&&Jy(e,n)}function Wy(e){if(e.tag===13){var n=oa(e,67108864);n!==null&&mn(n,e,67108864),fd(e,67108864)}}var uc=!0;function IA(e,n,r,o){var c=q.T;q.T=null;var f=et.p;try{et.p=2,dd(e,n,r,o)}finally{et.p=f,q.T=c}}function CA(e,n,r,o){var c=q.T;q.T=null;var f=et.p;try{et.p=8,dd(e,n,r,o)}finally{et.p=f,q.T=c}}function dd(e,n,r,o){if(uc){var c=md(o);if(c===null)td(e,n,o,cc,r),e_(e,o);else if(NA(c,e,n,r,o))o.stopPropagation();else if(e_(e,o),n&4&&-1<DA.indexOf(e)){for(;c!==null;){var f=Hn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Mn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var b=1<<31-Ge(_);E.entanglements[1]|=b,_&=~b}ii(f),(Gt&6)===0&&(Ku=pn()+500,tl(0))}}break;case 13:E=oa(f,2),E!==null&&mn(E,f,2),Xu(),fd(f,2)}if(f=md(o),f===null&&td(e,n,o,cc,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else td(e,n,o,null,r)}}function md(e){return e=vn(e),gd(e)}var cc=null;function gd(e){if(cc=null,e=yi(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function t_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yh()){case ro:return 2;case Bs:return 8;case Fr:case _h:return 32;case js:return 268435456;default:return 32}default:return 32}}var pd=!1,Er=null,Tr=null,Ar=null,ll=new Map,ul=new Map,Sr=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(e,n){switch(e){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,r,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Hn(n),n!==null&&Wy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function NA(e,n,r,o,c){switch(n){case"focusin":return Er=cl(Er,e,n,r,o,c),!0;case"dragenter":return Tr=cl(Tr,e,n,r,o,c),!0;case"mouseover":return Ar=cl(Ar,e,n,r,o,c),!0;case"pointerover":var f=c.pointerId;return ll.set(f,cl(ll.get(f)||null,e,n,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,ul.set(f,cl(ul.get(f)||null,e,n,r,o,c)),!0}return!1}function n_(e){var n=yi(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Xl(e.priority,function(){if(r.tag===13){var o=dn();o=Zi(o);var c=oa(r,o);c!==null&&mn(c,r,o),fd(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=md(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Ti=o,r.target.dispatchEvent(o),Ti=null}else return n=Hn(r),n!==null&&Wy(n),e.blockedOn=r,!1;n.shift()}return!0}function i_(e,n,r){hc(e)&&r.delete(n)}function OA(){pd=!1,Er!==null&&hc(Er)&&(Er=null),Tr!==null&&hc(Tr)&&(Tr=null),Ar!==null&&hc(Ar)&&(Ar=null),ll.forEach(i_),ul.forEach(i_)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,pd||(pd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,OA)))}var dc=null;function r_(e){dc!==e&&(dc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(gd(o||r)===null)continue;break}var f=Hn(r);f!==null&&(e.splice(n,3),n-=3,gf(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function hl(e){function n(b){return fc(b,e)}Er!==null&&fc(Er,e),Tr!==null&&fc(Tr,e),Ar!==null&&fc(Ar,e),ll.forEach(n),ul.forEach(n);for(var r=0;r<Sr.length;r++){var o=Sr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Sr.length&&(r=Sr[0],r.blockedOn===null);)n_(r),r.blockedOn===null&&Sr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],_=c[de]||null;if(typeof f=="function")_||r_(r);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[de]||null)E=_.formAction;else if(gd(c)!==null)continue}else E=_.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),r_(r)}}}function yd(e){this._internalRoot=e}mc.prototype.render=yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=dn();Zy(r,o,e,n,null,null)},mc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Zy(e.current,2,null,e,null,null),Xu(),n[yn]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ji();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Sr.length&&n!==0&&n<Sr[r].priority;r++);Sr.splice(r,0,e),r===0&&n_(e)}};var s_=t.version;if(s_!=="19.1.1")throw Error(s(527,s_,"19.1.1"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var VA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{ae=gc.inject(VA),Ht=gc}catch{}}return dl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",c=Tp,f=Ap,_=Sp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Xy(e,1,!1,null,null,r,o,c,f,_,E,null),e[yn]=n.current,Wf(e),new yd(n)},dl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,c="",f=Tp,_=Ap,E=Sp,b=null,L=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(L=r.formState)),n=Xy(e,1,!0,n,r??null,o,c,f,_,E,b,L),n.context=$y(null),r=n.current,o=dn(),o=Zi(o),c=ar(o),c.callback=null,or(r,c,o),r=o,n.current.lanes=r,pi(n,r),ii(n),e[yn]=n.current,Wf(e),new mc(n)},dl.version="19.1.1",dl}var g_;function qA(){if(g_)return Ed.exports;g_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ed.exports=jA(),Ed.exports}var HA=qA();const GA=()=>{};var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},FA=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=a[i++];t[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=a[i++],d=a[i++],g=a[i++],y=((l&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},Fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const h=a[l],d=l+1<a.length,g=d?a[l+1]:0,y=l+2<a.length,v=y?a[l+2]:0,A=h>>2,D=(h&3)<<4|g>>4;let N=(g&15)<<2|v>>6,F=v&63;y||(F=64,d||(N=64)),s.push(i[A],i[D],i[N],i[F])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Gv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):FA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const h=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const D=l<a.length?i[a.charAt(l)]:64;if(++l,h==null||g==null||v==null||D==null)throw new QA;const N=h<<2|g>>4;if(s.push(N),v!==64){const F=g<<4&240|v>>2;if(s.push(F),D!==64){const J=v<<6&192|D;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class QA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KA=function(a){const t=Gv(a);return Fv.encodeByteArray(t,!0)},xc=function(a){return KA(a).replace(/\./g,"")},Qv=function(a){try{return Fv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=()=>YA().__FIREBASE_DEFAULTS__,$A=()=>{if(typeof process>"u"||typeof p_>"u")return;const a=p_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},ZA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Qv(a[1]);return t&&JSON.parse(t)},th=()=>{try{return GA()||XA()||$A()||ZA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Kv=a=>th()?.emulatorHosts?.[a],JA=a=>{const t=Kv(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},Yv=()=>th()?.config,Xv=a=>th()?.[`_${a}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $v(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[xc(JSON.stringify(i)),xc(JSON.stringify(d)),""].join(".")}const vl={};function eS(){const a={prod:[],emulator:[]};for(const t of Object.keys(vl))vl[t]?a.emulator.push(t):a.prod.push(t);return a}function nS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let y_=!1;function Zv(a,t){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||vl[a]===t||vl[a]||y_)return;vl[a]=t;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",h=eS().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,F){N.setAttribute("width","24"),N.setAttribute("id",F),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{y_=!0,d()},N}function A(N,F){N.setAttribute("id",F),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function D(){const N=nS(s),F=i("text"),J=document.getElementById(F)||document.createElement("span"),nt=i("learnmore"),W=document.getElementById(nt)||document.createElement("a"),ft=i("preprendIcon"),pt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ct=N.element;g(ct),A(W,nt);const Vt=v();y(pt,ft),ct.append(pt,J,W,Vt),document.body.appendChild(ct)}h?(J.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function rS(){const a=th()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function oS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lS(){const a=$e();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function uS(){return!rS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cS(){try{return typeof indexedDB=="object"}catch{return!1}}function hS(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="FirebaseError";class Xi extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=fS,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?dS(h,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Xi(l,g,s)}}function dS(a,t){return a.replace(mS,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const mS=/\{\$([^}]+)}/g;function gS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Os(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const h=a[l],d=t[l];if(__(h)&&__(d)){if(!Os(h,d))return!1}else if(h!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function __(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function pS(a,t){const i=new yS(a,t);return i.subscribe.bind(i)}class yS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");_S(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=bd),l.error===void 0&&(l.error=bd),l.complete===void 0&&(l.complete=bd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _S(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function bd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(a){return a&&a._delegate?a._delegate:a}class Vs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new WA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(TS(t))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(t=ws){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ws){return this.instances.has(t)}getOptions(t=ws){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const h=this.instances.get(s);return h&&t(h,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ES(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ws){return this.component?this.component.multipleInstances?t:ws:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ES(a){return a===ws?void 0:a}function TS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new vS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Dt||(Dt={}));const SS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},bS=Dt.INFO,RS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},wS=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=RS[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cm{constructor(t){this.name=t,this._logLevel=bS,this._logHandler=wS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const IS=(a,t)=>t.some(i=>a instanceof i);let v_,E_;function CS(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DS(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jv=new WeakMap,Ld=new WeakMap,Wv=new WeakMap,Rd=new WeakMap,hm=new WeakMap;function NS(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Or(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Jv.set(i,a)}).catch(()=>{}),hm.set(t,a),t}function OS(a){if(Ld.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Ld.set(a,t)}let zd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Ld.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Wv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Or(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function VS(a){zd=a(zd)}function MS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(wd(this),t,...i);return Wv.set(s,t.sort?t.sort():[t]),Or(s)}:DS().includes(a)?function(...t){return a.apply(wd(this),t),Or(Jv.get(this))}:function(...t){return Or(a.apply(wd(this),t))}}function xS(a){return typeof a=="function"?MS(a):(a instanceof IDBTransaction&&OS(a),IS(a,CS())?new Proxy(a,zd):a)}function Or(a){if(a instanceof IDBRequest)return NS(a);if(Rd.has(a))return Rd.get(a);const t=xS(a);return t!==a&&(Rd.set(a,t),hm.set(t,a)),t}const wd=a=>hm.get(a);function PS(a,t,{blocked:i,upgrade:s,blocking:l,terminated:h}={}){const d=indexedDB.open(a,t),g=Or(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Or(d.result),y.oldVersion,y.newVersion,Or(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const US=["get","getKey","getAll","getAllKeys","count"],kS=["put","add","delete","clear"],Id=new Map;function T_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Id.get(t))return Id.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=kS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||US.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&y.done]))[0]};return Id.set(t,h),h}VS(a=>({...a,get:(t,i,s)=>T_(t,i)||a.get(t,i,s),has:(t,i)=>!!T_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function zS(a){return a.getComponent()?.type==="VERSION"}const Bd="@firebase/app",A_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new cm("@firebase/app"),BS="@firebase/app-compat",jS="@firebase/analytics-compat",qS="@firebase/analytics",HS="@firebase/app-check-compat",GS="@firebase/app-check",FS="@firebase/auth",QS="@firebase/auth-compat",KS="@firebase/database",YS="@firebase/data-connect",XS="@firebase/database-compat",$S="@firebase/functions",ZS="@firebase/functions-compat",JS="@firebase/installations",WS="@firebase/installations-compat",t1="@firebase/messaging",e1="@firebase/messaging-compat",n1="@firebase/performance",i1="@firebase/performance-compat",r1="@firebase/remote-config",s1="@firebase/remote-config-compat",a1="@firebase/storage",o1="@firebase/storage-compat",l1="@firebase/firestore",u1="@firebase/ai",c1="@firebase/firestore-compat",h1="firebase",f1="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",d1={[Bd]:"fire-core",[BS]:"fire-core-compat",[qS]:"fire-analytics",[jS]:"fire-analytics-compat",[GS]:"fire-app-check",[HS]:"fire-app-check-compat",[FS]:"fire-auth",[QS]:"fire-auth-compat",[KS]:"fire-rtdb",[YS]:"fire-data-connect",[XS]:"fire-rtdb-compat",[$S]:"fire-fn",[ZS]:"fire-fn-compat",[JS]:"fire-iid",[WS]:"fire-iid-compat",[t1]:"fire-fcm",[e1]:"fire-fcm-compat",[n1]:"fire-perf",[i1]:"fire-perf-compat",[r1]:"fire-rc",[s1]:"fire-rc-compat",[a1]:"fire-gcs",[o1]:"fire-gcs-compat",[l1]:"fire-fst",[c1]:"fire-fst-compat",[u1]:"fire-vertex","fire-js":"fire-js",[h1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,m1=new Map,qd=new Map;function S_(a,t){try{a.container.addComponent(t)}catch(i){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ha(a){const t=a.name;if(qd.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,a);for(const i of Pc.values())S_(i,a);for(const i of m1.values())S_(i,a);return!0}function fm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Nn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new xl("app","Firebase",g1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=f1;function tE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:jd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Vr.create("bad-app-name",{appName:String(l)});if(i||(i=Yv()),!i)throw Vr.create("no-options");const h=Pc.get(l);if(h){if(Os(i,h.options)&&Os(s,h.config))return h;throw Vr.create("duplicate-app",{appName:l})}const d=new AS(l);for(const y of qd.values())d.addComponent(y);const g=new p1(i,s,d);return Pc.set(l,g),g}function eE(a=jd){const t=Pc.get(a);if(!t&&a===jd&&Yv())return tE();if(!t)throw Vr.create("no-app",{appName:a});return t}function Mr(a,t,i){let s=d1[a]??a;i&&(s+=`-${i}`);const l=s.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(d.join(" "));return}Ha(new Vs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="firebase-heartbeat-database",_1=1,Rl="firebase-heartbeat-store";let Cd=null;function nE(){return Cd||(Cd=PS(y1,_1,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Rl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Vr.create("idb-open",{originalErrorMessage:a.message})})),Cd}async function v1(a){try{const i=(await nE()).transaction(Rl),s=await i.objectStore(Rl).get(iE(a));return await i.done,s}catch(t){if(t instanceof Xi)Hi.warn(t.message);else{const i=Vr.create("idb-get",{originalErrorMessage:t?.message});Hi.warn(i.message)}}}async function b_(a,t){try{const s=(await nE()).transaction(Rl,"readwrite");await s.objectStore(Rl).put(t,iE(a)),await s.done}catch(i){if(i instanceof Xi)Hi.warn(i.message);else{const s=Vr.create("idb-set",{originalErrorMessage:i?.message});Hi.warn(s.message)}}}function iE(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=1024,T1=30;class A1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new b1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=R_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>T1){const l=R1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=R_(),{heartbeatsToSend:i,unsentEntries:s}=S1(this._heartbeatsCache.heartbeats),l=xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Hi.warn(t),""}}}function R_(){return new Date().toISOString().substring(0,10)}function S1(a,t=E1){const i=[];let s=a.slice();for(const l of a){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),w_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),w_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class b1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cS()?hS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await v1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return b_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return b_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function w_(a){return xc(JSON.stringify({version:2,heartbeats:a})).length}function R1(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(a){Ha(new Vs("platform-logger",t=>new LS(t),"PRIVATE")),Ha(new Vs("heartbeat",t=>new A1(t),"PRIVATE")),Mr(Bd,A_,a),Mr(Bd,A_,"esm2020"),Mr("fire-js","")}w1("");var I1="firebase",C1="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(I1,C1,"app");function rE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D1=rE,sE=new xl("auth","Firebase",rE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new cm("@firebase/auth");function N1(a,...t){Uc.logLevel<=Dt.WARN&&Uc.warn(`Auth (${Za}): ${a}`,...t)}function Sc(a,...t){Uc.logLevel<=Dt.ERROR&&Uc.error(`Auth (${Za}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(a,...t){throw dm(a,...t)}function si(a,...t){return dm(a,...t)}function aE(a,t,i){const s={...D1(),[t]:i};return new xl("auth","Firebase",s).create(t,{appName:a.name})}function qi(a){return aE(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dm(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return sE.create(a,...t)}function Et(a,t,...i){if(!a)throw dm(t,...i)}function Bi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Sc(t),new Error(t)}function Fi(a,t){a||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){return typeof self<"u"&&self.location?.href||""}function O1(){return I_()==="http:"||I_()==="https:"}function I_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O1()||aS()||"connection"in navigator)?navigator.onLine:!0}function M1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,i){this.shortDelay=t,this.longDelay=i,Fi(i>t,"Short delay should be less than long delay!"),this.isMobile=iS()||oS()}get(){return V1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(a,t){Fi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],U1=new Ul(3e4,6e4);function kl(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function Ja(a,t,i,s,l={}){return lE(a,l,async()=>{let h={},d={};s&&(t==="GET"?d=s:h={body:JSON.stringify(s)});const g=Pl({key:a.config.apiKey,...d}).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const v={method:t,headers:y,...h};return sS()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&$a(a.emulatorConfig.host)&&(v.credentials="include"),oE.fetch()(await uE(a,a.config.apiHost,i,g),v)})}async function lE(a,t,i){a._canInitEmulator=!1;const s={...x1,...t};try{const l=new k1(a),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw pc(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[y,v]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw pc(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw pc(a,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw aE(a,A,v);Gi(a,A)}}catch(l){if(l instanceof Xi)throw l;Gi(a,"network-request-failed",{message:String(l)})}}async function gm(a,t,i,s,l={}){const h=await Ja(a,t,i,s,l);return"mfaPendingCredential"in h&&Gi(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function uE(a,t,i,s){const l=`${t}${i}?${s}`,h=a,d=h.config.emulator?mm(a.config,l):`${a.config.apiScheme}://${l}`;return P1.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class k1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(si(this.auth,"network-request-failed")),U1.get())})}}function pc(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=si(a,t,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(a,t){return Ja(a,"POST","/v1/accounts:delete",t)}async function kc(a,t){return Ja(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function z1(a,t=!1){const i=gn(a),s=await i.getIdToken(t),l=pm(s);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:s,authTime:El(Dd(l.auth_time)),issuedAtTime:El(Dd(l.iat)),expirationTime:El(Dd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Dd(a){return Number(a)*1e3}function pm(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Qv(i);return l?JSON.parse(l):(Sc("Failed to decode base64 JWT payload"),null)}catch(l){return Sc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function C_(a){const t=pm(a);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof Xi&&B1(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function B1({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(a){const t=a.auth,i=await a.getIdToken(),s=await wl(a,kc(t,{idToken:i}));Et(s?.users.length,t,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const h=l.providerUserInfo?.length?cE(l.providerUserInfo):[],d=H1(a.providerData,h),g=a.isAnonymous,y=!(a.email&&l.passwordHash)&&!d?.length,v=g?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(a,A)}async function q1(a){const t=gn(a);await Lc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function H1(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function cE(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(a,t){const i=await lE(a,{},async()=>{const s=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=a.config,d=await uE(a,l,"/v1/token",`key=${h}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return a.emulatorConfig&&$a(a.emulatorConfig.host)&&(y.credentials="include"),oE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function F1(a,t){return Ja(a,"POST","/v2/accounts:revokeToken",kl(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):C_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=C_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:h}=await G1(t,i);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:h}=i,d=new La;return s&&(Et(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(Et(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(a,t){Et(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class zn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new j1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await wl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return z1(this,t)}reload(){return q1(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Lc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(qi(this.auth));const t=await this.getIdToken();return await wl(this,L1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:D,emailVerified:N,isAnonymous:F,providerData:J,stsTokenManager:nt}=i;Et(D&&nt,t,"internal-error");const W=La.fromJSON(this.name,nt);Et(typeof D=="string",t,"internal-error"),Rr(s,t.name),Rr(l,t.name),Et(typeof N=="boolean",t,"internal-error"),Et(typeof F=="boolean",t,"internal-error"),Rr(h,t.name),Rr(d,t.name),Rr(g,t.name),Rr(y,t.name),Rr(v,t.name),Rr(A,t.name);const ft=new zn({uid:D,auth:t,email:l,emailVerified:N,displayName:s,isAnonymous:F,photoURL:d,phoneNumber:h,tenantId:g,stsTokenManager:W,createdAt:v,lastLoginAt:A});return J&&Array.isArray(J)&&(ft.providerData=J.map(pt=>({...pt}))),y&&(ft._redirectEventId=y),ft}static async _fromIdTokenResponse(t,i,s=!1){const l=new La;l.updateFromServerResponse(i);const h=new zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Lc(h),h}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?cE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,g=new La;g.updateFromIdToken(s);const y=new zn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;function ji(a){Fi(a instanceof Function,"Expected a class definition");let t=D_.get(a);return t?(Fi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,D_.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}hE.type="NONE";const N_=hE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(a,t,i){return`firebase:${a}:${t}:${i}`}class za{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=bc(this.userKey,l.apiKey,h),this.fullPersistenceKey=bc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await kc(this.auth,{idToken:t}).catch(()=>{});return i?zn._fromGetAccountInfoResponse(this.auth,i,t):null}return zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new za(ji(N_),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=l[0]||ji(N_);const d=bc(s,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){let D;if(typeof A=="string"){const N=await kc(t,{idToken:A}).catch(()=>{});if(!N)break;D=await zn._fromGetAccountInfoResponse(t,N,A)}else D=zn._fromJSON(t,A);v!==h&&(g=D),h=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new za(h,t,s):(h=y[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new za(h,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yE(t))return"Blackberry";if(_E(t))return"Webos";if(dE(t))return"Safari";if((t.includes("chrome/")||mE(t))&&!t.includes("edge/"))return"Chrome";if(pE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if(s?.length===2)return s[1]}return"Other"}function fE(a=$e()){return/firefox\//i.test(a)}function dE(a=$e()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mE(a=$e()){return/crios\//i.test(a)}function gE(a=$e()){return/iemobile/i.test(a)}function pE(a=$e()){return/android/i.test(a)}function yE(a=$e()){return/blackberry/i.test(a)}function _E(a=$e()){return/webos/i.test(a)}function ym(a=$e()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Q1(a=$e()){return ym(a)&&!!window.navigator?.standalone}function K1(){return lS()&&document.documentMode===10}function vE(a=$e()){return ym(a)||pE(a)||_E(a)||yE(a)||/windows phone/i.test(a)||gE(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(a,t=[]){let i;switch(a){case"Browser":i=O_($e());break;case"Worker":i=`${O_($e())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Za}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=h=>new Promise((d,g)=>{try{const y=t(h);d(y)}catch(y){g(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(a,t={}){return Ja(a,"GET","/v2/passwordPolicy",kl(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=6;class Z1{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??$1,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V_(this),this.idTokenSubscription=new V_(this),this.beforeStateQueue=new Y1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await kc(this,{idToken:t}),s=await zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Nn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Lc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=M1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Nn(this.app))return Promise.reject(qi(this));const i=t?gn(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Nn(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await X1(this),i=new Z1(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new xl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await F1(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ji(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=EE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&N1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ll(a){return gn(a)}class V_{constructor(t){this.auth=t,this.observer=null,this.addObserver=pS(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W1(a){_m=a}function tb(a){return _m.loadJS(a)}function eb(){return _m.gapiScript}function nb(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(a,t){const i=fm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Os(h,t??{}))return l;Gi(l,"already-initialized")}return i.initialize({options:t})}function rb(a,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(ji);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t?.popupRedirectResolver)}function sb(a,t,i){const s=Ll(a);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,h=TE(t),{host:d,port:g}=ab(t),y=g===null?"":`:${g}`,v={url:`${h}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Os(v,s.config.emulator)&&Os(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,$a(d)?($v(`${h}//${d}${y}`),Zv("Auth",!0)):ob()}function TE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function ab(a){const t=TE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:M_(s.substr(h.length+1))}}else{const[h,d]=s.split(":");return{host:h,port:M_(d)}}}function M_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function ob(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,i){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(a,t){return gm(a,"POST","/v1/accounts:signInWithIdp",kl(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="http://localhost";class Ms extends AE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ms(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Gi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...h}=i;if(!s||!l)return null;const d=new Ms(s,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ba(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ba(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ba(t,i)}buildRequest(){const t={requestUri:lb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Pl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends SE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends zl{constructor(){super("facebook.com")}static credential(t){return Ms._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ms._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Ir.credential(i,s)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends zl{constructor(){super("github.com")}static credential(t){return Ms._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cr.credential(t.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends zl{constructor(){super("twitter.com")}static credential(t,i){return Ms._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Dr.credential(i,s)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(a,t){return gm(a,"POST","/v1/accounts:signUp",kl(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const h=await zn._fromIdTokenResponse(t,s,l),d=x_(s);return new Qi({user:h,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=x_(s);return new Qi({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function x_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cb(a){if(Nn(a.app))return Promise.reject(qi(a));const t=Ll(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Qi({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ub(t,{returnSecureToken:!0}),s=await Qi._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Xi{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new zc(t,i,s,l)}}function bE(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(a,h,t,s):h})}async function hb(a,t,i=!1){const s=await wl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Qi._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(a,t,i=!1){const{auth:s}=a;if(Nn(s.app))return Promise.reject(qi(s));const l="reauthenticate";try{const h=await wl(a,bE(s,l,t,a),i);Et(h.idToken,s,"internal-error");const d=pm(h.idToken);Et(d,s,"internal-error");const{sub:g}=d;return Et(a.uid===g,s,"user-mismatch"),Qi._forOperation(a,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Gi(s,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(a,t,i=!1){if(Nn(a.app))return Promise.reject(qi(a));const s="signIn",l=await bE(a,s,t),h=await Qi._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(h.user),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(a,t){return gm(a,"POST","/v1/accounts:signInWithCustomToken",kl(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(a,t){if(Nn(a.app))return Promise.reject(qi(a));const i=Ll(a),s=await mb(i,{token:t,returnSecureToken:!0}),l=await Qi._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function pb(a,t,i,s){return gn(a).onIdTokenChanged(t,i,s)}function yb(a,t,i){return gn(a).beforeAuthStateChanged(t,i)}function _b(a,t,i,s){return gn(a).onAuthStateChanged(t,i,s)}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=1e3,Eb=10;class wE extends RE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},h=this.storage.getItem(s);K1()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Eb):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},vb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}wE.type="LOCAL";const Tb=wE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends RE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}IE.type="SESSION";const CE=IE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new eh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,h)),y=await Ab(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((g,y)=>{const v=vm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(D){const N=D;if(N.data.eventId===v)switch(N.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(N.data.response);break;default:clearTimeout(A),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function bb(a){ai().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function Rb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wb(){return navigator?.serviceWorker?.controller||null}function Ib(){return DE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="firebaseLocalStorageDb",Cb=1,jc="firebaseLocalStorage",OE="fbase_key";class Bl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function nh(a,t){return a.transaction([jc],t?"readwrite":"readonly").objectStore(jc)}function Db(){const a=indexedDB.deleteDatabase(NE);return new Bl(a).toPromise()}function Fd(){const a=indexedDB.open(NE,Cb);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(jc,{keyPath:OE})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(jc)?t(s):(s.close(),await Db(),t(await Fd()))})})}async function P_(a,t,i){const s=nh(a,!0).put({[OE]:t,value:i});return new Bl(s).toPromise()}async function Nb(a,t){const i=nh(a,!1).get(t),s=await new Bl(i).toPromise();return s===void 0?null:s.value}function U_(a,t){const i=nh(a,!0).delete(t);return new Bl(i).toPromise()}const Ob=800,Vb=3;class VE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>Vb)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(Ib()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Rb(),!this.activeServiceWorker)return;this.sender=new Sb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||wb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fd();return await P_(t,Bc,"1"),await U_(t,Bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>P_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>Nb(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>U_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=nh(l,!1).getAll();return new Bl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ob)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VE.type="LOCAL";const Mb=VE;new Ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(a,t){return t?ji(t):(Et(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em extends AE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ba(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ba(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Pb(a){return db(a.auth,new Em(a),a.bypassAuthState)}function Ub(a){const{auth:t,user:i}=a;return Et(i,t,"internal-error"),fb(i,new Em(a),a.bypassAuthState)}async function kb(a){const{auth:t,user:i}=a;return Et(i,t,"internal-error"),hb(i,new Em(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(t,i,s,l,h=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Pb;case"linkViaPopup":case"linkViaRedirect":return kb;case"reauthViaPopup":case"reauthViaRedirect":return Ub;default:Gi(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=new Ul(2e3,1e4);class ka extends ME{constructor(t,i,s,l,h){super(t,i,l,h),this.provider=s,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Lb.get())};t()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="pendingRedirect",Rc=new Map;class Bb extends ME{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Rc.get(this.auth._key());if(!t){try{const s=await jb(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Rc.set(this.auth._key(),t)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jb(a,t){const i=Gb(t),s=Hb(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function qb(a,t){Rc.set(a._key(),t)}function Hb(a){return ji(a._redirectPersistence)}function Gb(a){return bc(zb,a.config.apiKey,a.name)}async function Fb(a,t,i=!1){if(Nn(a.app))return Promise.reject(qi(a));const s=Ll(a),l=xb(s,t),d=await new Bb(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=600*1e3;class Kb{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Yb(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!xE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(si(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Qb&&this.cachedEventUids.clear(),this.cachedEventUids.has(k_(t))}saveEventToCache(t){this.cachedEventUids.add(k_(t)),this.lastProcessedEventTime=Date.now()}}function k_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function xE({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function Yb(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xE(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(a,t={}){return Ja(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zb=/^https?/;async function Jb(a){if(a.config.emulator)return;const{authorizedDomains:t}=await Xb(a);for(const i of t)try{if(Wb(i))return}catch{}Gi(a,"unauthorized-domain")}function Wb(a){const t=Hd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!Zb.test(i))return!1;if($b.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=new Ul(3e4,6e4);function L_(){const a=ai().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function eR(a){return new Promise((t,i)=>{function s(){L_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{L_(),i(si(a,"network-request-failed"))},timeout:tR.get()})}if(ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ai().gapi?.load)s();else{const l=nb("iframefcb");return ai()[l]=()=>{gapi.load?s():i(si(a,"network-request-failed"))},tb(`${eb()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw wc=null,t})}let wc=null;function nR(a){return wc=wc||eR(a),wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new Ul(5e3,15e3),rR="__/auth/iframe",sR="emulator/auth/iframe",aR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lR(a){const t=a.config;Et(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?mm(t,sR):`https://${a.config.authDomain}/${rR}`,s={apiKey:t.apiKey,appName:a.name,v:Za},l=oR.get(a.config.apiHost);l&&(s.eid=l);const h=a._getFrameworks();return h.length&&(s.fw=h.join(",")),`${i}?${Pl(s).slice(1)}`}async function uR(a){const t=await nR(a),i=ai().gapi;return Et(i,a,"internal-error"),t.open({where:document.body,url:lR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aR,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const d=si(a,"network-request-failed"),g=ai().setTimeout(()=>{h(d)},iR.get());function y(){ai().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hR=500,fR=600,dR="_blank",mR="http://localhost";class z_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gR(a,t,i,s=hR,l=fR){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...cR,width:s.toString(),height:l.toString(),top:h,left:d},v=$e().toLowerCase();i&&(g=mE(v)?dR:i),fE(v)&&(t=t||mR,y.scrollbars="yes");const A=Object.entries(y).reduce((N,[F,J])=>`${N}${F}=${J},`,"");if(Q1(v)&&g!=="_self")return pR(t||"",g),new z_(null);const D=window.open(t||"",g,A);Et(D,a,"popup-blocked");try{D.focus()}catch{}return new z_(D)}function pR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="__/auth/handler",_R="emulator/auth/handler",vR=encodeURIComponent("fac");async function B_(a,t,i,s,l,h){Et(a.config.authDomain,a,"auth-domain-config-required"),Et(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:Za,eventId:l};if(t instanceof SE){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",gS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,D]of Object.entries({}))d[A]=D}if(t instanceof zl){const A=t.getScopes().filter(D=>D!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await a._getAppCheckToken(),v=y?`#${vR}=${encodeURIComponent(y)}`:"";return`${ER(a)}?${Pl(g).slice(1)}${v}`}function ER({config:a}){return a.emulator?mm(a,_R):`https://${a.authDomain}/${yR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="webStorageSupport";class TR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CE,this._completeRedirectFn=Fb,this._overrideRedirectResult=qb}async _openPopup(t,i,s,l){Fi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await B_(t,i,s,Hd(),l);return gR(t,h,vm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const h=await B_(t,i,s,Hd(),l);return bb(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(Fi(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await uR(t),s=new Kb(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Nd,{type:Nd},l=>{const h=l?.[0]?.[Nd];h!==void 0&&i(!!h),Gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Jb(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return vE()||dE()||ym()}}const AR=TR;var j_="@firebase/auth",q_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RR(a){Ha(new Vs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EE(a)},v=new J1(s,l,h,y);return rb(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Ha(new Vs("auth-internal",t=>{const i=Ll(t.getProvider("auth").getImmediate());return(s=>new SR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(j_,q_,bR(a)),Mr(j_,q_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=300,IR=Xv("authIdTokenMaxAge")||wR;let H_=null;const CR=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>IR)return;const l=i?.token;H_!==l&&(H_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function DR(a=eE()){const t=fm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=ib(a,{popupRedirectResolver:AR,persistence:[Mb,Tb,CE]}),s=Xv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const d=CR(h.toString());yb(i,d,()=>d(i.currentUser)),pb(i,g=>d(g))}}const l=Kv("auth");return l&&sb(i,`http://${l}`),i}function NR(){return document.getElementsByTagName("head")?.[0]??document}W1({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const h=si("internal-error");h.customData=l,i(h)},s.type="text/javascript",s.charset="UTF-8",NR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RR("Browser");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xr,PE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,S){function R(){}R.prototype=S.prototype,M.D=S.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(O,V,P){for(var w=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)w[ve-2]=arguments[ve];return S.prototype[V].apply(O,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)O[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=M.g[0],R=M.g[1],V=M.g[2];var P=M.g[3],w=S+(P^R&(V^P))+O[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=P+(V^S&(R^V))+O[1]+3905402710&4294967295,P=S+(w<<12&4294967295|w>>>20),w=V+(R^P&(S^R))+O[2]+606105819&4294967295,V=P+(w<<17&4294967295|w>>>15),w=R+(S^V&(P^S))+O[3]+3250441966&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(P^R&(V^P))+O[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(V^S&(R^V))+O[5]+1200080426&4294967295,P=S+(w<<12&4294967295|w>>>20),w=V+(R^P&(S^R))+O[6]+2821735955&4294967295,V=P+(w<<17&4294967295|w>>>15),w=R+(S^V&(P^S))+O[7]+4249261313&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(P^R&(V^P))+O[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(V^S&(R^V))+O[9]+2336552879&4294967295,P=S+(w<<12&4294967295|w>>>20),w=V+(R^P&(S^R))+O[10]+4294925233&4294967295,V=P+(w<<17&4294967295|w>>>15),w=R+(S^V&(P^S))+O[11]+2304563134&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(P^R&(V^P))+O[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(V^S&(R^V))+O[13]+4254626195&4294967295,P=S+(w<<12&4294967295|w>>>20),w=V+(R^P&(S^R))+O[14]+2792965006&4294967295,V=P+(w<<17&4294967295|w>>>15),w=R+(S^V&(P^S))+O[15]+1236535329&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(V^P&(R^V))+O[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^V&(S^R))+O[6]+3225465664&4294967295,P=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(P^S))+O[11]+643717713&4294967295,V=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(V^P))+O[0]+3921069994&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^P&(R^V))+O[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^V&(S^R))+O[10]+38016083&4294967295,P=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(P^S))+O[15]+3634488961&4294967295,V=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(V^P))+O[4]+3889429448&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^P&(R^V))+O[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^V&(S^R))+O[14]+3275163606&4294967295,P=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(P^S))+O[3]+4107603335&4294967295,V=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(V^P))+O[8]+1163531501&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^P&(R^V))+O[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^V&(S^R))+O[2]+4243563512&4294967295,P=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(P^S))+O[7]+1735328473&4294967295,V=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(V^P))+O[12]+2368359562&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(R^V^P)+O[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^V)+O[8]+2272392833&4294967295,P=S+(w<<11&4294967295|w>>>21),w=V+(P^S^R)+O[11]+1839030562&4294967295,V=P+(w<<16&4294967295|w>>>16),w=R+(V^P^S)+O[14]+4259657740&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^P)+O[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^V)+O[4]+1272893353&4294967295,P=S+(w<<11&4294967295|w>>>21),w=V+(P^S^R)+O[7]+4139469664&4294967295,V=P+(w<<16&4294967295|w>>>16),w=R+(V^P^S)+O[10]+3200236656&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^P)+O[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^V)+O[0]+3936430074&4294967295,P=S+(w<<11&4294967295|w>>>21),w=V+(P^S^R)+O[3]+3572445317&4294967295,V=P+(w<<16&4294967295|w>>>16),w=R+(V^P^S)+O[6]+76029189&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^P)+O[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^V)+O[12]+3873151461&4294967295,P=S+(w<<11&4294967295|w>>>21),w=V+(P^S^R)+O[15]+530742520&4294967295,V=P+(w<<16&4294967295|w>>>16),w=R+(V^P^S)+O[2]+3299628645&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(V^(R|~P))+O[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~V))+O[7]+1126891415&4294967295,P=S+(w<<10&4294967295|w>>>22),w=V+(S^(P|~R))+O[14]+2878612391&4294967295,V=P+(w<<15&4294967295|w>>>17),w=R+(P^(V|~S))+O[5]+4237533241&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~P))+O[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~V))+O[3]+2399980690&4294967295,P=S+(w<<10&4294967295|w>>>22),w=V+(S^(P|~R))+O[10]+4293915773&4294967295,V=P+(w<<15&4294967295|w>>>17),w=R+(P^(V|~S))+O[1]+2240044497&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~P))+O[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~V))+O[15]+4264355552&4294967295,P=S+(w<<10&4294967295|w>>>22),w=V+(S^(P|~R))+O[6]+2734768916&4294967295,V=P+(w<<15&4294967295|w>>>17),w=R+(P^(V|~S))+O[13]+1309151649&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~P))+O[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~V))+O[11]+3174756917&4294967295,P=S+(w<<10&4294967295|w>>>22),w=V+(S^(P|~R))+O[2]+718787259&4294967295,V=P+(w<<15&4294967295|w>>>17),w=R+(P^(V|~S))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+P&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var R=S-this.blockSize,O=this.B,V=this.h,P=0;P<S;){if(V==0)for(;P<=R;)l(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<S;)if(O[V++]=M.charCodeAt(P++),V==this.blockSize){l(this,O),V=0;break}}else for(;P<S;)if(O[V++]=M[P++],V==this.blockSize){l(this,O),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var R=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=R&255,R/=256;for(this.u(M),M=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)M[R++]=this.g[S]>>>O&255;return M};function h(M,S){var R=g;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=S(M)}function d(M,S){this.h=S;for(var R=[],O=!0,V=M.length-1;0<=V;V--){var P=M[V]|0;O&&P==S||(R[V]=P,O=!1)}this.g=R}var g={};function y(M){return-128<=M&&128>M?h(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return D;if(0>M)return W(v(-M));for(var S=[],R=1,O=0;M>=R;O++)S[O]=M/R|0,R*=4294967296;return new d(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return W(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),O=D,V=0;V<M.length;V+=8){var P=Math.min(8,M.length-V),w=parseInt(M.substring(V,V+P),S);8>P?(P=v(Math.pow(S,P)),O=O.j(P).add(v(w))):(O=O.j(R),O=O.add(v(w)))}return O}var D=y(0),N=y(1),F=y(16777216);a=d.prototype,a.m=function(){if(nt(this))return-W(this).m();for(var M=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);M+=(0<=O?O:4294967296+O)*S,S*=4294967296}return M},a.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(J(this))return"0";if(nt(this))return"-"+W(this).toString(M);for(var S=v(Math.pow(M,6)),R=this,O="";;){var V=Vt(R,S).g;R=ft(R,V.j(S));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=V,J(R))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},a.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function J(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function nt(M){return M.h==-1}a.l=function(M){return M=ft(this,M),nt(M)?-1:J(M)?0:1};function W(M){for(var S=M.g.length,R=[],O=0;O<S;O++)R[O]=~M.g[O];return new d(R,~M.h).add(N)}a.abs=function(){return nt(this)?W(this):this},a.add=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],O=0,V=0;V<=S;V++){var P=O+(this.i(V)&65535)+(M.i(V)&65535),w=(P>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=w>>>16,P&=65535,w&=65535,R[V]=w<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ft(M,S){return M.add(W(S))}a.j=function(M){if(J(this)||J(M))return D;if(nt(this))return nt(M)?W(this).j(W(M)):W(W(this).j(M));if(nt(M))return W(this.j(W(M)));if(0>this.l(F)&&0>M.l(F))return v(this.m()*M.m());for(var S=this.g.length+M.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<M.g.length;V++){var P=this.i(O)>>>16,w=this.i(O)&65535,ve=M.i(V)>>>16,ee=M.i(V)&65535;R[2*O+2*V]+=w*ee,pt(R,2*O+2*V),R[2*O+2*V+1]+=P*ee,pt(R,2*O+2*V+1),R[2*O+2*V+1]+=w*ve,pt(R,2*O+2*V+1),R[2*O+2*V+2]+=P*ve,pt(R,2*O+2*V+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new d(R,0)};function pt(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function ct(M,S){this.g=M,this.h=S}function Vt(M,S){if(J(S))throw Error("division by zero");if(J(M))return new ct(D,D);if(nt(M))return S=Vt(W(M),S),new ct(W(S.g),W(S.h));if(nt(S))return S=Vt(M,W(S)),new ct(W(S.g),S.h);if(30<M.g.length){if(nt(M)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=N,O=S;0>=O.l(M);)R=Tt(R),O=Tt(O);var V=Mt(R,1),P=Mt(O,1);for(O=Mt(O,2),R=Mt(R,2);!J(O);){var w=P.add(O);0>=w.l(M)&&(V=V.add(R),P=w),O=Mt(O,1),R=Mt(R,1)}return S=ft(M,V.j(S)),new ct(V,S)}for(V=D;0<=M.l(S);){for(R=Math.max(1,Math.floor(M.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=v(R),w=P.j(S);nt(w)||0<w.l(M);)R-=O,P=v(R),w=P.j(S);J(P)&&(P=N),V=V.add(P),M=ft(M,w)}return new ct(V,M)}a.A=function(M){return Vt(this,M).h},a.and=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&M.i(O);return new d(R,this.h&M.h)},a.or=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|M.i(O);return new d(R,this.h|M.h)},a.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^M.i(O);return new d(R,this.h^M.h)};function Tt(M){for(var S=M.g.length+1,R=[],O=0;O<S;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new d(R,M.h)}function Mt(M,S){var R=S>>5;S%=32;for(var O=M.g.length-R,V=[],P=0;P<O;P++)V[P]=0<S?M.i(P+R)>>>S|M.i(P+R+1)<<32-S:M.i(P+R);return new d(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,PE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,xr=d}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UE,gl,kE,Ic,Qd,LE,zE,BE;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,U={next:function(){if(!T&&p<u.length){var j=p++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function D(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function N(u,m,p){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,N.apply(null,arguments)}function F(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,U,j){for(var tt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)tt[xt-2]=arguments[xt];return m.prototype[U].apply(T,tt)}}function nt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function W(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(y(T)){const U=u.length||0,j=T.length||0;u.length=U+j;for(let tt=0;tt<j;tt++)u[U+tt]=T[tt]}else u.push(T)}}class ft{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Vt(u){return Vt[" "](u),u}Vt[" "]=function(){};var Tt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function Mt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function M(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let j=0;j<R.length;j++)p=R[j],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function V(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function P(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ve{constructor(){this.h=this.g=null}add(m,p){const T=ee.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ee=new ft(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,lt=!1,Lt=new ve,I=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then($)}};var $=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){P(p)}var m=ee;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function yt(u,m){if(Q.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Tt){t:{try{Vt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ht[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&yt.aa.h.call(this)}}J(yt,Q);var ht={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function jn(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function $i(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function mi(u){this.src=u,this.g={},this.h=0}mi.prototype.add=function(u,m,p,T,U){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var tt=Hr(u,m,T,U);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new jn(m,this.src,j,!!T,U),m.fa=p,u.push(m)),m};function qr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=U)&&Array.prototype.splice.call(T,U,1),j&&($i(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Hr(u,m,p,T){for(var U=0;U<u.length;++U){var j=u[U];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return U}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),io={};function Ql(u,m,p,T,U){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Ql(u,m[j],p,T,U);return null}return p=Kl(p),u&&u[Ce]?u.K(m,p,v(T)?!!T.capture:!1,U):pn(u,m,p,!1,T,U)}function pn(u,m,p,T,U,j){if(!m)throw Error("Invalid event type");var tt=v(U)?!!U.capture:!!U,xt=js(u);if(xt||(u[Gr]=xt=new mi(u)),p=xt.add(m,p,T,tt,j),p.proxy)return p;if(T=yh(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)st||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Fr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function yh(){function u(p){return m.call(u.src,u.listener,p)}const m=_h;return u}function ro(u,m,p,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)ro(u,m[j],p,T,U);else T=v(T)?!!T.capture:!!T,p=Kl(p),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],p=Hr(j,p,T,U),-1<p&&($i(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=js(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Hr(m,p,T,U)),(p=-1<u?m[u]:null)&&Bs(p))}function Bs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])qr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Fr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=js(m))?(qr(p,u),p.h==0&&(p.src=null,m[Gr]=null)):$i(u)}}}function Fr(u){return u in io?io[u]:io[u]="on"+u}function _h(u,m){if(u.da)u=!0;else{m=new yt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&Bs(u),u=p.call(T,m)}return u}function js(u){return u=u[Gr],u instanceof mi?u:null}var so="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kl(u){return typeof u=="function"?u:(u[so]||(u[so]=function(m){return u.handleEvent(m)}),u[so])}function ae(){H.call(this),this.i=new mi(this),this.M=this,this.F=null}J(ae,H),ae.prototype[Ce]=!0,ae.prototype.removeEventListener=function(u,m,p,T){ro(this,u,m,p,T)};function Ht(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new Q(m,u);else if(m instanceof Q)m.target=m.target||u;else{var U=m;m=new Q(T,u),O(m,U)}if(U=!0,p)for(var j=p.length-1;0<=j;j--){var tt=m.g=p[j];U=an(tt,T,!0,m)&&U}if(tt=m.g=u,U=an(tt,T,!0,m)&&U,U=an(tt,T,!1,m)&&U,p)for(j=0;j<p.length;j++)tt=m.g=p[j],U=an(tt,T,!1,m)&&U}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)$i(p[T]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ae.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function an(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,j=0;j<m.length;++j){var tt=m[j];if(tt&&!tt.da&&tt.capture==p){var xt=tt.listener,Te=tt.ha||tt.src;tt.fa&&qr(u.i,tt),U=xt.call(Te,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ge(u,m,p){if(typeof u=="function")p&&(u=N(u,p));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Yl(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,Yl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class vh extends H{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(u){H.call(this),this.h=u,this.g={}}J(Qr,H);var Kr=[];function Yr(u){Mt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Bs(m)},u),u.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),Yr(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=g.JSON.stringify,qs=g.JSON.parse,Xr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ao(){}ao.prototype.h=null;function oo(u){return u.h||(u.h=u.i())}function lo(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){Q.call(this,"d")}J(pi,Q);function uo(){Q.call(this,"c")}J(uo,Q);var qn={},co=null;function Zi(){return co=co||new ae}qn.La="serverreachability";function Hs(u){Q.call(this,qn.La,u)}J(Hs,Q);function Ji(u){const m=Zi();Ht(m,new Hs(m))}qn.STAT_EVENT="statevent";function Xl(u,m){Q.call(this,qn.STAT_EVENT,u),this.stat=m}J(Xl,Q);function ne(u){const m=Zi();Ht(m,new Xl(m,u))}qn.Ma="timingevent";function Ee(u,m){Q.call(this,qn.Ma,u),this.size=m}J(Ee,Q);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function ho(u,m,p,T,U,j){u.info(function(){if(u.g)if(j)for(var tt="",xt=j.split("&"),Te=0;Te<xt.length;Te++){var Pt=xt[Te].split("=");if(1<Pt.length){var Ne=Pt[0];Pt=Pt[1];var Ae=Ne.split("_");tt=2<=Ae.length&&Ae[1]=="type"?tt+(Ne+"="+Pt+"&"):tt+(Ne+"=redacted&")}}else tt=null;else tt=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+tt})}function Eh(u,m,p,T,U,j,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+j+" "+tt})}function Wi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+$r(u,p)+(T?" "+T:"")})}function $l(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function $r(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var tt=1;tt<U.length;tt++)U[tt]=""}}}}return Mn(p)}catch{return m}}var tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Gn(){}J(Gn,ao),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Hn=new Gn;function Ze(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var fo={},Gs={};function xn(u,m,p){u.L=1,u.v=es(on(m)),u.m=p,u.P=!0,_i(u,null)}function _i(u,m){u.F=Date.now(),Zr(u),u.A=on(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),vo(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ue,u.g=fu(u.j,p?m:null,!u.m),0<u.O&&(u.M=new vh(N(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Kr[0]=U.toString()),U=Kr);for(var j=0;j<U.length;j++){var tt=Ql(p,U[j],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ji(),ho(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=Tn(this.g);var m=this.g.Ba();const wi=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||ru(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=wi?Ji(3):Ji(2)),er(this);var p=this.g.Z();this.X=p;e:if(Zl(this)){var T=ru(this.g);u="";var U=T.length,j=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Fn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,Eh(this.i,this.u,this.A,this.l,this.R,Ae,p),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Te=this.g;if((xt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(xt)){var Pt=xt;break e}}Pt=null}if(p=Pt)Wi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jr(this,p);else{this.o=!1,this.s=3,ne(12),Ue(this),Fn(this);break t}}if(this.P){p=!0;let ke;for(;!this.J&&this.C<tt.length;)if(ke=Jl(this,tt),ke==Gs){Ae==4&&(this.s=4,ne(14),p=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==fo){this.s=4,ne(15),Wi(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else Wi(this.i,this.l,ke,null),Jr(this,ke);if(Zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||tt.length!=0||this.h.h||(this.s=1,ne(16),p=!1),this.o=this.o&&p,!p)Wi(this.i,this.l,tt,"[Invalid Chunked Response]"),Ue(this),Fn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),us(Ne),Ne.M=!0,ne(11))}}else Wi(this.i,this.l,tt,null),Jr(this,tt);Ae==4&&Ue(this),this.o&&!this.J&&(Ae==4?uu(this.j,this):(this.o=!1,Zr(this)))}else Rh(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Ue(this),Fn(this)}}}catch{}finally{}};function Zl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Jl(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Gs:(p=Number(m.substring(p,T)),isNaN(p)?fo:(T+=1,T+p>m.length?Gs:(m=m.slice(T,T+p),u.C=T+p,m)))}Ze.prototype.cancel=function(){this.J=!0,Ue(this)};function Zr(u){u.S=Date.now()+u.I,Wl(u,u.I)}function Wl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(N(u.ba,u),m)}function er(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?($l(this.i,this.A),this.L!=2&&(Ji(),ne(17)),Ue(this),this.s=2,Fn(this)):Wl(this,this.S-u)};function Fn(u){u.j.G==0||u.J||uu(u.j,u)}function Ue(u){er(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Yr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Jr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||mo(p.h,u))){if(!u.K&&mo(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)na(p),ta(p);else break t;bo(p),ne(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=de(N(p.Za,p),6e3));if(1>=Qs(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ri(p,11)}else if((u.K||p.g==u)&&na(p),!pt(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let Pt=U[m];if(p.T=Pt[0],Pt=Pt[1],p.G==2)if(Pt[0]=="c"){p.K=Pt[1],p.ia=Pt[2];const Ne=Pt[3];Ne!=null&&(p.la=Ne,p.j.info("VER="+p.la));const Ae=Pt[4];Ae!=null&&(p.Aa=Ae,p.j.info("SVER="+p.Aa));const wi=Pt[5];wi!=null&&typeof wi=="number"&&0<wi&&(T=1.5*wi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const ke=u.g;if(ke){const Jn=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var j=T.h;j.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ks(j,j.h),j.h=null))}if(T.D){const wo=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(T.ya=wo,Qt(T.I,T.D,wo))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=hu(T,T.J?T.ia:null,T.W),tt.K){Je(T.h,tt);var xt=tt,Te=T.L;Te&&(xt.I=Te),xt.B&&(er(xt),Zr(xt)),T.g=tt}else ou(T);0<p.i.length&&ea(p)}else Pt[0]!="stop"&&Pt[0]!="close"||Ri(p,7);else p.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ri(p,7):Ao(p):Pt[0]!="noop"&&p.l&&p.l.ta(Pt),p.v=0)}}Ji(4)}catch{}}var tu=class{constructor(u,m){this.g=u,this.map=m}};function vi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qs(u){return u.h?1:u.g?u.g.size:0}function mo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ks(u,m){u.g?u.g.add(m):u.h=m}function Je(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vi.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function go(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return nt(u.i)}function Th(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Ys(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function po(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Ys(u),T=Th(u),U=T.length,j=0;j<U;j++)m.call(void 0,T[j],p&&p[j],u)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ah(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),U=null;if(0<=T){var j=u[p].substring(0,T);U=u[p].substring(T+1)}else j=u[p];m(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,ts(this,u.j),this.o=u.o,this.g=u.g,nr(this,u.s),this.l=u.l;var m=u.i,p=new Ti;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Ei(this,p),this.m=u.m}else u&&(m=String(u).match(Wr))?(this.h=!1,ts(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),nr(this,m[4]),this.l=_n(m[5]||"",!0),Ei(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ns(m,yo,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ns(m,yo,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(ns(p,p.charAt(0)=="/"?Sh:_o,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",ns(p,Xs)),u.join("")};function on(u){return new me(u)}function ts(u,m,p){u.j=p?_n(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function nr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ei(u,m,p){m instanceof Ti?(u.i=m,nu(u.i,u.h)):(p||(m=ns(m,bh)),u.i=new Ti(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function es(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ns(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,eu),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function eu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yo=/[#\/\?@]/g,_o=/[#\?:]/g,Sh=/[#\?]/g,bh=/[#\?@]/g,Xs=/#/g;function Ti(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ah(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=Ti.prototype,a.add=function(u,m){vn(this),this.i=null,u=Qn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Ai(u,m){vn(u),m=Qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Si(u,m){return vn(u),m=Qn(u,m),u.g.has(m)}a.forEach=function(u,m){vn(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)},a.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=u[T];for(let j=0;j<U.length;j++)p.push(m[T])}return p},a.V=function(u){vn(this);let m=[];if(typeof u=="string")Si(this,u)&&(m=m.concat(this.g.get(Qn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return vn(this),this.i=null,u=Qn(this,u),Si(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function vo(u,m,p){Ai(u,m),0<p.length&&(u.i=null,u.g.set(Qn(u,m),nt(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const j=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var U=j;tt[T]!==""&&(U+="="+encodeURIComponent(String(tt[T]))),u.push(U)}}return this.i=u.join("&")};function Qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function nu(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(Ai(this,T),vo(this,U,p))},u)),u.j=m}function is(u,m){const p=new yn;if(g.Image){const T=new Image;T.onload=F(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=F(En,p,"TestLoadImage: error",!1,m,T),T.onabort=F(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=F(En,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Pn(u,m){const p=new yn,T=new AbortController,U=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),En(p,"TestPingServer: error",!1,m)})}function En(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function rs(){this.g=new Xr}function Kn(u,m,p){const T=p||"";try{po(u,function(U,j){let tt=U;v(U)&&(tt=Mn(U)),m.push(T+j+"="+encodeURIComponent(tt))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function ir(u){this.l=u.Ub||null,this.j=u.eb||!1}J(ir,ao),ir.prototype.g=function(){return new bi(this.l,this.j)},ir.prototype.i=function(u){return function(){return u}}({});function bi(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(bi,ae),a=bi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Xn(this),this.readyState==3&&Eo(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},a.Qa=function(u){this.g&&(this.response=u,Yn(this))},a.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function To(u){let m="";return Mt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=To(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function jt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(jt,ae);var $s=/^https?$/i,ss=["POST","PUT"];a=jt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?oo(this.o):oo(Hn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){iu(this,j);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ss,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of p)this.g.setRequestHeader(j,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{as(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){iu(this,j)}};function iu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Zs(u),$n(u)}function Zs(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),$n(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),jt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},a.bb=function(){Js(this)};function Js(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)Ge(u.Ea,0,u);else if(Ht(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var U=String(u.D).match(Wr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!$s.test(U?U.toLowerCase():"")}p=T}if(p)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var j=2<Tn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Zs(u)}}finally{$n(u)}}}}function $n(u,m){if(u.g){as(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{p.onreadystatechange=T}catch{}}}function as(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qs(m)}};function ru(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Rh(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(pt(u[T]))continue;var p=V(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[U]||[];m[U]=j,j.push(p)}M(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Ws(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=os("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=os("baseRetryDelayMs",5e3,u),this.cb=os("retryDelaySeedMs",1e4,u),this.Wa=os("forwardChannelMaxRetries",2,u),this.wa=os("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(u&&u.concurrentRequestLimit),this.Da=new rs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ws.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){ne(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=hu(this,null,this.W),ea(this)};function Ao(u){if(su(u),u.G==3){var m=u.U++,p=on(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),ls(u,p),m=new Ze(u,u.j,m),m.L=2,m.v=es(on(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=fu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zr(m)}cu(u)}function ta(u){u.g&&(us(u),u.g.cancel(),u.g=null)}function su(u){ta(u),u.u&&(g.clearTimeout(u.u),u.u=null),na(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ea(u){if(!Fs(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||I(),lt||(et(),lt=!0),Lt.add(m,u),u.B=0}}function wh(u,m){return Qs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(N(u.Ga,u,m),Ro(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ze(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),O(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=au(this,U,m),p=on(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),ls(this,p),j&&(this.O?m="headers="+encodeURIComponent(String(To(j)))+"&"+m:this.m&&De(p,this.m,j)),Ks(this.h,U),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),U.T=!0,xn(U,p,null)):xn(U,p,m),this.G=2}}else this.G==3&&(u?So(this,u):this.i.length==0||Fs(this.h)||So(this))};function So(u,m){var p;m?p=m.l:p=u.U++;const T=on(u.I);Qt(T,"SID",u.K),Qt(T,"RID",p),Qt(T,"AID",u.T),ls(u,T),u.m&&u.o&&De(T,u.m,u.o),p=new Ze(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=au(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ks(u.h,p),xn(p,T,m)}function ls(u,m){u.H&&Mt(u.H,function(p,T){Qt(m,T,p)}),u.l&&po({},function(p,T){Qt(m,T,p)})}function au(u,m,p){p=Math.min(u.i.length,p);var T=u.l?N(u.l.Na,u.l,u):null;t:{var U=u.i;let j=-1;for(;;){const tt=["count="+p];j==-1?0<p?(j=U[0].g,tt.push("ofs="+j)):j=0:tt.push("ofs="+j);let xt=!0;for(let Te=0;Te<p;Te++){let Pt=U[Te].g;const Ne=U[Te].map;if(Pt-=j,0>Pt)j=Math.max(0,U[Te].g-100),xt=!1;else try{Kn(Ne,tt,"req"+Pt+"_")}catch{T&&T(Ne)}}if(xt){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function ou(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||I(),lt||(et(),lt=!0),Lt.add(m,u),u.v=0}}function bo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(N(u.Fa,u),Ro(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(N(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),ta(this),lu(this))};function us(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function lu(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),ls(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=es(on(m)),p.m=null,p.P=!0,_i(p,u)}a.Za=function(){this.C!=null&&(this.C=null,ta(this),bo(this),ne(19))};function na(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function uu(u,m){var p=null;if(u.g==m){na(u),us(u),u.g=null;var T=2}else if(mo(u.h,m))p=m.D,Je(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Zi(),Ht(T,new Ee(T,p)),ea(u)}else ou(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&wh(u,m)||T==2&&bo(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),U){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function Ro(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var p=N(u.fb,u),T=u.Xa;const U=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ts(T,"https"),es(T),U?is(T.toString(),p):Pn(T.toString(),p)}else ne(2);u.G=0,u.l&&u.l.sa(m),cu(u),su(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function cu(u){if(u.G=0,u.ka=[],u.l){const m=go(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ka,m),W(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function hu(u,m,p){var T=p instanceof me?on(p):new me(p);if(T.g!="")m&&(T.g=m+"."+T.g),nr(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var j=new me(null);T&&ts(j,T),m&&(j.g=m),U&&nr(j,U),p&&(j.l=p),T=j}return p=u.D,m=u.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",u.la),ls(u,T),T}function fu(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new ir({eb:p})):new jt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}a=du.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ia(){}ia.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ae.call(this),this.g=new Ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!pt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}J(We,ae),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Ao(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Mn(u),u=p);m.i.push(new tu(m.Ya++,u)),m.G==3&&ea(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,We.aa.N.call(this)};function mu(u){pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(mu,pi);function gu(){uo.call(this),this.status=1}J(gu,uo);function Zn(u){this.g=u}J(Zn,du),Zn.prototype.ua=function(){Ht(this.g,"a")},Zn.prototype.ta=function(u){Ht(this.g,new mu(u))},Zn.prototype.sa=function(u){Ht(this.g,new gu)},Zn.prototype.ra=function(){Ht(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,BE=function(){return new ia},zE=function(){return Zi()},LE=qn,Qd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,Ic=tr,yi.COMPLETE="complete",kE=yi,lo.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,gl=lo,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,UE=jt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const F_="@firebase/firestore",Q_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new cm("@firebase/firestore");function Va(){return xs.logLevel}function rt(a,...t){if(xs.logLevel<=Dt.DEBUG){const i=t.map(Tm);xs.debug(`Firestore (${Wa}): ${a}`,...i)}}function Ki(a,...t){if(xs.logLevel<=Dt.ERROR){const i=t.map(Tm);xs.error(`Firestore (${Wa}): ${a}`,...i)}}function Ga(a,...t){if(xs.logLevel<=Dt.WARN){const i=t.map(Tm);xs.warn(`Firestore (${Wa}): ${a}`,...i)}}function Tm(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,jE(a,s,i)}function jE(a,t,i){let s=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ki(s),new Error(s)}function qt(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||jE(t,l,s)}function St(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Xi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class OR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class VR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class MR{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let h=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Cs,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const y=h;t.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},g=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Cs)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new qE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class xR{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PR{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new xR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const s=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>s(h))};const l=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new K_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=kR(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<i&&(s+=t.charAt(l[h]%62))}return s}}function Nt(a,t){return a<t?-1:a>t?1:0}function Kd(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const l=a.charAt(s),h=t.charAt(s);if(l!==h)return Od(l)===Od(h)?Nt(l,h):Od(l)?1:-1}return Nt(a.length,t.length)}const LR=55296,zR=57343;function Od(a){const t=a.charCodeAt(0);return t>=LR&&t<=zR}function Fa(a,t,i){return a.length===t.length&&a.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class ri{constructor(t,i,s){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&_t(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const h=ri.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Nt(t.length,i.length)}static compareSegments(t,i){const s=ri.isNumericId(t),l=ri.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?ri.extractNumericId(t).compare(ri.extractNumericId(i)):Kd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xr.fromString(t.substring(4,t.length-2))}}class Wt extends ri{construct(t,i,s){return new Wt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const BR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ri{construct(t,i,s){return new qe(t,i,s)}static isValidIdentifier(t){return BR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new qe([Y_])}static fromServerFormat(t){const i=[];let s="",l=0;const h=()=>{if(s.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(h(),l++)}if(h(),d)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(Wt.fromString(t))}static fromName(t){return new dt(Wt.fromString(t).popFirst(5))}static empty(){return new dt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(a,t,i){if(!i)throw new ot(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function jR(a,t,i,s){if(t===!0&&s===!0)throw new ot(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function X_(a){if(!dt.isDocumentKey(a))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function $_(a){if(dt.isDocumentKey(a))throw new ot(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function GE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Sm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":_t(12329,{type:typeof a})}function Ds(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sm(a);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(a,t){const i={typeString:a};return t&&(i.value=t),i}function jl(a,t){if(!GE(a))throw new ot(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,h="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new ot(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=-62135596800,J_=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*J_);return new te(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Z_)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J_}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jl(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Z_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:_e("string",te._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new te(0,0))}static max(){return new At(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function qR(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=At.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new Ur(l,dt.empty(),t)}function HR(a){return new Ur(a.readTime,a.key,Il)}class Ur{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Ur(At.min(),dt.empty(),Il)}static max(){return new Ur(At.max(),dt.empty(),Il)}}function GR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(a.documentKey,t.documentKey),i!==0?i:Nt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==FR)throw a;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):X.reject(i)}static resolve(t){return new X((i,s)=>{i(t)})}static reject(t){return new X((i,s)=>{s(t)})}static waitFor(t){return new X((i,s)=>{let l=0,h=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++h,d&&h===l&&i()},y=>s(y))}),d=!0,h===l&&i()})}static or(t){let i=X.resolve(!1);for(const s of t)i=i.next(l=>l?X.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,h)=>{s.push(i.call(this,l,h))}),this.waitFor(s)}static mapArray(t,i){return new X((s,l)=>{const h=t.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const v=y;i(t[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>l(A))}})}static doWhile(t,i){return new X((s,l)=>{const h=()=>{t()===!0?i().next(()=>{h()},l):s()};h()})}}function KR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function eo(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ih.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=-1;function rh(a){return a==null}function qc(a){return a===0&&1/a==-1/0}function YR(a){return typeof a=="number"&&Number.isInteger(a)&&!qc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="";function XR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=W_(t)),t=$R(a.get(i),t);return W_(t)}function $R(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const h=a.charAt(l);switch(h){case"\0":i+="";break;case FE:i+="";break;default:i+=h}}return i}function W_(a){return a+FE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Us(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function QE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,i){this.comparator=t,this.root=i||je.EMPTY}insert(t,i){return new se(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?s(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,i,s,l,h){this.key=t,this.value=i,this.color=s??je.RED,this.left=l??je.EMPTY,this.right=h??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,h){return new je(t??this.key,i??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const h=s(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,s),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return je.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,s,l,h){return this}insert(t,i,s){return new je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new ev(this.data.getIterator())}getIteratorFrom(t){return new ev(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ie(this.comparator);return i.data=t,i}}class ev{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Bn([])}unionWith(t){let i=new Ie(qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fa(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new KE("Invalid base64 string: "+h):h}}(t);return new He(i)}static fromUint8Array(t){const i=function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h}(t);return new He(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const ZR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(a){if(qt(!!a,39018),typeof a=="string"){let t=0;const i=ZR.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Lr(a){return typeof a=="string"?He.fromBase64String(a):He.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="server_timestamp",XE="__type__",$E="__previous_value__",ZE="__local_write_time__";function Rm(a){return(a?.mapValue?.fields||{})[XE]?.stringValue===YE}function sh(a){const t=a.mapValue.fields[$E];return Rm(t)?sh(t):t}function Cl(a){const t=kr(a.mapValue.fields[ZE].timestampValue);return new te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,i,s,l,h,d,g,y,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=A}}const Hc="(default)";class Dl{constructor(t,i){this.projectId=t,this.database=i||Hc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="__type__",WR="__max__",vc={mapValue:{}},WE="__vector__",Gc="value";function zr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Rm(a)?4:ew(a)?9007199254740991:tw(a)?10:11:_t(28295,{value:a})}function fi(a,t){if(a===t)return!0;const i=zr(a);if(i!==zr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Cl(a).isEqual(Cl(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=kr(l.timestampValue),g=kr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(l,h){return Lr(l.bytesValue).isEqual(Lr(h.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(l,h){return fe(l.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(l.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(a,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return fe(l.integerValue)===fe(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=fe(l.doubleValue),g=fe(h.doubleValue);return d===g?qc(d)===qc(g):isNaN(d)&&isNaN(g)}return!1}(a,t);case 9:return Fa(a.arrayValue.values||[],t.arrayValue.values||[],fi);case 10:case 11:return function(l,h){const d=l.mapValue.fields||{},g=h.mapValue.fields||{};if(tv(d)!==tv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!fi(d[y],g[y])))return!1;return!0}(a,t);default:return _t(52216,{left:a})}}function Nl(a,t){return(a.values||[]).find(i=>fi(i,t))!==void 0}function Qa(a,t){if(a===t)return 0;const i=zr(a),s=zr(t);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(a.booleanValue,t.booleanValue);case 2:return function(h,d){const g=fe(h.integerValue||h.doubleValue),y=fe(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(a,t);case 3:return nv(a.timestampValue,t.timestampValue);case 4:return nv(Cl(a),Cl(t));case 5:return Kd(a.stringValue,t.stringValue);case 6:return function(h,d){const g=Lr(h),y=Lr(d);return g.compareTo(y)}(a.bytesValue,t.bytesValue);case 7:return function(h,d){const g=h.split("/"),y=d.split("/");for(let v=0;v<g.length&&v<y.length;v++){const A=Nt(g[v],y[v]);if(A!==0)return A}return Nt(g.length,y.length)}(a.referenceValue,t.referenceValue);case 8:return function(h,d){const g=Nt(fe(h.latitude),fe(d.latitude));return g!==0?g:Nt(fe(h.longitude),fe(d.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return iv(a.arrayValue,t.arrayValue);case 10:return function(h,d){const g=h.fields||{},y=d.fields||{},v=g[Gc]?.arrayValue,A=y[Gc]?.arrayValue,D=Nt(v?.values?.length||0,A?.values?.length||0);return D!==0?D:iv(v,A)}(a.mapValue,t.mapValue);case 11:return function(h,d){if(h===vc.mapValue&&d===vc.mapValue)return 0;if(h===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),v=d.fields||{},A=Object.keys(v);y.sort(),A.sort();for(let D=0;D<y.length&&D<A.length;++D){const N=Kd(y[D],A[D]);if(N!==0)return N;const F=Qa(g[y[D]],v[A[D]]);if(F!==0)return F}return Nt(y.length,A.length)}(a.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function nv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Nt(a,t);const i=kr(a),s=kr(t),l=Nt(i.seconds,s.seconds);return l!==0?l:Nt(i.nanos,s.nanos)}function iv(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const h=Qa(i[l],s[l]);if(h)return h}return Nt(i.length,s.length)}function Ka(a){return Yd(a)}function Yd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=kr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Lr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return dt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",l=!0;for(const h of i.values||[])l?l=!1:s+=",",s+=Yd(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of s)h?h=!1:l+=",",l+=`${d}:${Yd(i.fields[d])}`;return l+"}"}(a.mapValue):_t(61005,{value:a})}function Cc(a){switch(zr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sh(a);return t?16+Cc(t):16;case 5:return 2*a.stringValue.length;case 6:return Lr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,h)=>l+Cc(h),0)}(a.arrayValue);case 10:case 11:return function(s){let l=0;return Us(s.fields,(h,d)=>{l+=h.length+Cc(d)}),l}(a.mapValue);default:throw _t(13486,{value:a})}}function Xd(a){return!!a&&"integerValue"in a}function wm(a){return!!a&&"arrayValue"in a}function rv(a){return!!a&&"nullValue"in a}function sv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Dc(a){return!!a&&"mapValue"in a}function tw(a){return(a?.mapValue?.fields||{})[JE]?.stringValue===WE}function Tl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Us(a.mapValue.fields,(i,s)=>t.mapValue.fields[i]=Tl(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Tl(a.arrayValue.values[i]);return t}return{...a}}function ew(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===WR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.value=t}static empty(){return new On({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Dc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tl(i)}setAll(t){let i=qe.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=Tl(d):l.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,l)}delete(t){const i=this.field(t.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return fi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Dc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Us(i,(l,h)=>t[l]=h);for(const l of s)delete t[l]}clone(){return new On(Tl(this.value))}}function tT(a){const t=[];return Us(a.fields,(i,s)=>{const l=new qe([i]);if(Dc(s)){const h=tT(s.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)}),new Bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,i,s,l,h,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Xe(t,0,At.min(),At.min(),At.min(),On.empty(),0)}static newFoundDocument(t,i,s,l){return new Xe(t,1,i,At.min(),s,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,At.min(),At.min(),On.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,At.min(),At.min(),On.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,i){this.position=t,this.inclusive=i}}function av(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const h=t[l],d=a.position[l];if(h.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=Qa(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function ov(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!fi(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function nw(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{}class Re extends eT{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new rw(t,i,s):i==="array-contains"?new ow(t,s):i==="in"?new lw(t,s):i==="not-in"?new uw(t,s):i==="array-contains-any"?new cw(t,s):new Re(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new sw(t,s):new aw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&zr(this.value)===zr(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends eT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new di(t,i)}matches(t){return nT(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nT(a){return a.op==="and"}function iT(a){return iw(a)&&nT(a)}function iw(a){for(const t of a.filters)if(t instanceof di)return!1;return!0}function $d(a){if(a instanceof Re)return a.field.canonicalString()+a.op.toString()+Ka(a.value);if(iT(a))return a.filters.map(t=>$d(t)).join(",");{const t=a.filters.map(i=>$d(i)).join(",");return`${a.op}(${t})`}}function rT(a,t){return a instanceof Re?function(s,l){return l instanceof Re&&s.op===l.op&&s.field.isEqual(l.field)&&fi(s.value,l.value)}(a,t):a instanceof di?function(s,l){return l instanceof di&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((h,d,g)=>h&&rT(d,l.filters[g]),!0):!1}(a,t):void _t(19439)}function sT(a){return a instanceof Re?function(i){return`${i.field.canonicalString()} ${i.op} ${Ka(i.value)}`}(a):a instanceof di?function(i){return i.op.toString()+" {"+i.getFilters().map(sT).join(" ,")+"}"}(a):"Filter"}class rw extends Re{constructor(t,i,s){super(t,i,s),this.key=dt.fromName(s.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class sw extends Re{constructor(t,i){super(t,"in",i),this.keys=aT("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class aw extends Re{constructor(t,i){super(t,"not-in",i),this.keys=aT("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function aT(a,t){return(t.arrayValue?.values||[]).map(i=>dt.fromName(i.referenceValue))}class ow extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return wm(i)&&Nl(i.arrayValue,this.value)}}class lw extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Nl(this.value.arrayValue,i)}}class uw extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Nl(this.value.arrayValue,i)}}class cw extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Nl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,i=null,s=[],l=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function lv(a,t=null,i=[],s=[],l=null,h=null,d=null){return new hw(a,t,i,s,l,h,d)}function Im(a){const t=St(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>$d(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),rh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ka(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ka(s)).join(",")),t.Te=i}return t.Te}function Cm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!nw(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!rT(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!ov(a.startAt,t.startAt)&&ov(a.endAt,t.endAt)}function Zd(a){return dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,i=null,s=[],l=[],h=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fw(a,t,i,s,l,h,d,g){return new ah(a,t,i,s,l,h,d,g)}function Dm(a){return new ah(a)}function uv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function dw(a){return a.collectionGroup!==null}function Al(a){const t=St(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ie(qe.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Qc(h,s))}),i.has(qe.keyField().canonicalString())||t.Ie.push(new Qc(qe.keyField(),s))}return t.Ie}function oi(a){const t=St(a);return t.Ee||(t.Ee=mw(t,Al(a))),t.Ee}function mw(a,t){if(a.limitType==="F")return lv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new Qc(l.field,h)});const i=a.endAt?new Fc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Fc(a.startAt.position,a.startAt.inclusive):null;return lv(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Jd(a,t,i){return new ah(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function oh(a,t){return Cm(oi(a),oi(t))&&a.limitType===t.limitType}function oT(a){return`${Im(oi(a))}|lt:${a.limitType}`}function Ma(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>sT(l)).join(", ")}]`),rh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>Ka(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>Ka(l)).join(",")),`Target(${s})`}(oi(a))}; limitType=${a.limitType})`}function lh(a,t){return t.isFoundDocument()&&function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):dt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,t)&&function(s,l){for(const h of Al(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(a,t)&&function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0}(a,t)&&function(s,l){return!(s.startAt&&!function(d,g,y){const v=av(d,g,y);return d.inclusive?v<=0:v<0}(s.startAt,Al(s),l)||s.endAt&&!function(d,g,y){const v=av(d,g,y);return d.inclusive?v>=0:v>0}(s.endAt,Al(s),l))}(a,t)}function gw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function lT(a){return(t,i)=>{let s=!1;for(const l of Al(a)){const h=pw(l,t,i);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function pw(a,t,i){const s=a.field.isKeyField()?dt.comparator(t.key,i.key):function(h,d,g){const y=d.data.field(h),v=g.data.field(h);return y!==null&&v!==null?Qa(y,v):_t(42886)}(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Us(this.inner,(i,s)=>{for(const[l,h]of s)t(l,h)})}isEmpty(){return QE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new se(dt.comparator);function Yi(){return yw}const uT=new se(dt.comparator);function pl(...a){let t=uT;for(const i of a)t=t.insert(i.key,i);return t}function cT(a){let t=uT;return a.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function Is(){return Sl()}function hT(){return Sl()}function Sl(){return new ks(a=>a.toString(),(a,t)=>a.isEqual(t))}const _w=new se(dt.comparator),vw=new Ie(dt.comparator);function Ot(...a){let t=vw;for(const i of a)t=t.add(i);return t}const Ew=new Ie(Nt);function Tw(){return Ew}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(t)?"-0":t}}function fT(a){return{integerValue:""+a}}function Aw(a,t){return YR(t)?fT(t):Nm(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function Sw(a,t,i){return a instanceof Kc?function(l,h){const d={fields:{[XE]:{stringValue:YE},[ZE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Rm(h)&&(h=sh(h)),h&&(d.fields[$E]=h),{mapValue:d}}(i,t):a instanceof Ol?mT(a,t):a instanceof Vl?gT(a,t):function(l,h){const d=dT(l,h),g=cv(d)+cv(l.Ae);return Xd(d)&&Xd(l.Ae)?fT(g):Nm(l.serializer,g)}(a,t)}function bw(a,t,i){return a instanceof Ol?mT(a,t):a instanceof Vl?gT(a,t):i}function dT(a,t){return a instanceof Yc?function(s){return Xd(s)||function(h){return!!h&&"doubleValue"in h}(s)}(t)?t:{integerValue:0}:null}class Kc extends uh{}class Ol extends uh{constructor(t){super(),this.elements=t}}function mT(a,t){const i=pT(t);for(const s of a.elements)i.some(l=>fi(l,s))||i.push(s);return{arrayValue:{values:i}}}class Vl extends uh{constructor(t){super(),this.elements=t}}function gT(a,t){let i=pT(t);for(const s of a.elements)i=i.filter(l=>!fi(l,s));return{arrayValue:{values:i}}}class Yc extends uh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function cv(a){return fe(a.integerValue||a.doubleValue)}function pT(a){return wm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Rw(a,t){return a.field.isEqual(t.field)&&function(s,l){return s instanceof Ol&&l instanceof Ol||s instanceof Vl&&l instanceof Vl?Fa(s.elements,l.elements,fi):s instanceof Yc&&l instanceof Yc?fi(s.Ae,l.Ae):s instanceof Kc&&l instanceof Kc}(a.transform,t.transform)}class ww{constructor(t,i){this.version=t,this.transformResults=i}}class li{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new li}static exists(t){return new li(void 0,t)}static updateTime(t){return new li(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class ch{}function yT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Om(a.key,li.none()):new ql(a.key,a.data,li.none());{const i=a.data,s=On.empty();let l=new Ie(qe.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),l=l.add(h)}return new Ls(a.key,s,new Bn(l.toArray()),li.none())}}function Iw(a,t,i){a instanceof ql?function(l,h,d){const g=l.value.clone(),y=fv(l.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,t,i):a instanceof Ls?function(l,h,d){if(!Nc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const g=fv(l.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(_T(l)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(a,t,i):function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function bl(a,t,i,s){return a instanceof ql?function(h,d,g,y){if(!Nc(h.precondition,d))return g;const v=h.value.clone(),A=dv(h.fieldTransforms,y,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,t,i,s):a instanceof Ls?function(h,d,g,y){if(!Nc(h.precondition,d))return g;const v=dv(h.fieldTransforms,y,d),A=d.data;return A.setAll(_T(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(D=>D.field))}(a,t,i,s):function(h,d,g){return Nc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,t,i)}function Cw(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),h=dT(s.transform,l||null);h!=null&&(i===null&&(i=On.empty()),i.set(s.field,h))}return i||null}function hv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Fa(s,l,(h,d)=>Rw(h,d))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class ql extends ch{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ls extends ch{constructor(t,i,s,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function _T(a){const t=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}}),t}function fv(a,t,i){const s=new Map;qt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const h=a[l],d=h.transform,g=t.data.field(h.field);s.set(h.field,bw(d,g,i[l]))}return s}function dv(a,t,i){const s=new Map;for(const l of a){const h=l.transform,d=i.data.field(l.field);s.set(l.field,Sw(h,d,t))}return s}class Om extends ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dw extends ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&Iw(h,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=bl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=bl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=hT();return this.mutations.forEach(l=>{const h=t.get(l.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(l.key)?null:g;const y=yT(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Fa(this.mutations,t.mutations,(i,s)=>hv(i,s))&&Fa(this.baseMutations,t.baseMutations,(i,s)=>hv(i,s))}}class Vm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=function(){return _w}();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,s[d].version);return new Vm(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,kt;function Mw(a){switch(a){case Z.OK:return _t(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _t(15467,{code:a})}}function vT(a){if(a===void 0)return Ki("GRPC error has no .code"),Z.UNKNOWN;switch(a){case ye.OK:return Z.OK;case ye.CANCELLED:return Z.CANCELLED;case ye.UNKNOWN:return Z.UNKNOWN;case ye.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ye.INTERNAL:return Z.INTERNAL;case ye.UNAVAILABLE:return Z.UNAVAILABLE;case ye.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ye.NOT_FOUND:return Z.NOT_FOUND;case ye.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ye.ABORTED:return Z.ABORTED;case ye.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ye.DATA_LOSS:return Z.DATA_LOSS;default:return _t(39323,{code:a})}}(kt=ye||(ye={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new xr([4294967295,4294967295],0);function mv(a){const t=xw().encode(a),i=new PE;return i.update(t),new Uint8Array(i.digest())}function gv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new xr([i,s],0),new xr([l,h],0)]}class Mm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new yl(`Invalid padding: ${i}`);if(s<0)throw new yl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=xr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(xr.fromNumber(s)));return l.compare(Pw)===1&&(l=new xr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=mv(t),[s,l]=gv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,l,h);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Mm(h,l,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.ge===0)return;const i=mv(t),[s,l]=gv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,i,s,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Hl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new hh(At.min(),l,new se(Nt),Yi(),Ot())}}class Hl{constructor(t,i,s,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Hl(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class ET{constructor(t,i){this.targetId=t,this.Ce=i}}class TT{constructor(t,i,s=He.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class pv{constructor(){this.ve=0,this.Fe=yv(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:_t(38017,{changeType:h})}}),new Hl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=yv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Uw{constructor(t){this.Ge=t,this.ze=new Map,this.je=Yi(),this.Je=Ec(),this.He=Ec(),this.Ye=new se(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach((s,l)=>{this.rt(l)&&i(l)})}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Zd(h))if(s===0){const d=new dt(h.path);this.et(i,d,Xe.newNoDocument(d,At.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=i;let d,g;try{d=Lr(s).toUint8Array()}catch(y){if(y instanceof KE)return Ga("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Mm(d,l,h)}catch(y){return Ga(y instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.et(i,h,null),l++)}),l}Tt(t){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Zd(g.target)){const y=new dt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Xe.newNoDocument(y,t))}h.Be&&(i.set(d,h.ke()),h.qe())}});let s=Ot();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.je.forEach((h,d)=>d.setReadTime(t));const l=new hh(t,i,this.Ye,this.je,s);return this.je=Yi(),this.Je=Ec(),this.He=Ec(),this.Ye=new se(Nt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new pv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ie(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ie(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new pv),this.Ge.getRemoteKeysForTarget(t).forEach(i=>{this.et(t,i,null)})}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new se(dt.comparator)}function yv(){return new se(dt.comparator)}const kw={asc:"ASCENDING",desc:"DESCENDING"},Lw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zw={and:"AND",or:"OR"};class Bw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Wd(a,t){return a.useProto3Json||rh(t)?t:{value:t}}function Xc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function jw(a,t){return Xc(a,t.toTimestamp())}function ui(a){return qt(!!a,49232),At.fromTimestamp(function(i){const s=kr(i);return new te(s.seconds,s.nanos)}(a))}function xm(a,t){return tm(a,t).canonicalString()}function tm(a,t){const i=function(l){return new Wt(["projects",l.projectId,"databases",l.database])}(a).child("documents");return t===void 0?i:i.child(t)}function ST(a){const t=Wt.fromString(a);return qt(CT(t),10190,{key:t.toString()}),t}function em(a,t){return xm(a.databaseId,t.path)}function Vd(a,t){const i=ST(t);if(i.get(1)!==a.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new dt(RT(i))}function bT(a,t){return xm(a.databaseId,t)}function qw(a){const t=ST(a);return t.length===4?Wt.emptyPath():RT(t)}function nm(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function RT(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function _v(a,t,i){return{name:em(a,t),fields:i.value.mapValue.fields}}function Hw(a,t){let i;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_t(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),He.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),He.fromUint8Array(A||new Uint8Array))}(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?Z.UNKNOWN:vT(v.code);return new ot(A,v.message||"")}(d);i=new TT(s,l,h,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Vd(a,s.document.name),h=ui(s.document.updateTime),d=s.document.createTime?ui(s.document.createTime):At.min(),g=new On({mapValue:{fields:s.document.fields}}),y=Xe.newFoundDocument(l,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Oc(v,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Vd(a,s.document),h=s.readTime?ui(s.readTime):At.min(),d=Xe.newNoDocument(l,h),g=s.removedTargetIds||[];i=new Oc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Vd(a,s.document),h=s.removedTargetIds||[];i=new Oc([],h,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,d=new Vw(l,h),g=s.targetId;i=new ET(g,d)}}return i}function Gw(a,t){let i;if(t instanceof ql)i={update:_v(a,t.key,t.value)};else if(t instanceof Om)i={delete:em(a,t.key)};else if(t instanceof Ls)i={update:_v(a,t.key,t.data),updateMask:Ww(t.fieldMask)};else{if(!(t instanceof Dw))return _t(16599,{Vt:t.type});i={verify:em(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Kc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ol)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Yc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(i.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:jw(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t(27497)}(a,t.precondition)),i}function Fw(a,t){return a&&a.length>0?(qt(t!==void 0,14353),a.map(i=>function(l,h){let d=l.updateTime?ui(l.updateTime):ui(h);return d.isEqual(At.min())&&(d=ui(h)),new ww(d,l.transformResults||[])}(i,t))):[]}function Qw(a,t){return{documents:[bT(a,t.path)]}}function Kw(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=bT(a,l);const h=function(v){if(v.length!==0)return IT(di.create(v,"and"))}(t.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(N){return{field:xa(N.field),direction:$w(N.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Wd(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ft:i,parent:l}}function Yw(a){let t=qw(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=function(D){const N=wT(D);return N instanceof di&&iT(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(N=>function(J){return new Qc(Pa(J.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(N))}(i.orderBy));let g=null;i.limit&&(g=function(D){let N;return N=typeof D=="object"?D.value:D,rh(N)?null:N}(i.limit));let y=null;i.startAt&&(y=function(D){const N=!!D.before,F=D.values||[];return new Fc(F,N)}(i.startAt));let v=null;return i.endAt&&(v=function(D){const N=!D.before,F=D.values||[];return new Fc(F,N)}(i.endAt)),fw(t,l,d,h,g,"F",y,v)}function Xw(a,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function wT(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Pa(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Pa(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Pa(i.unaryFilter.field);return Re.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Pa(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(a):a.fieldFilter!==void 0?function(i){return Re.create(Pa(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return di.create(i.compositeFilter.filters.map(s=>wT(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(i.compositeFilter.op))}(a):_t(30097,{filter:a})}function $w(a){return kw[a]}function Zw(a){return Lw[a]}function Jw(a){return zw[a]}function xa(a){return{fieldPath:a.canonicalString()}}function Pa(a){return qe.fromServerFormat(a.fieldPath)}function IT(a){return a instanceof Re?function(i){if(i.op==="=="){if(sv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NAN"}};if(rv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(sv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NOT_NAN"}};if(rv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(i.field),op:Zw(i.op),value:i.value}}}(a):a instanceof di?function(i){const s=i.getFilters().map(l=>IT(l));return s.length===1?s[0]:{compositeFilter:{op:Jw(i.op),filters:s}}}(a):_t(54877,{filter:a})}function Ww(a){const t=[];return a.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function CT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,i,s,l,h=At.min(),d=At.min(),g=He.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.yt=t}}function eI(a){const t=Yw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Jd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.Cn=new iI}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Ur.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Ur.min())}updateCollectionGroup(t,i,s){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class iI{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Ie(Wt.comparator),h=!l.has(s);return this.index[i]=l.add(s),h}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ie(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DT=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(DT,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="LruGarbageCollector",rI=1048576;function Tv([a,t],[i,s]){const l=Nt(a,i);return l===0?Nt(t,s):l}class sI{constructor(t){this.Ir=t,this.buffer=new Ie(Tv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Tv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class aI{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Ev,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){eo(i)?rt(Ev,"Ignoring IndexedDB error during garbage collection: ",i):await to(i)}await this.Vr(3e5)})}}class oI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ih.ce);const s=new sI(i);return this.mr.forEachTarget(t,l=>s.Ar(l.sequenceNumber)).next(()=>this.mr.pr(t,l=>s.Ar(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(vv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vv):this.yr(t,i))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,h,d,g,y,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),l=this.params.maximumSequenceNumbersToCollect):l=D,d=Date.now(),this.nthSequenceNumber(t,l))).next(D=>(s=D,g=Date.now(),this.removeTargets(t,s,i))).next(D=>(h=D,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(D=>(v=Date.now(),Va()<=Dt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${D} documents in `+(v-y)+`ms
Total Duration: ${v-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:D})))}}function lI(a,t){return new oI(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.changes=new ks(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&bl(s.mutation,l,Bn.empty(),te.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Ot()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Ot()){const l=Is();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(h=>{let d=pl();return h.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=Is();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Ot()))}populateOverlays(t,i,s){const l=[];return s.forEach(h=>{i.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,l){let h=Yi();const d=Sl(),g=function(){return Sl()}();return i.forEach((y,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Ls)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),bl(A.mutation,v,A.mutation.getFieldMask(),te.now())):d.set(v.key,Bn.empty())}),this.recalculateAndSaveOverlays(t,h).next(y=>(y.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>g.set(v,new cI(A,d.get(v)??null))),g))}recalculateAndSaveOverlays(t,i){const s=Sl();let l=new se((d,g)=>d-g),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const v=i.get(y);if(v===null)return;let A=s.get(y)||Bn.empty();A=g.applyToLocalView(v,A),s.set(y,A);const D=(l.get(g.batchId)||Ot()).add(y);l=l.insert(g.batchId,D)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,A=y.value,D=hT();A.forEach(N=>{if(!h.has(N)){const F=yT(i.get(N),s.get(N));F!==null&&D.set(N,F),h=h.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,D))}return X.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):dw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-h.size):X.resolve(Is());let g=Il,y=h;return d.next(v=>X.forEach(v,(A,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next(N=>{y=y.insert(A,N)}))).next(()=>this.populateOverlays(t,v,h)).next(()=>this.computeViews(t,y,v,Ot())).next(A=>({batchId:g,changes:cT(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next(s=>{let l=pl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const h=i.collectionGroup;let d=pl();return this.indexManager.getCollectionParents(t,h).next(g=>X.forEach(g,y=>{const v=function(D,N){return new ah(N,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next(A=>{A.forEach((D,N)=>{d=d.insert(D,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,h,l))).next(d=>{h.forEach((y,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))});let g=pl();return d.forEach((y,v)=>{const A=h.get(y);A!==void 0&&bl(A.mutation,v,Bn.empty(),te.now()),lh(i,v)&&(g=g.insert(y,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ui(l.createTime)}}(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,function(l){return{name:l.name,query:eI(l.bundledQuery),readTime:ui(l.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.overlays=new se(dt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Is();return X.forEach(i,l=>this.getOverlay(t,l).next(h=>{h!==null&&s.set(l,h)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,h)=>{this.St(t,i,h)}),X.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(t,i,s){const l=Is(),h=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&y.largestBatchId>s&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let h=new se((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=Is(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Is(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return X.resolve(g)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Ow(i,s));let h=this.qr.get(i);h===void 0&&(h=Ot(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.Qr=new Ie(Pe.$r),this.Ur=new Ie(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Pe(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach(s=>this.removeReference(s,i))}jr(t){const i=new dt(new Wt([])),s=new Pe(i,t),l=new Pe(i,t+1),h=[];return this.Ur.forEachInRange([s,l],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new Wt([])),s=new Pe(i,t),l=new Pe(i,t+1);let h=Ot();return this.Ur.forEachInRange([s,l],d=>{h=h.add(d.key)}),h}containsKey(t){const i=new Pe(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(Pe.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Nw(h,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pe(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),h=l<0?0:l;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?bm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,l],d=>{const g=this.Xr(d.Yr);h.push(g)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ie(Nt);return i.forEach(l=>{const h=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{s=s.add(g.Yr)})}),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let h=s;dt.isDocumentKey(h)||(h=h.child(""));const d=new Pe(new dt(h),0);let g=new Ie(Nt);return this.Zr.forEachWhile(y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(g=g.add(y.Yr)),!0)},d),X.resolve(this.ti(g))}ti(t){const i=[];return t.forEach(s=>{const l=this.Xr(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,l=>{const h=new Pe(l.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,i){const s=new Pe(i,0),l=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t){this.ri=t,this.docs=function(){return new se(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let s=Yi();return i.forEach(l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():Xe.newInvalidDocument(l))}),X.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let h=Yi();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:A}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||GR(HR(A),s)<=0||(l.has(A.key)||lh(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(t,i,s,l){_t(9500)}ii(t,i){return X.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new yI(this)}getSize(t){return X.resolve(this.size)}}class yI extends uI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)}),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t){this.persistence=t,this.si=new ks(i=>Im(i),Cm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(t,i){return this.si.forEach((s,l)=>i(l)),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ya(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,s){let l=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),X.waitFor(h).next(()=>l)}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach(d=>{h.push(l.markPotentiallyOrphaned(t,d))}),X.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,i){this.ui={},this.overlays={},this.ci=new ih(0),this.li=!1,this.li=!0,this.hi=new mI,this.referenceDelegate=t(this),this.Pi=new _I(this),this.indexManager=new nI,this.remoteDocumentCache=function(l){return new pI(l)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new tI(i),this.Ii=new fI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new dI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new gI(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){rt("MemoryPersistence","Starting transaction:",t);const l=new vI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next(h=>this.referenceDelegate.di(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ai(t,i){return X.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,i)))}}class vI extends QR{constructor(t){super(),this.currentSequenceNumber=t}}class Um{constructor(t){this.persistence=t,this.Ri=new Pm,this.Vi=null}static mi(t){return new Um(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach(l=>this.fi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(h=>this.fi.add(h.toString()))}).next(()=>s.removeTargetData(t,i))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,s=>{const l=dt.fromPath(s);return this.gi(t,l).next(h=>{h||i.removeEntry(l,At.min())})}).next(()=>(this.Vi=null,i.apply(t)))}updateLimboDocument(t,i){return this.gi(t,i).next(s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class $c{constructor(t,i){this.persistence=t,this.pi=new ks(s=>XR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=lI(this,i)}static mi(t,i){return new $c(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}wr(t){let i=0;return this.pr(t,s=>{i++}).next(()=>i)}pr(t,i){return X.forEach(this.pi,(s,l)=>this.br(t,s,l).next(h=>h?X.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,d=>this.br(t,d,i).next(g=>{g||(s++,h.removeEntry(d,At.min()))})).next(()=>h.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Cc(t.data.value)),i}br(t,i,s){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Ot(),l=Ot();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new km(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return uS()?8:KR($e())>0?6:4}()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const h={result:null};return this.ys(t,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(t,i,l,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new EI;return this.Ss(t,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(t,i,d,g.size)})}).next(()=>h.result)}bs(t,i,s,l){return s.documentReadCount<this.fs?(Va()<=Dt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ma(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Va()<=Dt.DEBUG&&rt("QueryEngine","Query:",Ma(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Va()<=Dt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ma(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(i))):X.resolve())}ys(t,i){if(uv(i))return X.resolve(null);let s=oi(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Jd(i,null,"F"),s=oi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(h=>{const d=Ot(...h);return this.ps.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(y=>{const v=this.Ds(i,g);return this.Cs(i,v,d,y.readTime)?this.ys(t,Jd(i,null,"F")):this.vs(t,v,i,y)}))})))}ws(t,i,s,l){return uv(i)||l.isEqual(At.min())?X.resolve(null):this.ps.getDocuments(t,s).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,l)?X.resolve(null):(Va()<=Dt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ma(i)),this.vs(t,d,i,qR(l,Il)).next(g=>g))})}Ds(t,i){let s=new Ie(lT(t));return i.forEach((l,h)=>{lh(t,h)&&(s=s.add(h))}),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,s){return Va()<=Dt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ma(i)),this.ps.getDocumentsMatchingQuery(t,i,Ur.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="LocalStore",AI=3e8;class SI{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new se(Nt),this.xs=new ks(h=>Im(h),Cm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ms))}}function bI(a,t,i,s){return new SI(a,t,i,s)}async function OT(a,t){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let y=Ot();for(const v of l){d.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(s,y).next(v=>({Ls:v,removedBatchIds:d,addedBatchIds:g}))})})}function RI(a,t){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,y,v,A){const D=v.batch,N=D.keys();let F=X.resolve();return N.forEach(J=>{F=F.next(()=>A.getEntry(y,J)).next(nt=>{const W=v.docVersions.get(J);qt(W!==null,48541),nt.version.compareTo(W)<0&&(D.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))})}),F.next(()=>g.mutationQueue.removeMutationBatch(y,D))}(i,s,t,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=Ot();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y}(t))).next(()=>i.localDocuments.getDocuments(s,l))})}function VT(a){const t=St(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Pi.getLastRemoteSnapshotVersion(i))}function wI(a,t){const i=St(a),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach((A,D)=>{const N=l.get(D);if(!N)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,D).next(()=>i.Pi.addMatchingKeys(h,A.addedDocuments,D)));let F=N.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(D)!==null?F=F.withResumeToken(He.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,s)),l=l.insert(D,F),function(nt,W,ft){return nt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=AI?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0}(N,F,A)&&g.push(i.Pi.updateTargetData(h,F))});let y=Yi(),v=Ot();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(II(h,d,t.documentUpdates).next(A=>{y=A.ks,v=A.qs})),!s.isEqual(At.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next(D=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return X.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,v)).next(()=>y)}).then(h=>(i.Ms=l,h))}function II(a,t,i){let s=Ot(),l=Ot();return i.forEach(h=>s=s.add(h)),t.getEntries(a,s).next(h=>{let d=Yi();return i.forEach((g,y)=>{const v=h.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):rt(Lm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)}),{ks:d,qs:l}})}function CI(a,t){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=bm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function DI(a,t){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.Pi.getTargetData(s,t).next(h=>h?(l=h,X.resolve(l)):i.Pi.allocateTargetId(s).next(d=>(l=new Nr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s})}async function im(a,t,i){const s=St(a),l=s.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!eo(d))throw d;rt(Lm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function Av(a,t,i){const s=St(a);let l=At.min(),h=Ot();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,v,A){const D=St(y),N=D.xs.get(A);return N!==void 0?X.resolve(D.Ms.get(N)):D.Pi.getTargetData(v,A)}(s,d,oi(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{h=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?h:Ot())).next(g=>(NI(s,gw(t),g),{documents:g,Qs:h})))}function NI(a,t,i){let s=a.Os.get(t)||At.min();i.forEach((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Os.set(t,s)}class Sv{constructor(){this.activeTargetIds=Tw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OI{constructor(){this.Mo=new Sv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Sv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="ConnectivityMonitor";class Rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(bv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(bv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function rm(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="RestConnection",MI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Hc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,h){const d=rm(),g=this.zo(t,i.toUriEncodedString());rt(Md,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,h);const{host:v}=new URL(g),A=$a(v);return this.Jo(t,g,y,s,A).then(D=>(rt(Md,`Received RPC '${t}' ${d}: `,D),D),D=>{throw Ga(Md,`RPC '${t}' ${d} failed with error: `,D,"url: ",g,"request:",s),D})}Ho(t,i,s,l,h,d){return this.Go(t,i,s,l,h)}jo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),s&&s.headers.forEach((l,h)=>t[h]=l)}zo(t,i){const s=MI[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class UI extends xI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,h){const d=rm();return new Promise((g,y)=>{const v=new UE;v.setWithCredentials(!0),v.listenOnce(kE.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Ic.NO_ERROR:const D=v.getResponseJson();rt(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(D)),g(D);break;case Ic.TIMEOUT:rt(Ke,`RPC '${t}' ${d} timed out`),y(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const N=v.getStatus();if(rt(Ke,`RPC '${t}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const nt=function(ft){const pt=ft.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(pt)>=0?pt:Z.UNKNOWN}(J.status);y(new ot(nt,J.message))}else y(new ot(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{rt(Ke,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(l);rt(Ke,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,s,15)})}T_(t,i,s){const l=rm(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=BE(),g=zE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const A=h.join("");rt(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,y);const D=d.createWebChannel(A,y);this.I_(D);let N=!1,F=!1;const J=new PI({Yo:W=>{F?rt(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(N||(rt(Ke,`Opening RPC '${t}' stream ${l} transport.`),D.open(),N=!0),rt(Ke,`RPC '${t}' stream ${l} sending:`,W),D.send(W))},Zo:()=>D.close()}),nt=(W,ft,pt)=>{W.listen(ft,ct=>{try{pt(ct)}catch(Vt){setTimeout(()=>{throw Vt},0)}})};return nt(D,gl.EventType.OPEN,()=>{F||(rt(Ke,`RPC '${t}' stream ${l} transport opened.`),J.o_())}),nt(D,gl.EventType.CLOSE,()=>{F||(F=!0,rt(Ke,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(D))}),nt(D,gl.EventType.ERROR,W=>{F||(F=!0,Ga(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new ot(Z.UNAVAILABLE,"The operation could not be completed")))}),nt(D,gl.EventType.MESSAGE,W=>{if(!F){const ft=W.data[0];qt(!!ft,16349);const pt=ft,ct=pt?.error||pt[0]?.error;if(ct){rt(Ke,`RPC '${t}' stream ${l} received error:`,ct);const Vt=ct.status;let Tt=function(S){const R=ye[S];if(R!==void 0)return vT(R)}(Vt),Mt=ct.message;Tt===void 0&&(Tt=Z.INTERNAL,Mt="Unknown error status: "+Vt+" with message "+ct.message),F=!0,J.a_(new ot(Tt,Mt)),D.close()}else rt(Ke,`RPC '${t}' stream ${l} received:`,ft),J.u_(ft)}}),nt(g,LE.STAT_EVENT,W=>{W.stat===Qd.PROXY?rt(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Qd.NOPROXY&&rt(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{J.__()},0),J}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(i=>i===t)}}function xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(a){return new Bw(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,i,s=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="PersistentStream";class xT{constructor(t,i,s,l,h,d,g,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ki(i.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.D_===i&&this.G_(s,l)},s=>{t(()=>{const l=new ot(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)})})}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(l=>{s(()=>this.z_(l))}),this.stream.onMessage(l=>{s(()=>++this.F_==1?this.J_(l):this.onNext(l))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return rt(wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget(()=>this.D_===t?i():(rt(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kI extends xT{constructor(t,i,s,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Hw(this.serializer,t),s=function(h){if(!("targetChange"in h))return At.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ui(d.readTime):At.min()}(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=nm(this.serializer),i.addTarget=function(h,d){let g;const y=d.target;if(g=Zd(y)?{documents:Qw(h,y)}:{query:Kw(h,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=AT(h,d.resumeToken);const v=Wd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=Xc(h,d.snapshotVersion.toTimestamp());const v=Wd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=Xw(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=nm(this.serializer),i.removeTarget=t,this.q_(i)}}class LI extends xT{constructor(t,i,s,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Fw(t.writeResults,t.commitTime),s=ui(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=nm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>Gw(this.serializer,s))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{}class BI extends zI{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(t,tm(i,s),l,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(Z.UNKNOWN,h.toString())})}Ho(t,i,s,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(t,tm(i,s),l,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(Z.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ki(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class qI{constructor(t,i,s,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{zs(this)&&(rt(Ps,"Restarting streams for network reachability change."),await async function(y){const v=St(y);v.Ea.add(4),await Gl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await dh(v)}(this))})}),this.Ra=new jI(s,l)}}async function dh(a){if(zs(a))for(const t of a.da)await t(!0)}async function Gl(a){for(const t of a.da)await t(!1)}function PT(a,t){const i=St(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),qm(i)?jm(i):no(i).O_()&&Bm(i,t))}function zm(a,t){const i=St(a),s=no(i);i.Ia.delete(t),s.O_()&&UT(i,t),i.Ia.size===0&&(s.O_()?s.L_():zs(i)&&i.Ra.set("Unknown"))}function Bm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}no(a).Y_(t)}function UT(a,t){a.Va.Ue(t),no(a).Z_(t)}function jm(a){a.Va=new Uw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),no(a).start(),a.Ra.ua()}function qm(a){return zs(a)&&!no(a).x_()&&a.Ia.size>0}function zs(a){return St(a).Ea.size===0}function kT(a){a.Va=void 0}async function HI(a){a.Ra.set("Online")}async function GI(a){a.Ia.forEach((t,i)=>{Bm(a,t)})}async function FI(a,t){kT(a),qm(a)?(a.Ra.ha(t),jm(a)):a.Ra.set("Unknown")}async function QI(a,t,i){if(a.Ra.set("Online"),t instanceof TT&&t.state===2&&t.cause)try{await async function(l,h){const d=h.cause;for(const g of h.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))}(a,t)}catch(s){rt(Ps,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Zc(a,s)}else if(t instanceof Oc?a.Va.Ze(t):t instanceof ET?a.Va.st(t):a.Va.tt(t),!i.isEqual(At.min()))try{const s=await VT(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const A=h.Ia.get(v);A&&h.Ia.set(v,A.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,v)=>{const A=h.Ia.get(y);if(!A)return;h.Ia.set(y,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),UT(h,y);const D=new Nr(A.target,y,v,A.sequenceNumber);Bm(h,D)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){rt(Ps,"Failed to raise snapshot:",s),await Zc(a,s)}}async function Zc(a,t,i){if(!eo(t))throw t;a.Ea.add(1),await Gl(a),a.Ra.set("Offline"),i||(i=()=>VT(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{rt(Ps,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await dh(a)})}function LT(a,t){return t().catch(i=>Zc(a,i,t))}async function mh(a){const t=St(a),i=Br(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bm;for(;KI(t);)try{const l=await CI(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,YI(t,l)}catch(l){await Zc(t,l)}zT(t)&&BT(t)}function KI(a){return zs(a)&&a.Ta.length<10}function YI(a,t){a.Ta.push(t);const i=Br(a);i.O_()&&i.X_&&i.ea(t.mutations)}function zT(a){return zs(a)&&!Br(a).x_()&&a.Ta.length>0}function BT(a){Br(a).start()}async function XI(a){Br(a).ra()}async function $I(a){const t=Br(a);for(const i of a.Ta)t.ea(i.mutations)}async function ZI(a,t,i){const s=a.Ta.shift(),l=Vm.from(s,t,i);await LT(a,()=>a.remoteSyncer.applySuccessfulWrite(l)),await mh(a)}async function JI(a,t){t&&Br(a).X_&&await async function(s,l){if(function(d){return Mw(d)&&d!==Z.ABORTED}(l.code)){const h=s.Ta.shift();Br(s).B_(),await LT(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,l)),await mh(s)}}(a,t),zT(a)&&BT(a)}async function Iv(a,t){const i=St(a);i.asyncQueue.verifyOperationInProgress(),rt(Ps,"RemoteStore received new credentials");const s=zs(i);i.Ea.add(3),await Gl(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await dh(i)}async function WI(a,t){const i=St(a);t?(i.Ea.delete(2),await dh(i)):t||(i.Ea.add(2),await Gl(i),i.Ra.set("Unknown"))}function no(a){return a.ma||(a.ma=function(i,s,l){const h=St(i);return h.sa(),new kI(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(a.datastore,a.asyncQueue,{Xo:HI.bind(null,a),t_:GI.bind(null,a),r_:FI.bind(null,a),H_:QI.bind(null,a)}),a.da.push(async t=>{t?(a.ma.B_(),qm(a)?jm(a):a.Ra.set("Unknown")):(await a.ma.stop(),kT(a))})),a.ma}function Br(a){return a.fa||(a.fa=function(i,s,l){const h=St(i);return h.sa(),new LI(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:XI.bind(null,a),r_:JI.bind(null,a),ta:$I.bind(null,a),na:ZI.bind(null,a)}),a.da.push(async t=>{t?(a.fa.B_(),await mh(a)):(await a.fa.stop(),a.Ta.length>0&&(rt(Ps,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))})),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,i,s,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,h){const d=Date.now()+s,g=new Hm(t,i,d,l,h);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(a,t){if(Ki("AsyncQueue",`${t}: ${a}`),eo(a))return new ot(Z.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(t){return new ja(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=pl(),this.sortedSet=new se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new ja;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.ga=new se(dt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal((i,s)=>{t.push(s)}),t}}class Xa{constructor(t,i,s,l,h,d,g,y,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Xa(t,i,ja.emptySet(i),d,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class e2{constructor(){this.queries=Dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=St(i),h=l.queries;l.queries=Dv(),h.forEach((d,g)=>{for(const y of g.Sa)y.onError(s)})})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function Dv(){return new ks(a=>oT(a),oh)}async function n2(a,t){const i=St(a);let s=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(s=2):(h=new t2,s=t.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Gm(d,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Fm(i)}async function i2(a,t){const i=St(a),s=t.query;let l=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function r2(a,t){const i=St(a);let s=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&Fm(i)}function s2(a,t,i){const s=St(a),l=s.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);s.queries.delete(t)}function Fm(a){a.Ca.forEach(t=>{t.next()})}var sm,Nv;(Nv=sm||(sm={})).Ma="default",Nv.Cache="cache";class a2{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Xa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Xa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t){this.key=t}}class qT{constructor(t){this.key=t}}class o2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=lT(t),this.tu=new ja(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new Cv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,D)=>{const N=l.get(A),F=lh(this.query,D)?D:null,J=!!N&&this.mutatedKeys.has(N.key),nt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;N&&F?N.data.isEqual(F.data)?J!==nt&&(s.track({type:3,doc:F}),W=!0):this.su(N,F)||(s.track({type:2,doc:F}),W=!0,(y&&this.eu(F,y)>0||v&&this.eu(F,v)<0)&&(g=!0)):!N&&F?(s.track({type:0,doc:F}),W=!0):N&&!F&&(s.track({type:1,doc:N}),W=!0,(y||v)&&(g=!0)),W&&(F?(d=d.add(F),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort((A,D)=>function(F,J){const nt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:W})}};return nt(F)-nt(J)}(A.type,D.type)||this.eu(A.doc,D.doc)),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new Xa(this.query,t.tu,h,d,t.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const i=[];return t.forEach(s=>{this.Xa.has(s)||i.push(new qT(s))}),this.Xa.forEach(s=>{t.has(s)||i.push(new jT(s))}),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qm="SyncEngine";class l2{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class u2{constructor(t){this.key=t,this.hu=!1}}class c2{constructor(t,i,s,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ks(g=>oT(g),oh),this.Iu=new Map,this.Eu=new Set,this.du=new se(dt.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h2(a,t,i=!0){const s=YT(a);let l;const h=s.Tu.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await HT(s,t,i,!0),l}async function f2(a,t){const i=YT(a);await HT(i,t,!0,!1)}async function HT(a,t,i,s){const l=await DI(a.localStore,oi(t)),h=l.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await d2(a,t,h,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&PT(a.remoteStore,l),g}async function d2(a,t,i,s,l){a.pu=(D,N,F)=>async function(nt,W,ft,pt){let ct=W.view.ru(ft);ct.Cs&&(ct=await Av(nt.localStore,W.query,!1).then(({documents:M})=>W.view.ru(M,ct)));const Vt=pt&&pt.targetChanges.get(W.targetId),Tt=pt&&pt.targetMismatches.get(W.targetId)!=null,Mt=W.view.applyChanges(ct,nt.isPrimaryClient,Vt,Tt);return Vv(nt,W.targetId,Mt.au),Mt.snapshot}(a,D,N,F);const h=await Av(a.localStore,t,!0),d=new o2(t,h.Qs),g=d.ru(h.documents),y=Hl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),v=d.applyChanges(g,a.isPrimaryClient,y);Vv(a,i,v.au);const A=new l2(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),v.snapshot}async function m2(a,t,i){const s=St(a),l=s.Tu.get(t),h=s.Iu.get(l.targetId);if(h.length>1)return s.Iu.set(l.targetId,h.filter(d=>!oh(d,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await im(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&zm(s.remoteStore,l.targetId),am(s,l.targetId)}).catch(to)):(am(s,l.targetId),await im(s.localStore,l.targetId,!0))}async function g2(a,t){const i=St(a),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),zm(i.remoteStore,s.targetId))}async function p2(a,t,i){const s=S2(a);try{const l=await function(d,g){const y=St(d),v=te.now(),A=g.reduce((F,J)=>F.add(J.key),Ot());let D,N;return y.persistence.runTransaction("Locally write mutations","readwrite",F=>{let J=Yi(),nt=Ot();return y.Ns.getEntries(F,A).next(W=>{J=W,J.forEach((ft,pt)=>{pt.isValidDocument()||(nt=nt.add(ft))})}).next(()=>y.localDocuments.getOverlayedDocuments(F,J)).next(W=>{D=W;const ft=[];for(const pt of g){const ct=Cw(pt,D.get(pt.key).overlayedDocument);ct!=null&&ft.push(new Ls(pt.key,ct,tT(ct.value.mapValue),li.exists(!0)))}return y.mutationQueue.addMutationBatch(F,v,ft,g)}).next(W=>{N=W;const ft=W.applyToLocalDocumentSet(D,nt);return y.documentOverlayCache.saveOverlays(F,W.batchId,ft)})}).then(()=>({batchId:N.batchId,changes:cT(D)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new se(Nt)),v=v.insert(g,y),d.Vu[d.currentUser.toKey()]=v}(s,l.batchId,i),await Fl(s,l.changes),await mh(s.remoteStore)}catch(l){const h=Gm(l,"Failed to persist write");i.reject(h)}}async function GT(a,t){const i=St(a);try{const s=await wI(i.localStore,t);t.targetChanges.forEach((l,h)=>{const d=i.Au.get(h);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))}),await Fl(i,s,t)}catch(s){await to(s)}}function Ov(a,t,i){const s=St(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach((h,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const y=St(d);y.onlineState=g;let v=!1;y.queries.forEach((A,D)=>{for(const N of D.Sa)N.va(g)&&(v=!0)}),v&&Fm(y)}(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function y2(a,t,i){const s=St(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),h=l&&l.key;if(h){let d=new se(dt.comparator);d=d.insert(h,Xe.newNoDocument(h,At.min()));const g=Ot().add(h),y=new hh(At.min(),new Map,new se(Nt),d,g);await GT(s,y),s.du=s.du.remove(h),s.Au.delete(t),Km(s)}else await im(s.localStore,t,!1).then(()=>am(s,t,i)).catch(to)}async function _2(a,t){const i=St(a),s=t.batch.batchId;try{const l=await RI(i.localStore,t);QT(i,s,null),FT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Fl(i,l)}catch(l){await to(l)}}async function v2(a,t,i){const s=St(a);try{const l=await function(d,g){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return y.mutationQueue.lookupMutationBatch(v,g).next(D=>(qt(D!==null,37113),A=D.keys(),y.mutationQueue.removeMutationBatch(v,D))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>y.localDocuments.getDocuments(v,A))})}(s.localStore,t);QT(s,t,i),FT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Fl(s,l)}catch(l){await to(l)}}function FT(a,t){(a.mu.get(t)||[]).forEach(i=>{i.resolve()}),a.mu.delete(t)}function QT(a,t,i){const s=St(a);let l=s.Vu[s.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function am(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach(s=>{a.Ru.containsKey(s)||KT(a,s)})}function KT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(zm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Km(a))}function Vv(a,t,i){for(const s of i)s instanceof jT?(a.Ru.addReference(s.key,t),E2(a,s)):s instanceof qT?(rt(Qm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||KT(a,s.key)):_t(19791,{wu:s})}function E2(a,t){const i=t.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(rt(Qm,"New document in limbo: "+i),a.Eu.add(s),Km(a))}function Km(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new dt(Wt.fromString(t)),s=a.fu.next();a.Au.set(s,new u2(i)),a.du=a.du.insert(i,s),PT(a.remoteStore,new Nr(oi(Dm(i.path)),s,"TargetPurposeLimboResolution",ih.ce))}}async function Fl(a,t,i){const s=St(a),l=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((g,y)=>{d.push(s.pu(y,t,i).then(v=>{if((v||i)&&s.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(v){l.push(v);const A=km.As(y.targetId,v);h.push(A)}}))}),await Promise.all(d),s.Pu.H_(l),await async function(y,v){const A=St(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>X.forEach(v,N=>X.forEach(N.Es,F=>A.persistence.referenceDelegate.addReference(D,N.targetId,F)).next(()=>X.forEach(N.ds,F=>A.persistence.referenceDelegate.removeReference(D,N.targetId,F)))))}catch(D){if(!eo(D))throw D;rt(Lm,"Failed to update sequence numbers: "+D)}for(const D of v){const N=D.targetId;if(!D.fromCache){const F=A.Ms.get(N),J=F.snapshotVersion,nt=F.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(N,nt)}}}(s.localStore,h))}async function T2(a,t){const i=St(a);if(!i.currentUser.isEqual(t)){rt(Qm,"User change. New user:",t.toKey());const s=await OT(i.localStore,t);i.currentUser=t,function(h,d){h.mu.forEach(g=>{g.forEach(y=>{y.reject(new ot(Z.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Fl(i,s.Ls)}}function A2(a,t){const i=St(a),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function YT(a){const t=St(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=GT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=A2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=y2.bind(null,t),t.Pu.H_=r2.bind(null,t.eventManager),t.Pu.yu=s2.bind(null,t.eventManager),t}function S2(a){const t=St(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=v2.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return bI(this.persistence,new TI,t.initialUser,this.serializer)}Cu(t){return new NT(Um.mi,this.serializer)}Du(t){return new OI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class b2 extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof $c,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new aI(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new NT(s=>$c.mi(s,i),this.serializer)}}class om{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ov(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=T2.bind(null,this.syncEngine),await WI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new e2}()}createDatastore(t){const i=fh(t.databaseInfo.databaseId),s=function(h){return new UI(h)}(t.databaseInfo);return function(h,d,g,y){return new BI(h,d,g,y)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,h,d,g){return new qI(s,l,h,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>Ov(this.syncEngine,i,0),function(){return Rv.v()?new Rv:new VI}())}createSyncEngine(t,i){return function(l,h,d,g,y,v,A){const D=new c2(l,h,d,g,y,v);return A&&(D.gu=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const s=St(i);rt(Ps,"RemoteStore shutting down."),s.Ea.add(5),await Gl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}om.provider={build:()=>new om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ki("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="FirestoreClient";class w2{constructor(t,i,s,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=Am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{rt(jr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(rt(jr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Gm(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Pd(a,t){a.asyncQueue.verifyOperationInProgress(),rt(jr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async l=>{s.isEqual(l)||(await OT(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function Mv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await I2(a);rt(jr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener(s=>Iv(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,l)=>Iv(t.remoteStore,l)),a._onlineComponents=t}async function I2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){rt(jr,"Using user provided OfflineComponentProvider");try{await Pd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Ga("Error using user provided cache. Falling back to memory cache: "+i),await Pd(a,new Jc)}}else rt(jr,"Using default OfflineComponentProvider"),await Pd(a,new b2(void 0));return a._offlineComponents}async function XT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(rt(jr,"Using user provided OnlineComponentProvider"),await Mv(a,a._uninitializedComponentsProvider._online)):(rt(jr,"Using default OnlineComponentProvider"),await Mv(a,new om))),a._onlineComponents}function C2(a){return XT(a).then(t=>t.syncEngine)}async function xv(a){const t=await XT(a),i=t.eventManager;return i.onListen=h2.bind(null,t.syncEngine),i.onUnlisten=m2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=f2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=g2.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firestore.googleapis.com",Uv=!0;class kv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZT,this.ssl=Uv}else this.host=t.host,this.ssl=t.ssl??Uv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=DT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rI)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$T(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new OR;switch(s.type){case"firstParty":return new PR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Pv.get(i);s&&(rt("ComponentProvider","Removing Datastore"),Pv.delete(i),s.terminate())}(this),Promise.resolve()}}function D2(a,t,i,s={}){a=Ds(a,gh);const l=$a(t),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${t}:${i}`;l&&($v(`https://${g}`),Zv("Firestore",!0)),h.host!==ZT&&h.host!==g&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:g,ssl:l,emulatorOptions:s};if(!Os(y,d)&&(a._setSettings(y),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Ye.MOCK_USER;else{v=tS(s.mockUserToken,a._app?.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(D)}a._authCredentials=new VR(new qE(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ph(this.firestore,t,this._query)}}class we{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(jl(i,we._jsonSchema))return new we(t,s||null,new dt(Wt.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:_e("string",we._jsonSchemaVersion),referencePath:_e("string")};class Pr extends ph{constructor(t,i,s){super(t,i,Dm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new dt(t))}withConverter(t){return new Pr(this.firestore,t,this._path)}}function Ac(a,t,...i){if(a=gn(a),HE("collection","path",t),a instanceof gh){const s=Wt.fromString(t,...i);return $_(s),new Pr(a,null,s)}{if(!(a instanceof we||a instanceof Pr))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(t,...i));return $_(s),new Pr(a.firestore,null,s)}}function Ud(a,t,...i){if(a=gn(a),arguments.length===1&&(t=Am.newId()),HE("doc","path",t),a instanceof gh){const s=Wt.fromString(t,...i);return X_(s),new we(a,null,new dt(s))}{if(!(a instanceof we||a instanceof Pr))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(t,...i));return X_(s),new we(a.firestore,a instanceof Pr?a.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="AsyncQueue";class zv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MT(this,"async_queue_retry"),this._c=()=>{const s=xd();s&&rt(Lv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Cs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!eo(t))throw t;rt(Lv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const i=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,Ki("INTERNAL UNHANDLED ERROR: ",Bv(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Hm.createAndSchedule(this,t,i,s,h=>this.hc(h));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:Bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Bv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of s)if(h in l&&typeof l[h]=="function")return!0;return!1}(a,["next","error","complete"])}class Ml extends gh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new zv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zv(t),this._firestoreClient=void 0,await t}}}function N2(a,t){const i=typeof a=="object"?a:eE(),s=typeof a=="string"?a:Hc,l=fm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=JA("firestore");h&&D2(l,...h)}return l}function JT(a){if(a._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||O2(a),a._firestoreClient}function O2(a){const t=a._freezeSettings(),i=function(l,h,d,g){return new JR(l,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,$T(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new w2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(He.fromBase64String(t))}catch(i){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Vn(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jl(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:_e("string",Vn._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ci._jsonSchemaVersion}}static fromJSON(t){if(jl(t,ci._jsonSchema))return new ci(t.latitude,t.longitude)}}ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:_e("string",ci._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0}(this._values,t._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jl(t,hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new hi(t.vectorValues);throw new ot(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:_e("string",hi._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=/^__.*__$/;class M2{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Ls(t,this.data,this.fieldMask,i,this.fieldTransforms):new ql(t,this.data,i,this.fieldTransforms)}}function t0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:a})}}class Xm{constructor(t,i,s,l,h,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Xm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(t0(this.Ac)&&V2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class x2{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||fh(t)}Cc(t,i,s,l=!1){return new Xm({Ac:t,methodName:i,Dc:s,path:qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P2(a){const t=a._freezeSettings(),i=fh(a._databaseId);return new x2(a._databaseId,!!t.ignoreUndefinedProperties,i)}function U2(a,t,i,s,l,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,t,i,l);r0("Data must be an object, but it was:",d,s);const g=n0(s,d);let y,v;if(h.merge)y=new Bn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const N=k2(t,D,i);if(!d.contains(N))throw new ot(Z.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);z2(A,N)||A.push(N)}y=new Bn(A),v=d.fieldTransforms.filter(D=>y.covers(D.field))}else y=null,v=d.fieldTransforms;return new M2(new On(g),y,v)}function e0(a,t){if(i0(a=gn(a)))return r0("Unsupported field value:",t,a),n0(a,t);if(a instanceof WT)return function(s,l){if(!t0(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,l){const h=[];let d=0;for(const g of s){let y=e0(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(a,t)}return function(s,l){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Aw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=te.fromDate(s);return{timestampValue:Xc(l.serializer,h)}}if(s instanceof te){const h=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,h)}}if(s instanceof ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:AT(l.serializer,s._byteString)};if(s instanceof we){const h=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:xm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof hi)return function(d,g){return{mapValue:{fields:{[JE]:{stringValue:WE},[Gc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return Nm(g.serializer,v)})}}}}}}(s,l);throw l.Sc(`Unsupported field value: ${Sm(s)}`)}(a,t)}function n0(a,t){const i={};return QE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Us(a,(s,l)=>{const h=e0(l,t.mc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function i0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof te||a instanceof ci||a instanceof Vn||a instanceof we||a instanceof WT||a instanceof hi)}function r0(a,t,i){if(!i0(i)||!GE(i)){const s=Sm(i);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function k2(a,t,i){if((t=gn(t))instanceof Ym)return t._internalPath;if(typeof t=="string")return s0(a,t);throw Wc("Field path arguments must be of type string or ",a,!1,void 0,i)}const L2=new RegExp("[~\\*/\\[\\]]");function s0(a,t,i){if(t.search(L2)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Ym(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Wc(a,t,i,s,l){const h=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new ot(Z.INVALID_ARGUMENT,g+a+y)}function z2(a,t){return a.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t,i,s,l,h){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new B2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(o0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class B2 extends a0{data(){return super.data()}}function o0(a,t){return typeof t=="string"?s0(a,t):t instanceof Ym?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q2{convertValue(t,i="none"){switch(zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Us(t,(l,h)=>{s[l]=this.convertValue(h,i)}),s}convertVectorValue(t){const i=t.fields?.[Gc].arrayValue?.values?.map(s=>fe(s.doubleValue));return new hi(i)}convertGeoPoint(t){return new ci(fe(t.latitude),fe(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=sh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Cl(t));default:return null}}convertTimestamp(t){const i=kr(t);return new te(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Wt.fromString(t);qt(CT(s),9688,{name:t});const l=new Dl(s.get(1),s.get(3)),h=new dt(s.popFirst(5));return l.isEqual(i)||Ki(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(a,t,i){let s;return s=a?a.toFirestore(t):t,s}class _l{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ns extends a0{constructor(t,i,s,l,h,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(o0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ns._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ns._jsonSchema={type:_e("string",Ns._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class Vc extends Ns{data(t={}){return super.data(t)}}class qa{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new _l(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new Vc(this._firestore,this._userDataWriter,s.key,s,new _l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const y=new Vc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new _l(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const y=new Vc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new _l(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:G2(g.type),doc:y,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function G2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:a})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:_e("string",qa._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class l0 extends q2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,i)}}function qv(a,t,i){a=Ds(a,we);const s=Ds(a.firestore,Ml),l=H2(a.converter,t);return u0(s,[U2(P2(s),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,li.none())])}function F2(a){return u0(Ds(a.firestore,Ml),[new Om(a._key,li.none())])}function Hv(a,...t){a=gn(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||jv(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(jv(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let h,d,g;if(a instanceof we)d=Ds(a.firestore,Ml),g=Dm(a._key.path),h={next:y=>{t[s]&&t[s](Q2(d,a,y))},error:t[s+1],complete:t[s+2]};else{const y=Ds(a,ph);d=Ds(y.firestore,Ml),g=y._query;const v=new l0(d);h={next:A=>{t[s]&&t[s](new qa(d,v,y,A))},error:t[s+1],complete:t[s+2]},j2(a._query)}return function(v,A,D,N){const F=new R2(N),J=new a2(A,F,D);return v.asyncQueue.enqueueAndForget(async()=>n2(await xv(v),J)),()=>{F.Nu(),v.asyncQueue.enqueueAndForget(async()=>i2(await xv(v),J))}}(JT(d),g,l,h)}function u0(a,t){return function(s,l){const h=new Cs;return s.asyncQueue.enqueueAndForget(async()=>p2(await C2(s),l,h)),h.promise}(JT(a),t)}function Q2(a,t,i){const s=i.docs.get(t._key),l=new l0(a);return new Ns(a,l,t._key,s,new _l(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Wa=l})(Za),Ha(new Vs("firestore",(s,{instanceIdentifier:l,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Ml(new MR(s.getProvider("auth-internal")),new UR(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(v.options.projectId,A)}(d,l),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Mr(F_,Q_,t),Mr(F_,Q_,"esm2020")})();const lm=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},Mc=typeof __initial_auth_token<"u"?__initial_auth_token:null,Rs=typeof __app_id<"u"?__app_id:"default-app-id";let kd,Dn,Ua;if(Object.keys(lm).length>0&&Mc)try{kd=tE(lm),Dn=N2(kd),Ua=DR(kd),console.log("Firebase a été initialisé avec succès.")}catch(a){console.error("Erreur lors de l'initialisation de Firebase:",a)}else console.error("La configuration Firebase est manquante ou le jeton d'authentification est manquant.");const ml=[{name:"Étirements",points:5,unit:"minutes",pointsPer:10,group:"Groupe 3"},{name:"Gainage (Statique/Dynamique)",points:2,unit:"secondes",pointsPer:30,group:"Groupe 3"},{name:"Basket",points:10,unit:"minutes",pointsPer:30,group:"Groupe 1"},{name:"Corde à sauter",points:3,unit:"minutes",pointsPer:1,group:"Groupe 2"},{name:"Course à pied (piste)",points:5,unit:"km",pointsPer:1,group:"Groupe 2"},{name:"Course à pied (forêt)",points:7,unit:"km",pointsPer:1,group:"Groupe 2"},{name:"Course à pied (plage)",points:10,unit:"km",pointsPer:1,group:"Groupe 2"},{name:"Natation (piscine)",points:1,unit:"longueurs (25m)",pointsPer:1,group:"Groupe 2"},{name:"Natation (mer)",points:5,unit:"minutes",pointsPer:5,group:"Groupe 2"},{name:"Sport nautique",points:10,unit:"minutes",pointsPer:30,group:"Groupe 1"},{name:"Sport de raquettes",points:10,unit:"minutes",pointsPer:30,group:"Groupe 1"},{name:"Vélo (Elliptique/Appartement)",points:4,unit:"km",pointsPer:1,group:"Groupe 2"},{name:"Vélo (Route)",points:5,unit:"km",pointsPer:1,group:"Groupe 2"},{name:"Vélo (VTT)",points:7,unit:"km",pointsPer:1,group:"Groupe 2"},{name:"Autres sports",points:10,unit:"minutes",pointsPer:30,group:"Groupe 1"},{name:"Abdominaux",points:2,unit:"séries",pointsPer:10,group:"Groupe 3"}],K2=()=>{const[a,t]=xe.useState(!1),[i,s]=xe.useState(null),[l,h]=xe.useState([]),[d,g]=xe.useState(null),[y,v]=xe.useState([]),[A,D]=xe.useState(!1),[N,F]=xe.useState({date:"",exercise:"",value:""}),[J,nt]=xe.useState(!1),[W,ft]=xe.useState(""),[pt,ct]=xe.useState(!1),[Vt,Tt]=xe.useState(null),[Mt,M]=xe.useState(!1),[S,R]=xe.useState(!1);xe.useEffect(()=>{const H=async()=>{try{if(!Ua){console.error("L'instance d'authentification n'est pas disponible. Vérifiez la configuration Firebase."),R(!1);return}Mc?await gb(Ua,Mc):await cb(Ua),R(!0)}catch(Q){console.error("Erreur lors de l'authentification:",Q),R(!1)}};Object.keys(lm).length>0&&Mc&&H()},[a]),xe.useEffect(()=>{if(!Ua){console.log("L'instance d'authentification n'est pas prête.");return}const H=_b(Ua,Q=>{Q?(t(!0),s(Q.uid),console.log("Utilisateur authentifié:",Q.uid)):(t(!1),s(null),console.log("Utilisateur déconnecté."))});return()=>H()},[]),xe.useEffect(()=>{if(Dn&&i&&S){const H=Ac(Dn,"artifacts",Rs,"users",i,"players"),Q=Hv(H,st=>{const yt=st.docs.map(ht=>({id:ht.id,...ht.data()}));h(yt),d&&!yt.some(ht=>ht.id===d.id)&&(g(null),v([]))});return()=>Q()}},[Dn,i,Rs,d,S]),xe.useEffect(()=>{if(Dn&&i&&d&&S){const H=Ac(Dn,"artifacts",Rs,"users",i,"players",d.id,"activities"),Q=Hv(H,st=>{const yt=st.docs.map(ht=>({id:ht.id,...ht.data()}));v(yt)});return()=>Q()}else v([])},[Dn,i,Rs,d,S]);const O=H=>{const Q=ml.find(yt=>yt.name===H.exercise);if(!Q)return 0;const st=parseFloat(H.value);return isNaN(st)?0:st/Q.pointsPer*Q.points},V=H=>y.filter(Q=>{const st=ml.find(yt=>yt.name===Q.exercise);return st&&st.group===H}).reduce((Q,st)=>Q+O(st),0),P=()=>y.reduce((H,Q)=>H+O(Q),0),w=async()=>{const H=prompt("Entrez le nom du nouveau joueur:");if(H&&Dn&&i&&S){const Q=Ud(Ac(Dn,"artifacts",Rs,"users",i,"players"));await qv(Q,{name:H,createdAt:new Date})}else S||alert("L'application n'est pas encore connectée. Veuillez patienter ou vérifier votre configuration.")},ve=H=>{g(H)},ee=()=>{D(!0),ft("")},q=()=>{D(!1),F({date:"",exercise:"",value:""}),ft("")},et=H=>{const{name:Q,value:st}=H.target;F(yt=>({...yt,[Q]:st}))},lt=async H=>{if(H.preventDefault(),!N.date||!N.exercise||!N.value){ft("Veuillez remplir tous les champs.");return}nt(!0);try{const Q=Ud(Ac(Dn,"artifacts",Rs,"users",i,"players",d.id,"activities"));await qv(Q,N),F({date:"",exercise:"",value:""}),q(),ft("")}catch(Q){console.error("Erreur lors de l'ajout de l'activité:",Q),ft("Erreur lors de l'ajout. Veuillez réessayer.")}finally{nt(!1)}},Lt=H=>{Tt(H),ct(!0)},I=()=>{Tt(null),ct(!1),ft("")},$=async()=>{if(Vt&&Dn&&i&&d&&S){M(!0);try{const H=Ud(Dn,"artifacts",Rs,"users",i,"players",d.id,"activities",Vt.id);await F2(H),I(),ft("")}catch(H){console.error("Erreur lors de la suppression de l'activité:",H),ft("Erreur lors de la suppression. Veuillez réessayer.")}finally{M(!1)}}else ft("Erreur: Connexion à la base de données impossible.")};return it.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4",children:it.jsxs("div",{className:"container mx-auto max-w-4xl",children:[it.jsxs("header",{className:"text-center mb-8",children:[it.jsx("h1",{className:"text-3xl font-bold text-teal-400",children:"Suivi d'activités TNT U12"}),it.jsxs("p",{className:"text-gray-400",children:["ID Utilisateur: ",i||"En attente..."]}),!S&&it.jsx("p",{className:"text-red-400 text-sm mt-2",children:"Erreur: L'application n'est pas connectée à la base de données."})]}),it.jsxs("section",{className:"mb-8 p-6 bg-gray-800 rounded-xl shadow-lg",children:[it.jsxs("div",{className:"flex justify-between items-center mb-4",children:[it.jsx("h2",{className:"text-xl font-semibold text-gray-200",children:"Joueurs"}),it.jsx("button",{onClick:w,className:"px-4 py-2 bg-teal-500 text-white font-bold rounded-full hover:bg-teal-600 transition-colors",disabled:!S,children:"Ajouter un joueur"})]}),it.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(H=>it.jsx("button",{onClick:()=>ve(H),className:`px-4 py-2 rounded-full transition-colors ${d&&d.id===H.id?"bg-teal-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:H.name},H.id))})]}),d&&it.jsxs("section",{className:"p-6 bg-gray-800 rounded-xl shadow-lg",children:[it.jsxs("div",{className:"flex justify-between items-center mb-4",children:[it.jsx("h2",{className:"text-2xl font-bold text-teal-400",children:d.name}),it.jsx("button",{onClick:ee,className:"px-4 py-2 bg-teal-500 text-white font-bold rounded-full hover:bg-teal-600 transition-colors",disabled:!S,children:"Ajouter une activité"})]}),it.jsxs("div",{className:"mb-4 text-center",children:[it.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Points par groupe:"}),it.jsxs("div",{className:"flex justify-center gap-4 text-sm font-medium",children:[it.jsxs("span",{className:`p-2 rounded-lg ${V("Groupe 1")>=50?"bg-green-600":"bg-red-600"}`,children:["Groupe 1: ",V("Groupe 1")," / 50"]}),it.jsxs("span",{className:`p-2 rounded-lg ${V("Groupe 2")>=50?"bg-green-600":"bg-red-600"}`,children:["Groupe 2: ",V("Groupe 2")," / 50"]}),it.jsxs("span",{className:`p-2 rounded-lg ${V("Groupe 3")>=50?"bg-green-600":"bg-red-600"}`,children:["Groupe 3: ",V("Groupe 3")," / 50"]})]})]}),it.jsxs("div",{className:"text-center mb-4 p-4 bg-gray-700 rounded-lg",children:[it.jsxs("span",{className:"text-xl font-bold text-white",children:["Total des points: ",P()]}),it.jsx("p",{className:"text-sm text-gray-400",children:"Objectif: 200 points par semaine minimum"}),P()>=200?it.jsx("span",{className:"text-green-400 text-sm font-semibold",children:"Objectif atteint !"}):it.jsx("span",{className:"text-red-400 text-sm font-semibold",children:"Objectif non atteint."})]}),y.length>0?it.jsx("div",{className:"space-y-4",children:y.map(H=>it.jsxs("div",{className:"bg-gray-700 p-4 rounded-xl shadow flex items-center justify-between",children:[it.jsxs("div",{children:[it.jsxs("p",{className:"text-gray-300 text-sm",children:["Date: ",it.jsx("span",{className:"font-semibold text-white",children:H.date})]}),it.jsx("p",{className:"text-lg font-bold text-teal-400",children:H.exercise}),it.jsxs("p",{className:"text-gray-300 text-sm",children:[H.value," ",ml.find(Q=>Q.name===H.exercise)?.unit]})]}),it.jsxs("div",{className:"text-right",children:[it.jsxs("p",{className:"text-xl font-extrabold text-white",children:[O(H)," Pts"]}),it.jsx("button",{onClick:()=>Lt(H),className:"text-red-400 hover:text-red-500 transition-colors text-sm font-semibold mt-2",children:"Supprimer"})]})]},H.id))}):it.jsx("p",{className:"text-center text-gray-400",children:"Aucune activité enregistrée pour ce joueur."})]}),A&&it.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4",children:it.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md",children:[it.jsxs("h3",{className:"text-2xl font-bold text-white mb-4",children:["Ajouter une activité pour ",d.name]}),W&&it.jsx("p",{className:"text-sm text-center text-red-400 mb-4",children:W}),it.jsxs("form",{onSubmit:lt,className:"space-y-4",children:[it.jsxs("div",{children:[it.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-300",children:"Date"}),it.jsx("input",{type:"date",id:"date",name:"date",value:N.date,onChange:et,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-teal-500 focus:border-teal-500"})]}),it.jsxs("div",{children:[it.jsx("label",{htmlFor:"exercise",className:"block text-sm font-medium text-gray-300",children:"Activité"}),it.jsxs("select",{id:"exercise",name:"exercise",value:N.exercise,onChange:et,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-teal-500 focus:border-teal-500",children:[it.jsx("option",{value:"",disabled:!0,children:"Sélectionner une activité"}),ml.map(H=>it.jsx("option",{value:H.name,children:H.name},H.name))]})]}),it.jsxs("div",{children:[it.jsxs("label",{htmlFor:"value",className:"block text-sm font-medium text-gray-300",children:["Valeur (",N.exercise?ml.find(H=>H.name===N.exercise)?.unit:"Unité",")"]}),it.jsx("input",{type:"number",id:"value",name:"value",value:N.value,onChange:et,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-teal-500 focus:border-teal-500",placeholder:"Ex: 5, 30, 250"})]}),it.jsxs("div",{className:"flex justify-end space-x-4",children:[it.jsx("button",{type:"button",onClick:q,disabled:J,className:"px-4 py-2 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Annuler"}),it.jsx("button",{type:"submit",disabled:J,className:"px-4 py-2 bg-teal-500 text-white font-bold rounded-full hover:bg-teal-600 transition-colors disabled:opacity-50",children:J?"Ajout...":"Ajouter"})]})]})]})}),pt&&it.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4",children:it.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md",children:[it.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Confirmer la suppression"}),it.jsxs("p",{className:"text-gray-300 mb-4",children:["Êtes-vous sûr de vouloir supprimer l'activité ",it.jsx("span",{className:"font-bold",children:Vt.exercise})," du ",it.jsx("span",{className:"font-bold",children:Vt.date})," pour ",it.jsx("span",{className:"font-bold",children:d.name})," ? Cette action est irréversible."]}),W&&it.jsxs("p",{className:"text-sm text-center text-red-400 mb-4",children:["Erreur: ",W]}),it.jsxs("div",{className:"flex justify-end space-x-4",children:[it.jsx("button",{onClick:I,disabled:Mt,className:"px-4 py-2 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Annuler"}),it.jsx("button",{onClick:$,disabled:Mt,className:"px-4 py-2 bg-red-500 text-white font-bold rounded-full hover:bg-red-600 transition-colors disabled:opacity-50",children:Mt?"Suppression...":"Supprimer"})]})]})})]})})};HA.createRoot(document.getElementById("root")).render(it.jsx(xe.StrictMode,{children:it.jsx(K2,{})}));
