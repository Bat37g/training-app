(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var _d={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function UA(){if(a_)return fl;a_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:h}}return fl.Fragment=t,fl.jsx=i,fl.jsxs=i,fl}var o_;function kA(){return o_||(o_=1,_d.exports=UA()),_d.exports}var it=kA(),vd={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function LA(){if(l_)return bt;l_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function V(I){return I===null||typeof I!="object"?null:(I=D&&I[D]||I["@@iterator"],typeof I=="function"?I:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,rt={};function W(I,X,et){this.props=I,this.context=X,this.refs=rt,this.updater=et||G}W.prototype.isReactComponent={},W.prototype.setState=function(I,X){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,X,"setState")},W.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Et(){}Et.prototype=W.prototype;function dt(I,X,et){this.props=I,this.context=X,this.refs=rt,this.updater=et||G}var ft=dt.prototype=new Et;ft.constructor=dt,Z(ft,W.prototype),ft.isPureReactComponent=!0;var Lt=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},Mt=Object.prototype.hasOwnProperty;function M(I,X,et,J,Y,st){return et=st.ref,{$$typeof:s,type:I,key:X,ref:et!==void 0?et:null,props:st}}function S(I,X){return M(I.type,X,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function N(I){var X={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(et){return X[et]})}var O=/\/+/g;function P(I,X){return typeof I=="object"&&I!==null&&I.key!=null?N(""+I.key):X.toString(36)}function w(){}function me(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(w,w):(I.status="pending",I.then(function(X){I.status==="pending"&&(I.status="fulfilled",I.value=X)},function(X){I.status==="pending"&&(I.status="rejected",I.reason=X)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Wt(I,X,et,J,Y){var st=typeof I;(st==="undefined"||st==="boolean")&&(I=null);var at=!1;if(I===null)at=!0;else switch(st){case"bigint":case"string":case"number":at=!0;break;case"object":switch(I.$$typeof){case s:case t:at=!0;break;case A:return at=I._init,Wt(at(I._payload),X,et,J,Y)}}if(at)return Y=Y(I),at=J===""?"."+P(I,0):J,Lt(Y)?(et="",at!=null&&(et=at.replace(O,"$&/")+"/"),Wt(Y,X,et,"",function(jn){return jn})):Y!=null&&(R(Y)&&(Y=S(Y,et+(Y.key==null||I&&I.key===Y.key?"":(""+Y.key).replace(O,"$&/")+"/")+at)),X.push(Y)),1;at=0;var Bt=J===""?".":J+":";if(Lt(I))for(var Dt=0;Dt<I.length;Dt++)J=I[Dt],st=Bt+P(J,Dt),at+=Wt(J,X,et,st,Y);else if(Dt=V(I),typeof Dt=="function")for(I=Dt.call(I),Dt=0;!(J=I.next()).done;)J=J.value,st=Bt+P(J,Dt++),at+=Wt(J,X,et,st,Y);else if(st==="object"){if(typeof I.then=="function")return Wt(me(I),X,et,J,Y);throw X=String(I),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return at}function q(I,X,et){if(I==null)return I;var J=[],Y=0;return Wt(I,J,"","",function(st){return X.call(et,st,Y++)}),J}function nt(I){if(I._status===-1){var X=I._result;X=X(),X.then(function(et){(I._status===0||I._status===-1)&&(I._status=1,I._result=et)},function(et){(I._status===0||I._status===-1)&&(I._status=2,I._result=et)}),I._status===-1&&(I._status=0,I._result=X)}if(I._status===1)return I._result.default;throw I._result}var ut=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function zt(){}return bt.Children={map:q,forEach:function(I,X,et){q(I,function(){X.apply(this,arguments)},et)},count:function(I){var X=0;return q(I,function(){X++}),X},toArray:function(I){return q(I,function(X){return X})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},bt.Component=W,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=dt,bt.StrictMode=a,bt.Suspense=_,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,bt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return Tt.H.useMemoCache(I)}},bt.cache=function(I){return function(){return I.apply(null,arguments)}},bt.cloneElement=function(I,X,et){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var J=Z({},I.props),Y=I.key,st=void 0;if(X!=null)for(at in X.ref!==void 0&&(st=void 0),X.key!==void 0&&(Y=""+X.key),X)!Mt.call(X,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&X.ref===void 0||(J[at]=X[at]);var at=arguments.length-2;if(at===1)J.children=et;else if(1<at){for(var Bt=Array(at),Dt=0;Dt<at;Dt++)Bt[Dt]=arguments[Dt+2];J.children=Bt}return M(I.type,Y,void 0,void 0,st,J)},bt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},bt.createElement=function(I,X,et){var J,Y={},st=null;if(X!=null)for(J in X.key!==void 0&&(st=""+X.key),X)Mt.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(Y[J]=X[J]);var at=arguments.length-2;if(at===1)Y.children=et;else if(1<at){for(var Bt=Array(at),Dt=0;Dt<at;Dt++)Bt[Dt]=arguments[Dt+2];Y.children=Bt}if(I&&I.defaultProps)for(J in at=I.defaultProps,at)Y[J]===void 0&&(Y[J]=at[J]);return M(I,st,void 0,void 0,null,Y)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(I){return{$$typeof:g,render:I}},bt.isValidElement=R,bt.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:nt}},bt.memo=function(I,X){return{$$typeof:v,type:I,compare:X===void 0?null:X}},bt.startTransition=function(I){var X=Tt.T,et={};Tt.T=et;try{var J=I(),Y=Tt.S;Y!==null&&Y(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(zt,ut)}catch(st){ut(st)}finally{Tt.T=X}},bt.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},bt.use=function(I){return Tt.H.use(I)},bt.useActionState=function(I,X,et){return Tt.H.useActionState(I,X,et)},bt.useCallback=function(I,X){return Tt.H.useCallback(I,X)},bt.useContext=function(I){return Tt.H.useContext(I)},bt.useDebugValue=function(){},bt.useDeferredValue=function(I,X){return Tt.H.useDeferredValue(I,X)},bt.useEffect=function(I,X,et){var J=Tt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(I,X)},bt.useId=function(){return Tt.H.useId()},bt.useImperativeHandle=function(I,X,et){return Tt.H.useImperativeHandle(I,X,et)},bt.useInsertionEffect=function(I,X){return Tt.H.useInsertionEffect(I,X)},bt.useLayoutEffect=function(I,X){return Tt.H.useLayoutEffect(I,X)},bt.useMemo=function(I,X){return Tt.H.useMemo(I,X)},bt.useOptimistic=function(I,X){return Tt.H.useOptimistic(I,X)},bt.useReducer=function(I,X,et){return Tt.H.useReducer(I,X,et)},bt.useRef=function(I){return Tt.H.useRef(I)},bt.useState=function(I){return Tt.H.useState(I)},bt.useSyncExternalStore=function(I,X,et){return Tt.H.useSyncExternalStore(I,X,et)},bt.useTransition=function(){return Tt.H.useTransition()},bt.version="19.1.1",bt}var u_;function um(){return u_||(u_=1,vd.exports=LA()),vd.exports}var Ke=um(),Ed={exports:{}},dl={},Td={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function zA(){return c_||(c_=1,function(s){function t(q,nt){var ut=q.length;q.push(nt);t:for(;0<ut;){var zt=ut-1>>>1,I=q[zt];if(0<l(I,nt))q[zt]=nt,q[ut]=I,ut=zt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var nt=q[0],ut=q.pop();if(ut!==nt){q[0]=ut;t:for(var zt=0,I=q.length,X=I>>>1;zt<X;){var et=2*(zt+1)-1,J=q[et],Y=et+1,st=q[Y];if(0>l(J,ut))Y<I&&0>l(st,J)?(q[zt]=st,q[Y]=ut,zt=Y):(q[zt]=J,q[et]=ut,zt=et);else if(Y<I&&0>l(st,ut))q[zt]=st,q[Y]=ut,zt=Y;else break t}}return nt}function l(q,nt){var ut=q.sortIndex-nt.sortIndex;return ut!==0?ut:q.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,D=null,V=3,G=!1,Z=!1,rt=!1,W=!1,Et=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Lt(q){for(var nt=i(v);nt!==null;){if(nt.callback===null)a(v);else if(nt.startTime<=q)a(v),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(v)}}function Tt(q){if(rt=!1,Lt(q),!Z)if(i(_)!==null)Z=!0,Mt||(Mt=!0,P());else{var nt=i(v);nt!==null&&Wt(Tt,nt.startTime-q)}}var Mt=!1,M=-1,S=5,R=-1;function N(){return W?!0:!(s.unstable_now()-R<S)}function O(){if(W=!1,Mt){var q=s.unstable_now();R=q;var nt=!0;try{t:{Z=!1,rt&&(rt=!1,dt(M),M=-1),G=!0;var ut=V;try{e:{for(Lt(q),D=i(_);D!==null&&!(D.expirationTime>q&&N());){var zt=D.callback;if(typeof zt=="function"){D.callback=null,V=D.priorityLevel;var I=zt(D.expirationTime<=q);if(q=s.unstable_now(),typeof I=="function"){D.callback=I,Lt(q),nt=!0;break e}D===i(_)&&a(_),Lt(q)}else a(_);D=i(_)}if(D!==null)nt=!0;else{var X=i(v);X!==null&&Wt(Tt,X.startTime-q),nt=!1}}break t}finally{D=null,V=ut,G=!1}nt=void 0}}finally{nt?P():Mt=!1}}}var P;if(typeof ft=="function")P=function(){ft(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,me=w.port2;w.port1.onmessage=O,P=function(){me.postMessage(null)}}else P=function(){Et(O,0)};function Wt(q,nt){M=Et(function(){q(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(q){switch(V){case 1:case 2:case 3:var nt=3;break;default:nt=V}var ut=V;V=nt;try{return q()}finally{V=ut}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(q,nt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ut=V;V=q;try{return nt()}finally{V=ut}},s.unstable_scheduleCallback=function(q,nt,ut){var zt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?zt+ut:zt):ut=zt,q){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ut+I,q={id:A++,callback:nt,priorityLevel:q,startTime:ut,expirationTime:I,sortIndex:-1},ut>zt?(q.sortIndex=ut,t(v,q),i(_)===null&&q===i(v)&&(rt?(dt(M),M=-1):rt=!0,Wt(Tt,ut-zt))):(q.sortIndex=I,t(_,q),Z||G||(Z=!0,Mt||(Mt=!0,P()))),q},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(q){var nt=V;return function(){var ut=V;V=nt;try{return q.apply(this,arguments)}finally{V=ut}}}}(Ad)),Ad}var h_;function BA(){return h_||(h_=1,Td.exports=zA()),Td.exports}var Sd={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function jA(){if(f_)return Fe;f_=1;var s=um();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(_,v,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:D==null?null:""+D,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Fe.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(_,v,null,A)},Fe.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},Fe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Fe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Fe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:D,integrity:V,fetchPriority:G}):A==="script"&&a.d.X(_,{crossOrigin:D,integrity:V,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Fe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Fe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Fe.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Fe.requestFormReset=function(_){a.d.r(_)},Fe.unstable_batchedUpdates=function(_,v){return _(v)},Fe.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.1",Fe}var d_;function qA(){if(d_)return Sd.exports;d_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Sd.exports=jA(),Sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function HA(){if(m_)return dl;m_=1;var s=BA(),t=um(),i=qA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),e;if(f===o)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=c,o=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,o=f;break}if(E===o){y=!0,o=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,o=c;break}if(E===o){y=!0,o=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case W:return"Profiler";case rt:return"StrictMode";case Tt:return"Suspense";case Mt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case ft:return(e.displayName||"Context")+".Provider";case dt:return(e._context.displayName||"Context")+".Consumer";case Lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return n=e.displayName||null,n!==null?n:me(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return me(e(n))}catch{}}return null}var Wt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},zt=[],I=-1;function X(e){return{current:e}}function et(e){0>I||(e.current=zt[I],zt[I]=null,I--)}function J(e,n){I++,zt[I]=e.current,e.current=n}var Y=X(null),st=X(null),at=X(null),Bt=X(null);function Dt(e,n){switch(J(at,n),J(st,e),J(Y,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?xy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=xy(n),e=Py(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(Y),J(Y,e)}function jn(){et(Y),et(st),et(at)}function $i(e){e.memoizedState!==null&&J(Bt,e);var n=Y.current,r=Py(n,e.type);n!==r&&(J(st,e),J(Y,r))}function mi(e){st.current===e&&(et(Y),et(st)),Bt.current===e&&(et(Bt),ol._currentValue=ut)}var Hr=Object.prototype.hasOwnProperty,Gr=s.unstable_scheduleCallback,Fr=s.unstable_cancelCallback,io=s.unstable_shouldYield,Ql=s.unstable_requestPaint,yn=s.unstable_now,yh=s.unstable_getCurrentPriorityLevel,ro=s.unstable_ImmediatePriority,js=s.unstable_UserBlockingPriority,Qr=s.unstable_NormalPriority,_h=s.unstable_LowPriority,qs=s.unstable_IdlePriority,so=s.log,Kl=s.unstable_setDisableYieldValue,oe=null,Ft=null;function an(e){if(typeof so=="function"&&Kl(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(oe,e)}catch{}}var He=Math.clz32?Math.clz32:Kr,Yl=Math.log,vh=Math.LN2;function Kr(e){return e>>>=0,e===0?32:31-(Yl(e)/vh|0)|0}var Yr=256,Xr=4194304;function Mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hs(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Mn(o):(y&=E,y!==0?c=Mn(y):r||(r=E&~e,r!==0&&(c=Mn(r))))):(E=o&~f,E!==0?c=Mn(E):y!==0?c=Mn(y):r||(r=o&~e,r!==0&&(c=Mn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function $r(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ao(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var e=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),e}function lo(){var e=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),e}function gi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function pi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uo(e,n,r,o,c,f){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(r=y&~r;0<r;){var H=31-He(r),Q=1<<H;E[H]=0,b[H]=-1;var z=L[H];if(z!==null)for(L[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}r&=~Q}o!==0&&qn(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function qn(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-He(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194090}function co(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-He(r),c=1<<o;c&n|e[o]&n&&(e[o]|=n),r&=~c}}function Zi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ji(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:t_(e.type))}function Xl(e,n){var r=nt.p;try{return nt.p=e,n()}finally{nt.p=r}}var ie=Math.random().toString(36).slice(2),Te="__reactFiber$"+ie,ge="__reactProps$"+ie,_n="__reactContainer$"+ie,ho="__reactEvents$"+ie,Eh="__reactListeners$"+ie,Wi="__reactHandles$"+ie,$l="__reactResources$"+ie,Zr="__reactMarker$"+ie;function tr(e){delete e[Te],delete e[ge],delete e[ho],delete e[Eh],delete e[Wi]}function yi(e){var n=e[Te];if(n)return n;for(var r=e.parentNode;r;){if(n=r[_n]||r[Te]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=zy(e);e!==null;){if(r=e[Te])return r;e=zy(e)}return n}e=r,r=e.parentNode}return null}function Hn(e){if(e=e[Te]||e[_n]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ze(e){var n=e[$l];return n||(n=e[$l]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(e){e[Zr]=!0}var fo=new Set,Fs={};function xn(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for(Fs[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var Zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jl={},Jr={};function Wl(e){return Hr.call(Jr,e)?!0:Hr.call(Jl,e)?!1:Zl.test(e)?Jr[e]=!0:(Jl[e]=!0,!1)}function er(e,n,r){if(Wl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Fn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Pe(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}var Wr,tu;function vi(e){if(Wr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Wr=n&&n[1]||"",tu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+e+tu}var Qs=!1;function Ks(e,n){if(!e||Qs)return"";Qs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),L=E.split(`
`);for(c=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(o===b.length||c===L.length)for(o=b.length-1,c=L.length-1;1<=o&&0<=c&&b[o]!==L[c];)c--;for(;1<=o&&0<=c;o--,c--)if(b[o]!==L[c]){if(o!==1||c!==1)do if(o--,c--,0>c||b[o]!==L[c]){var H=`
`+b[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=c);break}}}finally{Qs=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?vi(r):""}function mo(e){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Ks(e.type,!1);case 11:return Ks(e.type.render,!1);case 1:return Ks(e.type,!0);case 31:return vi("Activity");default:return""}}function Ys(e){try{var n="";do n+=mo(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function go(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Th(e){var n=go(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xs(e){e._valueTracker||(e._valueTracker=Th(e))}function po(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=go(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ah=/[\n"\\]/g;function pe(e){return e.replace(Ah,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function on(e,n,r,o,c,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Je(n)):e.value!==""+Je(n)&&(e.value=""+Je(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?nr(e,y,Je(n)):r!=null?nr(e,y,Je(r)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Je(E):e.removeAttribute("name")}function es(e,n,r,o,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Je(r):"",n=n!=null?""+Je(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function nr(e,n,r){n==="number"&&ts(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ei(e,n,r,o){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Je(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Yt(e,n,r){if(n!=null&&(n=""+Je(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Je(r):""}function ns(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Wt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Je(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function vn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||is.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function yo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&r[c]!==o&&eu(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&eu(e,f,n[f])}function _o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(e){return bh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ti=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,Si=null;function vo(e){var n=Hn(e);if(n&&(e=n.stateNode)){var r=e[ge]||null;t:switch(e=n.stateNode,n.type){case"input":if(on(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+pe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var c=o[ge]||null;if(!c)throw Error(a(90));on(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&po(o)}break t;case"textarea":Yt(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Ei(e,!!r.multiple,n,!1)}}}var Qn=!1;function nu(e,n,r){if(Qn)return e(n,r);Qn=!0;try{var o=e(n);return o}finally{if(Qn=!1,(Ai!==null||Si!==null)&&(Xu(),Ai&&(n=Ai,e=Si,Si=Ai=null,vo(n),e)))for(n=0;n<e.length;n++)vo(e[n])}}function rs(e,n){var r=e.stateNode;if(r===null)return null;var o=r[ge]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(Pn)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Tn=!1}var Kn=null,ir=null,bi=null;function Eo(){if(bi)return bi;var e,n=ir,r=n.length,o,c="value"in Kn?Kn.value:Kn.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var y=r-e;for(o=1;o<=y&&n[r-o]===c[f-o];o++);return bi=c.slice(e,1<o?1-o:void 0)}function Yn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function To(){return!1}function De(e){function n(r,o,c,f,y){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xn:To,this.isPropagationStopped=To,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=De(Ht),as=A({},Ht,{view:0,detail:0}),iu=De(as),Js,Ws,$n,os=A({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(Js=e.screenX-$n.screenX,Ws=e.screenY-$n.screenY):Ws=Js=0,$n=e),Js)},movementY:function(e){return"movementY"in e?e.movementY:Ws}}),An=De(os),ru=A({},os,{dataTransfer:0}),wh=De(ru),ls=A({},as,{relatedTarget:0}),ta=De(ls),Ao=A({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ea=De(Ao),su=A({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),na=De(su),Rh=A({},Ht,{data:0}),So=De(Rh),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ou[e])?!!n[e]:!1}function cs(){return bo}var lu=A({},as,{key:function(e){if(e.key){var n=us[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ia=De(lu),uu=A({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wo=De(uu),wi=A({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),cu=De(wi),hu=A({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),fu=De(hu),du=A({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ra=De(du),We=A({},Ht,{newState:0,oldState:0}),mu=De(We),gu=[9,13,27,32],Zn=Pn&&"CompositionEvent"in window,u=null;Pn&&"documentMode"in document&&(u=document.documentMode);var m=Pn&&"TextEvent"in window&&!u,p=Pn&&(!Zn||u&&8<u&&11>=u),T=" ",U=!1;function j(e,n){switch(e){case"keyup":return gu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function Ae(e,n){switch(e){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return e=n.data,e===T&&U?null:e;default:return null}}function Pt(e,n){if(xt)return e==="compositionend"||!Zn&&j(e,n)?(e=Eo(),bi=ir=Kn=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ne[e.type]:n==="textarea"}function Ri(e,n,r,o){Ai?Si?Si.push(o):Si=[o]:Ai=o,n=ec(n,"onChange"),0<n.length&&(r=new Zs("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ue=null,Jn=null;function Ro(e){Dy(e,0)}function pu(e){var n=Gn(e);if(po(n))return e}function $m(e,n){if(e==="change")return n}var Zm=!1;if(Pn){var Ih;if(Pn){var Ch="oninput"in document;if(!Ch){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),Ch=typeof Jm.oninput=="function"}Ih=Ch}else Ih=!1;Zm=Ih&&(!document.documentMode||9<document.documentMode)}function Wm(){Ue&&(Ue.detachEvent("onpropertychange",tg),Jn=Ue=null)}function tg(e){if(e.propertyName==="value"&&pu(Jn)){var n=[];Ri(n,Jn,e,En(e)),nu(Ro,n)}}function f0(e,n,r){e==="focusin"?(Wm(),Ue=n,Jn=r,Ue.attachEvent("onpropertychange",tg)):e==="focusout"&&Wm()}function d0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(Jn)}function m0(e,n){if(e==="click")return pu(n)}function g0(e,n){if(e==="input"||e==="change")return pu(n)}function p0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ln=typeof Object.is=="function"?Object.is:p0;function Io(e,n){if(ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!Hr.call(n,c)||!ln(e[c],n[c]))return!1}return!0}function eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ng(e,n){var r=eg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=eg(r)}}function ig(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ig(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ts(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ts(e.document)}return n}function Dh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var y0=Pn&&"documentMode"in document&&11>=document.documentMode,sa=null,Nh=null,Co=null,Oh=!1;function sg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oh||sa==null||sa!==ts(o)||(o=sa,"selectionStart"in o&&Dh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Co&&Io(Co,o)||(Co=o,o=ec(Nh,"onSelect"),0<o.length&&(n=new Zs("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=sa)))}function hs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var aa={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Vh={},ag={};Pn&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function fs(e){if(Vh[e])return Vh[e];if(!aa[e])return e;var n=aa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ag)return Vh[e]=n[r];return e}var og=fs("animationend"),lg=fs("animationiteration"),ug=fs("animationstart"),_0=fs("transitionrun"),v0=fs("transitionstart"),E0=fs("transitioncancel"),cg=fs("transitionend"),hg=new Map,Mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mh.push("scrollEnd");function Un(e,n){hg.set(e,n),xn(n,[e])}var fg=new WeakMap;function Sn(e,n){if(typeof e=="object"&&e!==null){var r=fg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Ys(n)},fg.set(e,n),n)}return{value:e,source:n,stack:Ys(n)}}var bn=[],oa=0,xh=0;function yu(){for(var e=oa,n=xh=oa=0;n<e;){var r=bn[n];bn[n++]=null;var o=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,o!==null&&c!==null){var y=o.pending;y===null?c.next=c:(c.next=y.next,y.next=c),o.pending=c}f!==0&&dg(r,c,f)}}function _u(e,n,r,o){bn[oa++]=e,bn[oa++]=n,bn[oa++]=r,bn[oa++]=o,xh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ph(e,n,r,o){return _u(e,n,r,o),vu(e)}function la(e,n){return _u(e,null,null,n),vu(e)}function dg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-He(r),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=r|536870912),f):null}function vu(e){if(50<Wo)throw Wo=0,qf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function T0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,n,r,o){return new T0(e,n,r,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,n){var r=e.alternate;return r===null?(r=un(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function mg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Eu(e,n,r,o,c,f){var y=0;if(o=e,typeof e=="function")Uh(e)&&(y=1);else if(typeof e=="string")y=SA(e,r,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=un(31,r,n,c),e.elementType=R,e.lanes=f,e;case Z:return ds(r.children,c,f,n);case rt:y=8,c|=24;break;case W:return e=un(12,r,n,c|2),e.elementType=W,e.lanes=f,e;case Tt:return e=un(13,r,n,c),e.elementType=Tt,e.lanes=f,e;case Mt:return e=un(19,r,n,c),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:case ft:y=10;break t;case dt:y=9;break t;case Lt:y=11;break t;case M:y=14;break t;case S:y=16,o=null;break t}y=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=un(y,r,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function ds(e,n,r,o){return e=un(7,e,o,n),e.lanes=r,e}function kh(e,n,r){return e=un(6,e,null,n),e.lanes=r,e}function Lh(e,n,r){return n=un(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ca=[],ha=0,Tu=null,Au=0,wn=[],Rn=0,ms=null,Ci=1,Di="";function gs(e,n){ca[ha++]=Au,ca[ha++]=Tu,Tu=e,Au=n}function gg(e,n,r){wn[Rn++]=Ci,wn[Rn++]=Di,wn[Rn++]=ms,ms=e;var o=Ci;e=Di;var c=32-He(o)-1;o&=~(1<<c),r+=1;var f=32-He(n)+c;if(30<f){var y=c-c%5;f=(o&(1<<y)-1).toString(32),o>>=y,c-=y,Ci=1<<32-He(n)+c|r<<c|o,Di=f+e}else Ci=1<<f|r<<c|o,Di=e}function zh(e){e.return!==null&&(gs(e,1),gg(e,1,0))}function Bh(e){for(;e===Tu;)Tu=ca[--ha],ca[ha]=null,Au=ca[--ha],ca[ha]=null;for(;e===ms;)ms=wn[--Rn],wn[Rn]=null,Di=wn[--Rn],wn[Rn]=null,Ci=wn[--Rn],wn[Rn]=null}var tn=null,le=null,qt=!1,ps=null,Wn=!1,jh=Error(a(519));function ys(e){var n=Error(a(418,""));throw Oo(Sn(n,e)),jh}function pg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Te]=e,n[ge]=o,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<el.length;r++)Ct(el[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),es(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Xs(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ns(n,o.value,o.defaultValue,o.children),Xs(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||My(n.textContent,r)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=nc),n=!0):n=!1,n||ys(e)}function yg(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function Do(e){if(e!==tn)return!1;if(!qt)return yg(e),qt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||rd(e.type,e.memoizedProps)),r=!r),r&&le&&ys(e),yg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){le=Ln(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}le=null}}else n===27?(n=le,vr(e.type)?(e=ld,ld=null,le=e):le=n):le=tn?Ln(e.stateNode.nextSibling):null;return!0}function No(){le=tn=null,qt=!1}function _g(){var e=ps;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),ps=null),e}function Oo(e){ps===null?ps=[e]:ps.push(e)}var qh=X(null),_s=null,Ni=null;function rr(e,n,r){J(qh,n._currentValue),n._currentValue=r}function Oi(e){e._currentValue=qh.current,et(qh)}function Hh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Gh(e,n,r,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Hh(f.return,r,e),o||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Hh(y,r,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Vo(e,n,r,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;ln(c.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(c===Bt.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}c=c.return}e!==null&&Gh(n,e,r,o),n.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){_s=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return vg(_s,e)}function bu(e,n){return _s===null&&vs(e),vg(e,n)}function vg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ni===null){if(e===null)throw Error(a(308));Ni=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ni=Ni.next=n;return r}var A0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},S0=s.unstable_scheduleCallback,b0=s.unstable_NormalPriority,be={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new A0,data:new Map,refCount:0}}function Mo(e){e.refCount--,e.refCount===0&&S0(b0,function(){e.controller.abort()})}var xo=null,Qh=0,fa=0,da=null;function w0(e,n){if(xo===null){var r=xo=[];Qh=0,fa=Xf(),da={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Qh++,n.then(Eg,Eg),n}function Eg(){if(--Qh===0&&xo!==null){da!==null&&(da.status="fulfilled");var e=xo;xo=null,fa=0,da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function R0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var Tg=q.S;q.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&w0(e,n),Tg!==null&&Tg(e,n)};var Es=X(null);function Kh(){var e=Es.current;return e!==null?e:te.pooledCache}function wu(e,n){n===null?J(Es,Es.current):J(Es,n.pool)}function Ag(){var e=Kh();return e===null?null:{parent:be._currentValue,pool:e}}var Po=Error(a(460)),Sg=Error(a(474)),Ru=Error(a(542)),Yh={then:function(){}};function bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Iu(){}function wg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Iu,Iu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e;default:if(typeof n.status=="string")n.then(Iu,Iu);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e}throw Uo=n,Po}}var Uo=null;function Rg(){if(Uo===null)throw Error(a(459));var e=Uo;return Uo=null,e}function Ig(e){if(e===Po||e===Ru)throw Error(a(483))}var sr=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $h(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function or(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=vu(e),dg(e,null,r),n}return _u(e,o,n,r),vu(e)}function ko(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}function Zh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Jh=!1;function Lo(){if(Jh){var e=da;if(e!==null)throw e}}function zo(e,n,r,o){Jh=!1;var c=e.updateQueue;sr=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,L=b.next;b.next=null,y===null?f=L:y.next=L,y=b;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=L:E.next=L,H.lastBaseUpdate=b))}if(f!==null){var Q=c.baseState;y=0,H=L=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Ut&z)===z:(o&z)===z){z!==0&&z===fa&&(Jh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=e,gt=E;z=n;var Zt=r;switch(gt.tag){case 1:if(_t=gt.payload,typeof _t=="function"){Q=_t.call(Zt,Q,z);break t}Q=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=gt.payload,z=typeof _t=="function"?_t.call(Zt,Q,z):_t,z==null)break t;Q=A({},Q,z);break t;case 2:sr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(L=H=B,b=Q):H=H.next=B,y|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);H===null&&(b=Q),c.baseState=b,c.firstBaseUpdate=L,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),gr|=y,e.lanes=y,e.memoizedState=Q}}function Cg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Dg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Cg(r[e],n)}var ma=X(null),Cu=X(0);function Ng(e,n){e=Li,J(Cu,e),J(ma,n),Li=e|n.baseLanes}function Wh(){J(Cu,Li),J(ma,ma.current)}function tf(){Li=Cu.current,et(ma),et(Cu)}var lr=0,wt=null,Xt=null,ye=null,Du=!1,ga=!1,Ts=!1,Nu=0,Bo=0,pa=null,I0=0;function he(){throw Error(a(321))}function ef(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!ln(e[r],n[r]))return!1;return!0}function nf(e,n,r,o,c,f){return lr=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?dp:mp,Ts=!1,f=r(o,c),Ts=!1,ga&&(f=Vg(n,r,o,c)),Og(e),f}function Og(e){q.H=Uu;var n=Xt!==null&&Xt.next!==null;if(lr=0,ye=Xt=wt=null,Du=!1,Bo=0,pa=null,n)throw Error(a(300));e===null||Oe||(e=e.dependencies,e!==null&&Su(e)&&(Oe=!0))}function Vg(e,n,r,o){wt=e;var c=0;do{if(ga&&(pa=null),Bo=0,ga=!1,25<=c)throw Error(a(301));if(c+=1,ye=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=x0,f=n(r,o)}while(ga);return f}function C0(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?jo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(wt.flags|=1024),n}function rf(){var e=Nu!==0;return Nu=0,e}function sf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function af(e){if(Du){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Du=!1}lr=0,ye=Xt=wt=null,ga=!1,Bo=Nu=0,pa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?wt.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if(Xt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=ye===null?wt.memoizedState:ye.next;if(n!==null)ye=n,Xt=e;else{if(e===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ye===null?wt.memoizedState=ye=e:ye=ye.next=e}return ye}function of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(e){var n=Bo;return Bo+=1,pa===null&&(pa=[]),e=wg(pa,e,n),n=wt,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?dp:mp),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jo(e);if(e.$$typeof===ft)return Ge(e)}throw Error(a(438,String(e)))}function lf(e){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=of(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=N;return n.index++,r}function Vi(e,n){return typeof n=="function"?n(e):n}function Vu(e){var n=_e();return uf(n,Xt,e)}function uf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=y=null,b=null,L=n,H=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(Ut&Q)===Q:(lr&Q)===Q){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===fa&&(H=!0);else if((lr&z)===z){L=L.next,z===fa&&(H=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Q,y=f):b=b.next=Q,wt.lanes|=z,gr|=z;Q=L.action,Ts&&r(f,Q),f=L.hasEagerState?L.eagerState:r(f,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,y=f):b=b.next=z,wt.lanes|=Q,gr|=Q;L=L.next}while(L!==null&&L!==n);if(b===null?y=f:b.next=E,!ln(f,e.memoizedState)&&(Oe=!0,H&&(r=da,r!==null)))throw r;e.memoizedState=f,e.baseState=y,e.baseQueue=b,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function cf(e){var n=_e(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=e(f,y.action),y=y.next;while(y!==c);ln(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Mg(e,n,r){var o=wt,c=_e(),f=qt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!ln((Xt||c).memoizedState,r);y&&(c.memoizedState=r,Oe=!0),c=c.queue;var E=Ug.bind(null,o,c,e);if(qo(2048,8,E,[e]),c.getSnapshot!==n||y||ye!==null&&ye.memoizedState.tag&1){if(o.flags|=2048,ya(9,Mu(),Pg.bind(null,o,c,r,n),null),te===null)throw Error(a(349));f||(lr&124)!==0||xg(o,n,r)}return r}function xg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=of(),wt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Pg(e,n,r,o){n.value=r,n.getSnapshot=o,kg(n)&&Lg(e)}function Ug(e,n,r){return r(function(){kg(n)&&Lg(e)})}function kg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!ln(e,r)}catch{return!0}}function Lg(e){var n=la(e,2);n!==null&&mn(n,e,2)}function hf(e){var n=en();if(typeof e=="function"){var r=e;if(e=r(),Ts){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},n}function zg(e,n,r,o){return e.baseState=r,uf(e,Xt,typeof o=="function"?o:Vi)}function D0(e,n,r,o,c){if(Pu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Bg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Bg(e,n){var r=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=q.T,y={};q.T=y;try{var E=r(c,o),b=q.S;b!==null&&b(y,E),jg(e,n,E)}catch(L){ff(e,n,L)}finally{q.T=f}}else try{f=r(c,o),jg(e,n,f)}catch(L){ff(e,n,L)}}function jg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){qg(e,n,o)},function(o){return ff(e,n,o)}):qg(e,n,r)}function qg(e,n,r){n.status="fulfilled",n.value=r,Hg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Bg(e,r)))}function ff(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Hg(n),n=n.next;while(n!==o)}e.action=null}function Hg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Gg(e,n){return n}function Fg(e,n){if(qt){var r=te.formState;if(r!==null){t:{var o=wt;if(qt){if(le){e:{for(var c=le,f=Wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Ln(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=Ln(c.nextSibling),o=c.data==="F!";break t}}ys(o)}o=!1}o&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:n},r.queue=o,r=cp.bind(null,wt,o),o.dispatch=r,o=hf(!1),f=yf.bind(null,wt,!1,o.queue),o=en(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,r=D0.bind(null,wt,c,f,r),c.dispatch=r,o.memoizedState=e,[n,r,!1]}function Qg(e){var n=_e();return Kg(n,Xt,e)}function Kg(e,n,r){if(n=uf(e,n,Gg)[0],e=Vu(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=jo(n)}catch(y){throw y===Po?Ru:y}else o=n;n=_e();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,ya(9,Mu(),N0.bind(null,c,r),null)),[o,f,e]}function N0(e,n){e.action=n}function Yg(e){var n=_e(),r=Xt;if(r!==null)return Kg(n,r,e);_e(),n=n.memoizedState,r=_e();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function ya(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=wt.updateQueue,n===null&&(n=of(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Mu(){return{destroy:void 0,resource:void 0}}function Xg(){return _e().memoizedState}function xu(e,n,r,o){var c=en();o=o===void 0?null:o,wt.flags|=e,c.memoizedState=ya(1|n,Mu(),r,o)}function qo(e,n,r,o){var c=_e();o=o===void 0?null:o;var f=c.memoizedState.inst;Xt!==null&&o!==null&&ef(o,Xt.memoizedState.deps)?c.memoizedState=ya(n,f,r,o):(wt.flags|=e,c.memoizedState=ya(1|n,f,r,o))}function $g(e,n){xu(8390656,8,e,n)}function Zg(e,n){qo(2048,8,e,n)}function Jg(e,n){return qo(4,2,e,n)}function Wg(e,n){return qo(4,4,e,n)}function tp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ep(e,n,r){r=r!=null?r.concat([e]):null,qo(4,4,tp.bind(null,n,e),r)}function df(){}function np(e,n){var r=_e();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&ef(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function ip(e,n){var r=_e();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&ef(n,o[1]))return o[0];if(o=e(),Ts){an(!0);try{e()}finally{an(!1)}}return r.memoizedState=[o,n],o}function mf(e,n,r){return r===void 0||(lr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=ay(),wt.lanes|=e,gr|=e,r)}function rp(e,n,r,o){return ln(r,n)?r:ma.current!==null?(e=mf(e,r,o),ln(e,n)||(Oe=!0),e):(lr&42)===0?(Oe=!0,e.memoizedState=r):(e=ay(),wt.lanes|=e,gr|=e,n)}function sp(e,n,r,o,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=q.T,E={};q.T=E,yf(e,!1,n,r);try{var b=c(),L=q.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=R0(b,o);Ho(e,n,H,dn(e))}else Ho(e,n,o,dn(e))}catch(Q){Ho(e,n,{then:function(){},status:"rejected",reason:Q},dn())}finally{nt.p=f,q.T=y}}function O0(){}function gf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var c=ap(e).queue;sp(e,c,n,ut,r===null?O0:function(){return op(e),r(o)})}function ap(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function op(e){var n=ap(e).next.queue;Ho(e,n,{},dn())}function pf(){return Ge(ol)}function lp(){return _e().memoizedState}function up(){return _e().memoizedState}function V0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=dn();e=ar(r);var o=or(n,e,r);o!==null&&(mn(o,n,r),ko(o,n,r)),n={cache:Fh()},e.payload=n;return}n=n.return}}function M0(e,n,r){var o=dn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Pu(e)?hp(n,r):(r=Ph(e,n,r,o),r!==null&&(mn(r,e,o),fp(r,n,o)))}function cp(e,n,r){var o=dn();Ho(e,n,r,o)}function Ho(e,n,r,o){var c={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))hp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,y))return _u(e,n,c,0),te===null&&yu(),!1}catch{}finally{}if(r=Ph(e,n,c,o),r!==null)return mn(r,e,o),fp(r,n,o),!0}return!1}function yf(e,n,r,o){if(o={lane:2,revertLane:Xf(),action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(n)throw Error(a(479))}else n=Ph(e,r,o,2),n!==null&&mn(n,e,2)}function Pu(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function hp(e,n){ga=Du=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function fp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}var Uu={readContext:Ge,use:Ou,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},dp={readContext:Ge,use:Ou,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Ge,useEffect:$g,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,xu(4194308,4,tp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return xu(4194308,4,e,n)},useInsertionEffect:function(e,n){xu(4,2,e,n)},useMemo:function(e,n){var r=en();n=n===void 0?null:n;var o=e();if(Ts){an(!0);try{e()}finally{an(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=en();if(r!==void 0){var c=r(n);if(Ts){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=M0.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=hf(e);var n=e.queue,r=cp.bind(null,wt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:df,useDeferredValue:function(e,n){var r=en();return mf(r,e,n)},useTransition:function(){var e=hf(!1);return e=sp.bind(null,wt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=wt,c=en();if(qt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),te===null)throw Error(a(349));(Ut&124)!==0||xg(o,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,$g(Ug.bind(null,o,f,e),[e]),o.flags|=2048,ya(9,Mu(),Pg.bind(null,o,f,r,n),null),r},useId:function(){var e=en(),n=te.identifierPrefix;if(qt){var r=Di,o=Ci;r=(o&~(1<<32-He(o)-1)).toString(32)+r,n="«"+n+"R"+r,r=Nu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=I0++,n="«"+n+"r"+r.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:pf,useFormState:Fg,useActionState:Fg,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yf.bind(null,wt,!0,r),r.dispatch=n,[e,n]},useMemoCache:lf,useCacheRefresh:function(){return en().memoizedState=V0.bind(null,wt)}},mp={readContext:Ge,use:Ou,useCallback:np,useContext:Ge,useEffect:Zg,useImperativeHandle:ep,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:ip,useReducer:Vu,useRef:Xg,useState:function(){return Vu(Vi)},useDebugValue:df,useDeferredValue:function(e,n){var r=_e();return rp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=Vu(Vi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:jo(e),n]},useSyncExternalStore:Mg,useId:lp,useHostTransitionStatus:pf,useFormState:Qg,useActionState:Qg,useOptimistic:function(e,n){var r=_e();return zg(r,Xt,e,n)},useMemoCache:lf,useCacheRefresh:up},x0={readContext:Ge,use:Ou,useCallback:np,useContext:Ge,useEffect:Zg,useImperativeHandle:ep,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:ip,useReducer:cf,useRef:Xg,useState:function(){return cf(Vi)},useDebugValue:df,useDeferredValue:function(e,n){var r=_e();return Xt===null?mf(r,e,n):rp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=cf(Vi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:jo(e),n]},useSyncExternalStore:Mg,useId:lp,useHostTransitionStatus:pf,useFormState:Yg,useActionState:Yg,useOptimistic:function(e,n){var r=_e();return Xt!==null?zg(r,Xt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:lf,useCacheRefresh:up},_a=null,Go=0;function ku(e){var n=Go;return Go+=1,_a===null&&(_a=[]),wg(_a,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===D?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function gp(e){var n=e._init;return n(e._payload)}function pp(e){function n(x,C){if(e){var k=x.deletions;k===null?(x.deletions=[C],x.flags|=16):k.push(C)}}function r(x,C){if(!e)return null;for(;C!==null;)n(x,C),C=C.sibling;return null}function o(x){for(var C=new Map;x!==null;)x.key!==null?C.set(x.key,x):C.set(x.index,x),x=x.sibling;return C}function c(x,C){return x=Ii(x,C),x.index=0,x.sibling=null,x}function f(x,C,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<C?(x.flags|=67108866,C):k):(x.flags|=67108866,C)):(x.flags|=1048576,C)}function y(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,C,k,F){return C===null||C.tag!==6?(C=kh(k,x.mode,F),C.return=x,C):(C=c(C,k),C.return=x,C)}function b(x,C,k,F){var lt=k.type;return lt===Z?H(x,C,k.props.children,F,k.key):C!==null&&(C.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&gp(lt)===C.type)?(C=c(C,k.props),Fo(C,k),C.return=x,C):(C=Eu(k.type,k.key,k.props,null,x.mode,F),Fo(C,k),C.return=x,C)}function L(x,C,k,F){return C===null||C.tag!==4||C.stateNode.containerInfo!==k.containerInfo||C.stateNode.implementation!==k.implementation?(C=Lh(k,x.mode,F),C.return=x,C):(C=c(C,k.children||[]),C.return=x,C)}function H(x,C,k,F,lt){return C===null||C.tag!==7?(C=ds(k,x.mode,F,lt),C.return=x,C):(C=c(C,k),C.return=x,C)}function Q(x,C,k){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=kh(""+C,x.mode,k),C.return=x,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case V:return k=Eu(C.type,C.key,C.props,null,x.mode,k),Fo(k,C),k.return=x,k;case G:return C=Lh(C,x.mode,k),C.return=x,C;case S:var F=C._init;return C=F(C._payload),Q(x,C,k)}if(Wt(C)||P(C))return C=ds(C,x.mode,k,null),C.return=x,C;if(typeof C.then=="function")return Q(x,ku(C),k);if(C.$$typeof===ft)return Q(x,bu(x,C),k);Lu(x,C)}return null}function z(x,C,k,F){var lt=C!==null?C.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return lt!==null?null:E(x,C,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case V:return k.key===lt?b(x,C,k,F):null;case G:return k.key===lt?L(x,C,k,F):null;case S:return lt=k._init,k=lt(k._payload),z(x,C,k,F)}if(Wt(k)||P(k))return lt!==null?null:H(x,C,k,F,null);if(typeof k.then=="function")return z(x,C,ku(k),F);if(k.$$typeof===ft)return z(x,C,bu(x,k),F);Lu(x,k)}return null}function B(x,C,k,F,lt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(k)||null,E(C,x,""+F,lt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case V:return x=x.get(F.key===null?k:F.key)||null,b(C,x,F,lt);case G:return x=x.get(F.key===null?k:F.key)||null,L(C,x,F,lt);case S:var Rt=F._init;return F=Rt(F._payload),B(x,C,k,F,lt)}if(Wt(F)||P(F))return x=x.get(k)||null,H(C,x,F,lt,null);if(typeof F.then=="function")return B(x,C,k,ku(F),lt);if(F.$$typeof===ft)return B(x,C,k,bu(C,F),lt);Lu(C,F)}return null}function _t(x,C,k,F){for(var lt=null,Rt=null,ht=C,pt=C=0,Me=null;ht!==null&&pt<k.length;pt++){ht.index>pt?(Me=ht,ht=null):Me=ht.sibling;var jt=z(x,ht,k[pt],F);if(jt===null){ht===null&&(ht=Me);break}e&&ht&&jt.alternate===null&&n(x,ht),C=f(jt,C,pt),Rt===null?lt=jt:Rt.sibling=jt,Rt=jt,ht=Me}if(pt===k.length)return r(x,ht),qt&&gs(x,pt),lt;if(ht===null){for(;pt<k.length;pt++)ht=Q(x,k[pt],F),ht!==null&&(C=f(ht,C,pt),Rt===null?lt=ht:Rt.sibling=ht,Rt=ht);return qt&&gs(x,pt),lt}for(ht=o(ht);pt<k.length;pt++)Me=B(ht,x,pt,k[pt],F),Me!==null&&(e&&Me.alternate!==null&&ht.delete(Me.key===null?pt:Me.key),C=f(Me,C,pt),Rt===null?lt=Me:Rt.sibling=Me,Rt=Me);return e&&ht.forEach(function(br){return n(x,br)}),qt&&gs(x,pt),lt}function gt(x,C,k,F){if(k==null)throw Error(a(151));for(var lt=null,Rt=null,ht=C,pt=C=0,Me=null,jt=k.next();ht!==null&&!jt.done;pt++,jt=k.next()){ht.index>pt?(Me=ht,ht=null):Me=ht.sibling;var br=z(x,ht,jt.value,F);if(br===null){ht===null&&(ht=Me);break}e&&ht&&br.alternate===null&&n(x,ht),C=f(br,C,pt),Rt===null?lt=br:Rt.sibling=br,Rt=br,ht=Me}if(jt.done)return r(x,ht),qt&&gs(x,pt),lt;if(ht===null){for(;!jt.done;pt++,jt=k.next())jt=Q(x,jt.value,F),jt!==null&&(C=f(jt,C,pt),Rt===null?lt=jt:Rt.sibling=jt,Rt=jt);return qt&&gs(x,pt),lt}for(ht=o(ht);!jt.done;pt++,jt=k.next())jt=B(ht,x,pt,jt.value,F),jt!==null&&(e&&jt.alternate!==null&&ht.delete(jt.key===null?pt:jt.key),C=f(jt,C,pt),Rt===null?lt=jt:Rt.sibling=jt,Rt=jt);return e&&ht.forEach(function(PA){return n(x,PA)}),qt&&gs(x,pt),lt}function Zt(x,C,k,F){if(typeof k=="object"&&k!==null&&k.type===Z&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case V:t:{for(var lt=k.key;C!==null;){if(C.key===lt){if(lt=k.type,lt===Z){if(C.tag===7){r(x,C.sibling),F=c(C,k.props.children),F.return=x,x=F;break t}}else if(C.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&gp(lt)===C.type){r(x,C.sibling),F=c(C,k.props),Fo(F,k),F.return=x,x=F;break t}r(x,C);break}else n(x,C);C=C.sibling}k.type===Z?(F=ds(k.props.children,x.mode,F,k.key),F.return=x,x=F):(F=Eu(k.type,k.key,k.props,null,x.mode,F),Fo(F,k),F.return=x,x=F)}return y(x);case G:t:{for(lt=k.key;C!==null;){if(C.key===lt)if(C.tag===4&&C.stateNode.containerInfo===k.containerInfo&&C.stateNode.implementation===k.implementation){r(x,C.sibling),F=c(C,k.children||[]),F.return=x,x=F;break t}else{r(x,C);break}else n(x,C);C=C.sibling}F=Lh(k,x.mode,F),F.return=x,x=F}return y(x);case S:return lt=k._init,k=lt(k._payload),Zt(x,C,k,F)}if(Wt(k))return _t(x,C,k,F);if(P(k)){if(lt=P(k),typeof lt!="function")throw Error(a(150));return k=lt.call(k),gt(x,C,k,F)}if(typeof k.then=="function")return Zt(x,C,ku(k),F);if(k.$$typeof===ft)return Zt(x,C,bu(x,k),F);Lu(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,C!==null&&C.tag===6?(r(x,C.sibling),F=c(C,k),F.return=x,x=F):(r(x,C),F=kh(k,x.mode,F),F.return=x,x=F),y(x)):r(x,C)}return function(x,C,k,F){try{Go=0;var lt=Zt(x,C,k,F);return _a=null,lt}catch(ht){if(ht===Po||ht===Ru)throw ht;var Rt=un(29,ht,null,x.mode);return Rt.lanes=F,Rt.return=x,Rt}finally{}}}var va=pp(!0),yp=pp(!1),In=X(null),ti=null;function ur(e){var n=e.alternate;J(we,we.current&1),J(In,e),ti===null&&(n===null||ma.current!==null||n.memoizedState!==null)&&(ti=e)}function _p(e){if(e.tag===22){if(J(we,we.current),J(In,e),ti===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ti=e)}}else cr()}function cr(){J(we,we.current),J(In,In.current)}function Mi(e){et(In),ti===e&&(ti=null),et(we)}var we=X(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||od(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function _f(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=dn(),c=ar(o);c.payload=n,r!=null&&(c.callback=r),n=or(e,c,o),n!==null&&(mn(n,e,o),ko(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=dn(),c=ar(o);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=or(e,c,o),n!==null&&(mn(n,e,o),ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=dn(),o=ar(r);o.tag=2,n!=null&&(o.callback=n),n=or(e,o,r),n!==null&&(mn(n,e,r),ko(n,e,r))}};function vp(e,n,r,o,c,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Io(r,o)||!Io(c,f):!0}function Ep(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&vf.enqueueReplaceState(n,n.state,null)}function As(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}var Bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Tp(e){Bu(e)}function Ap(e){console.error(e)}function Sp(e){Bu(e)}function ju(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function bp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ef(e,n,r){return r=ar(r),r.tag=3,r.payload={element:null},r.callback=function(){ju(e,n)},r}function wp(e){return e=ar(e),e.tag=3,e}function Rp(e,n,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){bp(n,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){bp(n,r,o),typeof c!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function P0(e,n,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Vo(n,r,c,!0),r=In.current,r!==null){switch(r.tag){case 13:return ti===null?Gf():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===Yh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Qf(e,o,c)),!1;case 22:return r.flags|=65536,o===Yh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Qf(e,o,c)),!1}throw Error(a(435,r.tag))}return Qf(e,o,c),Gf(),!1}if(qt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==jh&&(e=Error(a(422),{cause:o}),Oo(Sn(e,r)))):(o!==jh&&(n=Error(a(423),{cause:o}),Oo(Sn(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Sn(o,r),c=Ef(e.stateNode,o,c),Zh(e,c),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=Sn(f,r),Jo===null?Jo=[f]:Jo.push(f),ue!==4&&(ue=2),n===null)return!0;o=Sn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Ef(r.stateNode,o,e),Zh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(pr===null||!pr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=wp(c),Rp(c,e,r,o),Zh(r,c),!1}r=r.return}while(r!==null);return!1}var Ip=Error(a(461)),Oe=!1;function ke(e,n,r,o){n.child=e===null?yp(n,null,r,o):va(n,e.child,r,o)}function Cp(e,n,r,o,c){r=r.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return vs(n),o=nf(e,n,r,y,f,c),E=rf(),e!==null&&!Oe?(sf(e,n,c),xi(e,n,c)):(qt&&E&&zh(n),n.flags|=1,ke(e,n,o,c),n.child)}function Dp(e,n,r,o,c){if(e===null){var f=r.type;return typeof f=="function"&&!Uh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Np(e,n,f,o,c)):(e=Eu(r.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Cf(e,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Io,r(y,o)&&e.ref===n.ref)return xi(e,n,c)}return n.flags|=1,e=Ii(f,o),e.ref=n.ref,e.return=n,n.child=e}function Np(e,n,r,o,c){if(e!==null){var f=e.memoizedProps;if(Io(f,o)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=o=f,Cf(e,c))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,xi(e,n,c)}return Tf(e,n,r,o,c)}function Op(e,n,r){var o=n.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|r:r,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Vp(e,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wu(n,f!==null?f.cachePool:null),f!==null?Ng(n,f):Wh(),_p(n);else return n.lanes=n.childLanes=536870912,Vp(e,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(wu(n,f.cachePool),Ng(n,f),cr(),n.memoizedState=null):(e!==null&&wu(n,null),Wh(),cr());return ke(e,n,c,r),n.child}function Vp(e,n,r,o){var c=Kh();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},e!==null&&wu(n,null),Wh(),_p(n),e!==null&&Vo(e,n,o,!0),null}function qu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Tf(e,n,r,o,c){return vs(n),r=nf(e,n,r,o,void 0,c),o=rf(),e!==null&&!Oe?(sf(e,n,c),xi(e,n,c)):(qt&&o&&zh(n),n.flags|=1,ke(e,n,r,c),n.child)}function Mp(e,n,r,o,c,f){return vs(n),n.updateQueue=null,r=Vg(n,o,r,c),Og(e),o=rf(),e!==null&&!Oe?(sf(e,n,f),xi(e,n,f)):(qt&&o&&zh(n),n.flags|=1,ke(e,n,r,f),n.child)}function xp(e,n,r,o,c){if(vs(n),n.stateNode===null){var f=ua,y=r.contextType;typeof y=="object"&&y!==null&&(f=Ge(y)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Xh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Ge(y):ua,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(_f(n,r,y,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&vf.enqueueReplaceState(f,f.state,null),zo(n,o,f,c),Lo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=As(r,E);f.props=b;var L=f.context,H=r.contextType;y=ua,typeof H=="object"&&H!==null&&(y=Ge(H));var Q=r.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==y)&&Ep(n,f,o,y),sr=!1;var z=n.memoizedState;f.state=z,zo(n,o,f,c),Lo(),L=n.memoizedState,E||z!==L||sr?(typeof Q=="function"&&(_f(n,r,Q,o),L=n.memoizedState),(b=sr||vp(n,r,b,o,z,L,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=y,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,$h(e,n),y=n.memoizedProps,H=As(r,y),f.props=H,Q=n.pendingProps,z=f.context,L=r.contextType,b=ua,typeof L=="object"&&L!==null&&(b=Ge(L)),E=r.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||z!==b)&&Ep(n,f,o,b),sr=!1,z=n.memoizedState,f.state=z,zo(n,o,f,c),Lo();var B=n.memoizedState;y!==Q||z!==B||sr||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof E=="function"&&(_f(n,r,E,o),B=n.memoizedState),(H=sr||vp(n,r,H,o,z,B,b)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=b,o=H):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,qu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=va(n,e.child,null,c),n.child=va(n,null,r,c)):ke(e,n,r,c),n.memoizedState=f.state,e=n.child):e=xi(e,n,c),e}function Pp(e,n,r,o){return No(),n.flags|=256,ke(e,n,r,o),n.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(e){return{baseLanes:e,cachePool:Ag()}}function bf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Cn),e}function Up(e,n,r){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(c?ur(n):cr(),qt){var E=le,b;if(b=E){t:{for(b=E,E=Wn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Ln(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ms!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},b=un(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,tn=n,le=null,b=!0):b=!1}b||ys(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return od(E)?n.lanes=32:n.lanes=536870912,null;Mi(n)}return E=o.children,o=o.fallback,c?(cr(),c=n.mode,E=Hu({mode:"hidden",children:E},c),o=ds(o,c,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,c=n.child,c.memoizedState=Sf(r),c.childLanes=bf(e,y,r),n.memoizedState=Af,o):(ur(n),wf(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(ur(n),n.flags&=-257,n=Rf(e,n,r)):n.memoizedState!==null?(cr(),n.child=e.child,n.flags|=128,n=null):(cr(),c=o.fallback,E=n.mode,o=Hu({mode:"visible",children:o.children},E),c=ds(c,E,r,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,va(n,e.child,null,r),o=n.child,o.memoizedState=Sf(r),o.childLanes=bf(e,y,r),n.memoizedState=Af,n=c);else if(ur(n),od(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var L=y.dgst;y=L,o=Error(a(419)),o.stack="",o.digest=y,Oo({value:o,source:null,stack:null}),n=Rf(e,n,r)}else if(Oe||Vo(e,n,r,!1),y=(r&e.childLanes)!==0,Oe||y){if(y=te,y!==null&&(o=r&-r,o=(o&42)!==0?1:Zi(o),o=(o&(y.suspendedLanes|r))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,la(e,o),mn(y,e,o),Ip;E.data==="$?"||Gf(),n=Rf(e,n,r)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,le=Ln(E.nextSibling),tn=n,qt=!0,ps=null,Wn=!1,e!==null&&(wn[Rn++]=Ci,wn[Rn++]=Di,wn[Rn++]=ms,Ci=e.id,Di=e.overflow,ms=n),n=wf(n,o.children),n.flags|=4096);return n}return c?(cr(),c=o.fallback,E=n.mode,b=e.child,L=b.sibling,o=Ii(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?c=Ii(L,c):(c=ds(c,E,r,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,E=e.child.memoizedState,E===null?E=Sf(r):(b=E.cachePool,b!==null?(L=be._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=Ag(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=bf(e,y,r),n.memoizedState=Af,o):(ur(n),r=e.child,e=r.sibling,r=Ii(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=r,n.memoizedState=null,r)}function wf(e,n){return n=Hu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Hu(e,n){return e=un(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Rf(e,n,r){return va(n,e.child,null,r),e=wf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function kp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Hh(e.return,n,r)}function If(e,n,r,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=c)}function Lp(e,n,r){var o=n.pendingProps,c=o.revealOrder,f=o.tail;if(ke(e,n,o.children,r),o=we.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kp(e,r,n);else if(e.tag===19)kp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(we,o),c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&zu(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),If(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&zu(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}If(n,!0,r,null,f);break;case"together":If(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function xi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),gr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Vo(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Ii(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ii(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Cf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function U0(e,n,r){switch(n.tag){case 3:Dt(n,n.stateNode.containerInfo),rr(n,be,e.memoizedState.cache),No();break;case 27:case 5:$i(n);break;case 4:Dt(n,n.stateNode.containerInfo);break;case 10:rr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ur(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Up(e,n,r):(ur(n),e=xi(e,n,r),e!==null?e.sibling:null);ur(n);break;case 19:var c=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Vo(e,n,r,!1),o=(r&n.childLanes)!==0),c){if(o)return Lp(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(we,we.current),o)break;return null;case 22:case 23:return n.lanes=0,Op(e,n,r);case 24:rr(n,be,e.memoizedState.cache)}return xi(e,n,r)}function zp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Cf(e,r)&&(n.flags&128)===0)return Oe=!1,U0(e,n,r);Oe=(e.flags&131072)!==0}else Oe=!1,qt&&(n.flags&1048576)!==0&&gg(n,Au,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")Uh(o)?(e=As(o,e),n.tag=1,n=xp(null,n,o,e,r)):(n.tag=0,n=Tf(null,n,o,e,r));else{if(o!=null){if(c=o.$$typeof,c===Lt){n.tag=11,n=Cp(null,n,o,e,r);break t}else if(c===M){n.tag=14,n=Dp(null,n,o,e,r);break t}}throw n=me(o)||o,Error(a(306,n,""))}}return n;case 0:return Tf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,c=As(o,n.pendingProps),xp(e,n,o,c,r);case 3:t:{if(Dt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,$h(e,n),zo(n,o,null,r);var y=n.memoizedState;if(o=y.cache,rr(n,be,o),o!==f.cache&&Gh(n,[be],r,!0),Lo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Pp(e,n,o,r);break t}else if(o!==c){c=Sn(Error(a(424)),n),Oo(c),n=Pp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Ln(e.firstChild),tn=n,qt=!0,ps=null,Wn=!0,r=yp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(No(),o===c){n=xi(e,n,r);break t}ke(e,n,o,r)}n=n.child}return n;case 26:return qu(e,n),e===null?(r=Hy(n.type,null,n.pendingProps,null))?n.memoizedState=r:qt||(r=n.type,e=n.pendingProps,o=ic(at.current).createElement(r),o[Te]=n,o[ge]=e,ze(o,r,e),ce(o),n.stateNode=o):n.memoizedState=Hy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $i(n),e===null&&qt&&(o=n.stateNode=By(n.type,n.pendingProps,at.current),tn=n,Wn=!0,c=le,vr(n.type)?(ld=c,le=Ln(o.firstChild)):le=c),ke(e,n,n.pendingProps.children,r),qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qt&&((c=o=le)&&(o=cA(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,tn=n,le=Ln(o.firstChild),Wn=!1,c=!0):c=!1),c||ys(n)),$i(n),c=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,rd(c,f)?o=null:y!==null&&rd(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=nf(e,n,C0,null,null,r),ol._currentValue=c),qu(e,n),ke(e,n,o,r),n.child;case 6:return e===null&&qt&&((e=r=le)&&(r=hA(r,n.pendingProps,Wn),r!==null?(n.stateNode=r,tn=n,le=null,e=!0):e=!1),e||ys(n)),null;case 13:return Up(e,n,r);case 4:return Dt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=va(n,null,o,r):ke(e,n,o,r),n.child;case 11:return Cp(e,n,n.type,n.pendingProps,r);case 7:return ke(e,n,n.pendingProps,r),n.child;case 8:return ke(e,n,n.pendingProps.children,r),n.child;case 12:return ke(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,rr(n,n.type,o.value),ke(e,n,o.children,r),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,vs(n),c=Ge(c),o=o(c),n.flags|=1,ke(e,n,o,r),n.child;case 14:return Dp(e,n,n.type,n.pendingProps,r);case 15:return Np(e,n,n.type,n.pendingProps,r);case 19:return Lp(e,n,r);case 31:return o=n.pendingProps,r=n.mode,o={mode:o.mode,children:o.children},e===null?(r=Hu(o,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ii(e.child,o),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Op(e,n,r);case 24:return vs(n),o=Ge(be),e===null?(c=Kh(),c===null&&(c=te,f=Fh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:o,cache:c},Xh(n),rr(n,be,c)):((e.lanes&r)!==0&&($h(e,n),zo(n,null,null,r),Lo()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),rr(n,be,o)):(o=f.cache,rr(n,be,o),o!==c.cache&&Gh(n,[be],r,!0))),ke(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pi(e){e.flags|=4}function Bp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Yy(n)){if(n=In.current,n!==null&&((Ut&4194048)===Ut?ti!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==ti))throw Uo=Yh,Sg;e.flags|=8192}}function Gu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?lo():536870912,e.lanes|=n,Sa|=n)}function Qo(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function k0(e,n,r){var o=n.pendingProps;switch(Bh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Oi(be),jn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Do(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,_g())),se(n),null;case 26:return r=n.memoizedState,e===null?(Pi(n),r!==null?(se(n),Bp(n,r)):(se(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Pi(n),se(n),Bp(n,r)):(se(n),n.flags&=-16777217):(e.memoizedProps!==o&&Pi(n),se(n),n.flags&=-16777217),null;case 27:mi(n),r=at.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=Y.current,Do(n)?pg(n):(e=By(c,o,r),n.stateNode=e,Pi(n))}return se(n),null;case 5:if(mi(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(e=Y.current,Do(n))pg(n);else{switch(c=ic(at.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(r,{is:o.is}):c.createElement(r)}}e[Te]=n,e[ge]=o;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(ze(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pi(n)}}return se(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=at.current,Do(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,c=tn,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[Te]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||My(e.nodeValue,r)),e||ys(n)}else e=ic(e).createTextNode(o),e[Te]=n,n.stateNode=e}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Do(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Te]=n}else No(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=_g(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Mi(n),n):(Mi(n),null)}if(Mi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),Gu(n,n.updateQueue),se(n),null;case 4:return jn(),e===null&&Wf(n.stateNode.containerInfo),se(n),null;case 10:return Oi(n.type),se(n),null;case 19:if(et(we),c=n.memoizedState,c===null)return se(n),null;if(o=(n.flags&128)!==0,f=c.rendering,f===null)if(o)Qo(c,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,Qo(c,!1),e=f.updateQueue,n.updateQueue=e,Gu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)mg(r,e),r=r.sibling;return J(we,we.current&1|2),n.child}e=e.sibling}c.tail!==null&&yn()>Ku&&(n.flags|=128,o=!0,Qo(c,!1),n.lanes=4194304)}else{if(!o)if(e=zu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Gu(n,e),Qo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!qt)return se(n),null}else 2*yn()-c.renderingStartTime>Ku&&r!==536870912&&(n.flags|=128,o=!0,Qo(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=yn(),n.sibling=null,e=we.current,J(we,o?e&1|2:e&1),n):(se(n),null);case 22:case 23:return Mi(n),tf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),r=n.updateQueue,r!==null&&Gu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&et(Es),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Oi(be),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function L0(e,n){switch(Bh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Oi(be),jn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return mi(n),null;case 13:if(Mi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));No()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(we),null;case 4:return jn(),null;case 10:return Oi(n.type),null;case 22:case 23:return Mi(n),tf(),e!==null&&et(Es),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Oi(be),null;case 25:return null;default:return null}}function jp(e,n){switch(Bh(n),n.tag){case 3:Oi(be),jn();break;case 26:case 27:case 5:mi(n);break;case 4:jn();break;case 13:Mi(n);break;case 19:et(we);break;case 10:Oi(n.type);break;case 22:case 23:Mi(n),tf(),e!==null&&et(Es);break;case 24:Oi(be)}}function Ko(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){o=void 0;var f=r.create,y=r.inst;o=f(),y.destroy=o}r=r.next}while(r!==c)}}catch(E){Jt(n,n.return,E)}}function hr(e,n,r){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,L=E;try{L()}catch(H){Jt(c,b,H)}}}o=o.next}while(o!==f)}}catch(H){Jt(n,n.return,H)}}function qp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Dg(n,r)}catch(o){Jt(e,e.return,o)}}}function Hp(e,n,r){r.props=As(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Jt(e,n,o)}}function Yo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(c){Jt(e,n,c)}}function ei(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){Jt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Jt(e,n,c)}else r.current=null}function Gp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){Jt(e,e.return,c)}}function Df(e,n,r){try{var o=e.stateNode;sA(o,e.type,r,n),o[ge]=n}catch(c){Jt(e,e.return,c)}}function Fp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vr(e.type)||e.tag===4}function Nf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=nc));else if(o!==4&&(o===27&&vr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Of(e,n,r),e=e.sibling;e!==null;)Of(e,n,r),e=e.sibling}function Fu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&vr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Fu(e,n,r),e=e.sibling;e!==null;)Fu(e,n,r),e=e.sibling}function Qp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,o,r),n[Te]=e,n[ge]=r}catch(f){Jt(e,e.return,f)}}var Ui=!1,fe=!1,Vf=!1,Kp=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function z0(e,n){if(e=e.containerInfo,nd=uc,e=rg(e),Dh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,L=0,H=0,Q=e,z=null;e:for(;;){for(var B;Q!==r||c!==0&&Q.nodeType!==3||(E=y+c),Q!==f||o!==0&&Q.nodeType!==3||(b=y+o),Q.nodeType===3&&(y+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===r&&++L===c&&(E=y),z===f&&++H===o&&(b=y),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(id={focusedElem:e,selectionRange:r},uc=!1,Ve=n;Ve!==null;)if(n=Ve,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ve=e;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var _t=As(r.type,c,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(_t,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Jt(r,r.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)ad(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ve=e;break}Ve=n.return}}function Yp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:fr(e,r),o&4&&Ko(5,r);break;case 1:if(fr(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(y){Jt(r,r.return,y)}else{var c=As(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Jt(r,r.return,y)}}o&64&&qp(r),o&512&&Yo(r,r.return);break;case 3:if(fr(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Dg(e,n)}catch(y){Jt(r,r.return,y)}}break;case 27:n===null&&o&4&&Qp(r);case 26:case 5:fr(e,r),n===null&&o&4&&Gp(r),o&512&&Yo(r,r.return);break;case 12:fr(e,r);break;case 13:fr(e,r),o&4&&Zp(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Y0.bind(null,r),fA(e,r))));break;case 22:if(o=r.memoizedState!==null||Ui,!o){n=n!==null&&n.memoizedState!==null||fe,c=Ui;var f=fe;Ui=o,(fe=n)&&!f?dr(e,r,(r.subtreeFlags&8772)!==0):fr(e,r),Ui=c,fe=f}break;case 30:break;default:fr(e,r)}}function Xp(e){var n=e.alternate;n!==null&&(e.alternate=null,Xp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&tr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,nn=!1;function ki(e,n,r){for(r=r.child;r!==null;)$p(e,n,r),r=r.sibling}function $p(e,n,r){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(oe,r)}catch{}switch(r.tag){case 26:fe||ei(r,n),ki(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fe||ei(r,n);var o=re,c=nn;vr(r.type)&&(re=r.stateNode,nn=!1),ki(e,n,r),il(r.stateNode),re=o,nn=c;break;case 5:fe||ei(r,n);case 6:if(o=re,c=nn,re=null,ki(e,n,r),re=o,nn=c,re!==null)if(nn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(r.stateNode)}catch(f){Jt(r,n,f)}else try{re.removeChild(r.stateNode)}catch(f){Jt(r,n,f)}break;case 18:re!==null&&(nn?(e=re,Ly(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),hl(e)):Ly(re,r.stateNode));break;case 4:o=re,c=nn,re=r.stateNode.containerInfo,nn=!0,ki(e,n,r),re=o,nn=c;break;case 0:case 11:case 14:case 15:fe||hr(2,r,n),fe||hr(4,r,n),ki(e,n,r);break;case 1:fe||(ei(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Hp(r,n,o)),ki(e,n,r);break;case 21:ki(e,n,r);break;case 22:fe=(o=fe)||r.memoizedState!==null,ki(e,n,r),fe=o;break;default:ki(e,n,r)}}function Zp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hl(e)}catch(r){Jt(n,n.return,r)}}function B0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Kp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Kp),n;default:throw Error(a(435,e.tag))}}function Mf(e,n){var r=B0(e);n.forEach(function(o){var c=X0.bind(null,e,o);r.has(o)||(r.add(o),o.then(c,c))})}function cn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(vr(E.type)){re=E.stateNode,nn=!1;break t}break;case 5:re=E.stateNode,nn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(re===null)throw Error(a(160));$p(f,y,c),re=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Jp(n,e),n=n.sibling}var kn=null;function Jp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),o&4&&(hr(3,e,e.return),Ko(3,e),hr(5,e,e.return));break;case 1:cn(n,e),hn(e),o&512&&(fe||r===null||ei(r,r.return)),o&64&&Ui&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=kn;if(cn(n,e),hn(e),o&512&&(fe||r===null||ei(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Zr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,o,r),f[Te]=e,ce(f),o=f;break t;case"link":var y=Qy("link","href",c).get(o+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(o),ze(f,o,r),c.head.appendChild(f);break;case"meta":if(y=Qy("meta","content",c).get(o+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(o),ze(f,o,r),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[Te]=e,ce(f),o=f}e.stateNode=o}else Ky(c,e.type,e.stateNode);else e.stateNode=Fy(c,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Ky(c,e.type,e.stateNode):Fy(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Df(e,e.memoizedProps,r.memoizedProps)}break;case 27:cn(n,e),hn(e),o&512&&(fe||r===null||ei(r,r.return)),r!==null&&o&4&&Df(e,e.memoizedProps,r.memoizedProps);break;case 5:if(cn(n,e),hn(e),o&512&&(fe||r===null||ei(r,r.return)),e.flags&32){c=e.stateNode;try{vn(c,"")}catch(B){Jt(e,e.return,B)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Df(e,c,r!==null?r.memoizedProps:c)),o&1024&&(Vf=!0);break;case 6:if(cn(n,e),hn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(B){Jt(e,e.return,B)}}break;case 3:if(ac=null,c=kn,kn=rc(n.containerInfo),cn(n,e),kn=c,hn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{hl(n.containerInfo)}catch(B){Jt(e,e.return,B)}Vf&&(Vf=!1,Wp(e));break;case 4:o=kn,kn=rc(e.stateNode.containerInfo),cn(n,e),hn(e),kn=o;break;case 12:cn(n,e),hn(e);break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(zf=yn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Mf(e,o)));break;case 22:c=e.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,L=Ui,H=fe;if(Ui=L||c,fe=H||b,cn(n,e),fe=H,Ui=L,hn(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Ui||fe||Ss(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Jt(b,b.return,B)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){Jt(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Mf(e,r))));break;case 19:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Mf(e,o)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Fp(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Nf(e);Fu(e,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(vn(y,""),r.flags&=-33);var E=Nf(e);Fu(e,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,L=Nf(e);Of(e,L,b);break;default:throw Error(a(161))}}catch(H){Jt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Wp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function fr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yp(e,n.alternate,n),n=n.sibling}function Ss(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:hr(4,n,n.return),Ss(n);break;case 1:ei(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Hp(n,n.return,r),Ss(n);break;case 27:il(n.stateNode);case 26:case 5:ei(n,n.return),Ss(n);break;case 22:n.memoizedState===null&&Ss(n);break;case 30:Ss(n);break;default:Ss(n)}e=e.sibling}}function dr(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:dr(c,f,r),Ko(4,f);break;case 1:if(dr(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Jt(o,o.return,L)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Cg(b[c],E)}catch(L){Jt(o,o.return,L)}}r&&y&64&&qp(f),Yo(f,f.return);break;case 27:Qp(f);case 26:case 5:dr(c,f,r),r&&o===null&&y&4&&Gp(f),Yo(f,f.return);break;case 12:dr(c,f,r);break;case 13:dr(c,f,r),r&&y&4&&Zp(c,f);break;case 22:f.memoizedState===null&&dr(c,f,r),Yo(f,f.return);break;case 30:break;default:dr(c,f,r)}n=n.sibling}}function xf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Mo(r))}function Pf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e))}function ni(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ty(e,n,r,o),n=n.sibling}function ty(e,n,r,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,r,o),c&2048&&Ko(9,n);break;case 1:ni(e,n,r,o);break;case 3:ni(e,n,r,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e)));break;case 12:if(c&2048){ni(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Jt(n,n.return,b)}}else ni(e,n,r,o);break;case 13:ni(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ni(e,n,r,o):Xo(e,n):f._visibility&2?ni(e,n,r,o):(f._visibility|=2,Ea(e,n,r,o,(n.subtreeFlags&10256)!==0)),c&2048&&xf(y,n);break;case 24:ni(e,n,r,o),c&2048&&Pf(n.alternate,n);break;default:ni(e,n,r,o)}}function Ea(e,n,r,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,y=n,E=r,b=o,L=y.flags;switch(y.tag){case 0:case 11:case 15:Ea(f,y,E,b,c),Ko(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Ea(f,y,E,b,c):Xo(f,y):(H._visibility|=2,Ea(f,y,E,b,c)),c&&L&2048&&xf(y.alternate,y);break;case 24:Ea(f,y,E,b,c),c&&L&2048&&Pf(y.alternate,y);break;default:Ea(f,y,E,b,c)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,c=o.flags;switch(o.tag){case 22:Xo(r,o),c&2048&&xf(o.alternate,o);break;case 24:Xo(r,o),c&2048&&Pf(o.alternate,o);break;default:Xo(r,o)}n=n.sibling}}var $o=8192;function Ta(e){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)ey(e),e=e.sibling}function ey(e){switch(e.tag){case 26:Ta(e),e.flags&$o&&e.memoizedState!==null&&wA(kn,e.memoizedState,e.memoizedProps);break;case 5:Ta(e);break;case 3:case 4:var n=kn;kn=rc(e.stateNode.containerInfo),Ta(e),kn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=$o,$o=16777216,Ta(e),$o=n):Ta(e));break;default:Ta(e)}}function ny(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ve=o,ry(o,e)}ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&hr(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qu(e)):Zo(e);break;default:Zo(e)}}function Qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ve=o,ry(o,e)}ny(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:hr(8,n,n.return),Qu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Qu(n));break;default:Qu(n)}e=e.sibling}}function ry(e,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:hr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Mo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ve=o;else t:for(r=e;Ve!==null;){o=Ve;var c=o.sibling,f=o.return;if(Xp(o),o===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var j0={getCacheForType:function(e){var n=Ge(be),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},q0=typeof WeakMap=="function"?WeakMap:Map,Qt=0,te=null,It=null,Ut=0,Kt=0,fn=null,mr=!1,Aa=!1,Uf=!1,Li=0,ue=0,gr=0,bs=0,kf=0,Cn=0,Sa=0,Jo=null,rn=null,Lf=!1,zf=0,Ku=1/0,Yu=null,pr=null,Le=0,yr=null,ba=null,wa=0,Bf=0,jf=null,sy=null,Wo=0,qf=null;function dn(){if((Qt&2)!==0&&Ut!==0)return Ut&-Ut;if(q.T!==null){var e=fa;return e!==0?e:Xf()}return Ji()}function ay(){Cn===0&&(Cn=(Ut&536870912)===0||qt?oo():536870912);var e=In.current;return e!==null&&(e.flags|=32),Cn}function mn(e,n,r){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),_r(e,Ut,Cn,!1)),pi(e,r),((Qt&2)===0||e!==te)&&(e===te&&((Qt&2)===0&&(bs|=r),ue===4&&_r(e,Ut,Cn,!1)),ii(e))}function oy(e,n,r){if((Qt&6)!==0)throw Error(a(327));var o=!r&&(n&124)===0&&(n&e.expiredLanes)===0||$r(e,n),c=o?F0(e,n):Ff(e,n,!0),f=o;do{if(c===0){Aa&&!o&&_r(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!H0(r)){c=Ff(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;c=Jo;var b=E.current.memoizedState.isDehydrated;if(b&&(Ra(E,y).flags|=256),y=Ff(E,y,!1),y!==2){if(Uf&&!b){E.errorRecoveryDisabledLanes|=f,bs|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Ra(e,0),_r(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:_r(o,n,Cn,!mr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=zf+300-yn(),10<c)){if(_r(o,n,Cn,!mr),Hs(o,0,!0)!==0)break t;o.timeoutHandle=Uy(ly.bind(null,o,r,rn,Yu,Lf,n,Cn,bs,Sa,mr,f,2,-0,0),c);break t}ly(o,r,rn,Yu,Lf,n,Cn,bs,Sa,mr,f,0,-0,0)}}break}while(!0);ii(e)}function ly(e,n,r,o,c,f,y,E,b,L,H,Q,z,B){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(al={stylesheets:null,count:0,unsuspend:bA},ey(n),Q=RA(),Q!==null)){e.cancelPendingCommit=Q(gy.bind(null,e,n,f,r,o,c,y,E,b,H,1,z,B)),_r(e,f,y,!L);return}gy(e,n,f,r,o,c,y,E,b)}function H0(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _r(e,n,r,o){n&=~kf,n&=~bs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-He(c),y=1<<f;o[f]=-1,c&=~y}r!==0&&qn(e,r,n)}function Xu(){return(Qt&6)===0?(tl(0),!1):!0}function Hf(){if(It!==null){if(Kt===0)var e=It.return;else e=It,Ni=_s=null,af(e),_a=null,Go=0,e=It;for(;e!==null;)jp(e.alternate,e),e=e.return;It=null}}function Ra(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,oA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Hf(),te=e,It=r=Ii(e.current,null),Ut=n,Kt=0,fn=null,mr=!1,Aa=$r(e,n),Uf=!1,Sa=Cn=kf=bs=gr=ue=0,rn=Jo=null,Lf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-He(o),f=1<<c;n|=e[c],o&=~f}return Li=n,yu(),r}function uy(e,n){wt=null,q.H=Uu,n===Po||n===Ru?(n=Rg(),Kt=3):n===Sg?(n=Rg(),Kt=4):Kt=n===Ip?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,It===null&&(ue=1,ju(e,Sn(n,e.current)))}function cy(){var e=q.H;return q.H=Uu,e===null?Uu:e}function hy(){var e=q.A;return q.A=j0,e}function Gf(){ue=4,mr||(Ut&4194048)!==Ut&&In.current!==null||(Aa=!0),(gr&134217727)===0&&(bs&134217727)===0||te===null||_r(te,Ut,Cn,!1)}function Ff(e,n,r){var o=Qt;Qt|=2;var c=cy(),f=hy();(te!==e||Ut!==n)&&(Yu=null,Ra(e,n)),n=!1;var y=ue;t:do try{if(Kt!==0&&It!==null){var E=It,b=fn;switch(Kt){case 8:Hf(),y=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var L=Kt;if(Kt=0,fn=null,Ia(e,E,b,L),r&&Aa){y=0;break t}break;default:L=Kt,Kt=0,fn=null,Ia(e,E,b,L)}}G0(),y=ue;break}catch(H){uy(e,H)}while(!0);return n&&e.shellSuspendCounter++,Ni=_s=null,Qt=o,q.H=c,q.A=f,It===null&&(te=null,Ut=0,yu()),y}function G0(){for(;It!==null;)fy(It)}function F0(e,n){var r=Qt;Qt|=2;var o=cy(),c=hy();te!==e||Ut!==n?(Yu=null,Ku=yn()+500,Ra(e,n)):Aa=$r(e,n);t:do try{if(Kt!==0&&It!==null){n=It;var f=fn;e:switch(Kt){case 1:Kt=0,fn=null,Ia(e,n,f,1);break;case 2:case 9:if(bg(f)){Kt=0,fn=null,dy(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),ii(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:bg(f)?(Kt=0,fn=null,dy(n)):(Kt=0,fn=null,Ia(e,n,f,7));break;case 5:var y=null;switch(It.tag){case 26:y=It.memoizedState;case 5:case 27:var E=It;if(!y||Yy(y)){Kt=0,fn=null;var b=E.sibling;if(b!==null)It=b;else{var L=E.return;L!==null?(It=L,$u(L)):It=null}break e}}Kt=0,fn=null,Ia(e,n,f,5);break;case 6:Kt=0,fn=null,Ia(e,n,f,6);break;case 8:Hf(),ue=6;break t;default:throw Error(a(462))}}Q0();break}catch(H){uy(e,H)}while(!0);return Ni=_s=null,q.H=o,q.A=c,Qt=r,It!==null?0:(te=null,Ut=0,yu(),ue)}function Q0(){for(;It!==null&&!io();)fy(It)}function fy(e){var n=zp(e.alternate,e,Li);e.memoizedProps=e.pendingProps,n===null?$u(e):It=n}function dy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Mp(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Mp(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:af(n);default:jp(r,n),n=It=mg(n,Li),n=zp(r,n,Li)}e.memoizedProps=e.pendingProps,n===null?$u(e):It=n}function Ia(e,n,r,o){Ni=_s=null,af(n),_a=null,Go=0;var c=n.return;try{if(P0(e,c,n,r,Ut)){ue=1,ju(e,Sn(r,e.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;ue=1,ju(e,Sn(r,e.current)),It=null;return}n.flags&32768?(qt||o===1?e=!0:Aa||(Ut&536870912)!==0?e=!1:(mr=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),my(n,e)):$u(n)}function $u(e){var n=e;do{if((n.flags&32768)!==0){my(n,mr);return}e=n.return;var r=k0(n.alternate,n,Li);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ue===0&&(ue=5)}function my(e,n){do{var r=L0(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);ue=6,It=null}function gy(e,n,r,o,c,f,y,E,b){e.cancelPendingCommit=null;do Zu();while(Le!==0);if((Qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=xh,uo(e,r,f,y,E,b),e===te&&(It=te=null,Ut=0),ba=n,yr=e,wa=r,Bf=f,jf=c,sy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$0(Qr,function(){return Ey(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,c=nt.p,nt.p=2,y=Qt,Qt|=4;try{z0(e,n,r)}finally{Qt=y,nt.p=c,q.T=o}}Le=1,py(),yy(),_y()}}function py(){if(Le===1){Le=0;var e=yr,n=ba,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=nt.p;nt.p=2;var c=Qt;Qt|=4;try{Jp(n,e);var f=id,y=rg(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&ig(E.ownerDocument.documentElement,E)){if(b!==null&&Dh(E)){var L=b.start,H=b.end;if(H===void 0&&(H=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),_t=E.textContent.length,gt=Math.min(b.start,_t),Zt=b.end===void 0?gt:Math.min(b.end,_t);!B.extend&&gt>Zt&&(y=Zt,Zt=gt,gt=y);var x=ng(E,gt),C=ng(E,Zt);if(x&&C&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==C.node||B.focusOffset!==C.offset)){var k=Q.createRange();k.setStart(x.node,x.offset),B.removeAllRanges(),gt>Zt?(B.addRange(k),B.extend(C.node,C.offset)):(k.setEnd(C.node,C.offset),B.addRange(k))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}uc=!!nd,id=nd=null}finally{Qt=c,nt.p=o,q.T=r}}e.current=n,Le=2}}function yy(){if(Le===2){Le=0;var e=yr,n=ba,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=nt.p;nt.p=2;var c=Qt;Qt|=4;try{Yp(e,n.alternate,n)}finally{Qt=c,nt.p=o,q.T=r}}Le=3}}function _y(){if(Le===4||Le===3){Le=0,Ql();var e=yr,n=ba,r=wa,o=sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,ba=yr=null,vy(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(pr=null),Gs(r),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(oe,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,c=nt.p,nt.p=2,q.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{q.T=n,nt.p=c}}(wa&3)!==0&&Zu(),ii(e),c=e.pendingLanes,(r&4194090)!==0&&(c&42)!==0?e===qf?Wo++:(Wo=0,qf=e):Wo=0,tl(0)}}function vy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Mo(n)))}function Zu(e){return py(),yy(),_y(),Ey()}function Ey(){if(Le!==5)return!1;var e=yr,n=Bf;Bf=0;var r=Gs(wa),o=q.T,c=nt.p;try{nt.p=32>r?32:r,q.T=null,r=jf,jf=null;var f=yr,y=wa;if(Le=0,ba=yr=null,wa=0,(Qt&6)!==0)throw Error(a(331));var E=Qt;if(Qt|=4,iy(f.current),ty(f,f.current,y,r),Qt=E,tl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(oe,f)}catch{}return!0}finally{nt.p=c,q.T=o,vy(e,n)}}function Ty(e,n,r){n=Sn(r,n),n=Ef(e.stateNode,n,2),e=or(e,n,2),e!==null&&(pi(e,2),ii(e))}function Jt(e,n,r){if(e.tag===3)Ty(e,e,r);else for(;n!==null;){if(n.tag===3){Ty(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(pr===null||!pr.has(o))){e=Sn(r,e),r=wp(2),o=or(n,r,2),o!==null&&(Rp(r,o,n,e),pi(o,2),ii(o));break}}n=n.return}}function Qf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new q0;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(r)||(Uf=!0,c.add(r),e=K0.bind(null,e,n,r),n.then(e,e))}function K0(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,te===e&&(Ut&r)===r&&(ue===4||ue===3&&(Ut&62914560)===Ut&&300>yn()-zf?(Qt&2)===0&&Ra(e,0):kf|=r,Sa===Ut&&(Sa=0)),ii(e)}function Ay(e,n){n===0&&(n=lo()),e=la(e,n),e!==null&&(pi(e,n),ii(e))}function Y0(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Ay(e,r)}function X0(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Ay(e,r)}function $0(e,n){return Gr(e,n)}var Ju=null,Ca=null,Kf=!1,Wu=!1,Yf=!1,ws=0;function ii(e){e!==Ca&&e.next===null&&(Ca===null?Ju=Ca=e:Ca=Ca.next=e),Wu=!0,Kf||(Kf=!0,J0())}function tl(e,n){if(!Yf&&Wu){Yf=!0;do for(var r=!1,o=Ju;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-He(42|e)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ry(o,f))}else f=Ut,f=Hs(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||$r(o,f)||(r=!0,Ry(o,f));o=o.next}while(r);Yf=!1}}function Z0(){Sy()}function Sy(){Wu=Kf=!1;var e=0;ws!==0&&(aA()&&(e=ws),ws=0);for(var n=yn(),r=null,o=Ju;o!==null;){var c=o.next,f=by(o,n);f===0?(o.next=null,r===null?Ju=c:r.next=c,c===null&&(Ca=r)):(r=o,(e!==0||(f&3)!==0)&&(Wu=!0)),o=c}tl(e)}function by(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-He(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&o)!==0)&&(c[y]=ao(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,r=Ut,r=Hs(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Fr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||$r(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Fr(o),Gs(r)){case 2:case 8:r=js;break;case 32:r=Qr;break;case 268435456:r=qs;break;default:r=Qr}return o=wy.bind(null,e),r=Gr(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Fr(o),e.callbackPriority=2,e.callbackNode=null,2}function wy(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Zu()&&e.callbackNode!==r)return null;var o=Ut;return o=Hs(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(oy(e,o,n),by(e,yn()),e.callbackNode!=null&&e.callbackNode===r?wy.bind(null,e):null)}function Ry(e,n){if(Zu())return null;oy(e,n,!0)}function J0(){lA(function(){(Qt&6)!==0?Gr(ro,Z0):Sy()})}function Xf(){return ws===0&&(ws=oo()),ws}function Iy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$s(""+e)}function Cy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function W0(e,n,r,o,c){if(n==="submit"&&r&&r.stateNode===c){var f=Iy((c[ge]||null).action),y=o.submitter;y&&(n=(n=y[ge]||null)?Iy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Zs("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ws!==0){var b=y?Cy(c,y):new FormData(c);gf(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Cy(c,y):new FormData(c),gf(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var $f=0;$f<Mh.length;$f++){var Zf=Mh[$f],tA=Zf.toLowerCase(),eA=Zf[0].toUpperCase()+Zf.slice(1);Un(tA,"on"+eA)}Un(og,"onAnimationEnd"),Un(lg,"onAnimationIteration"),Un(ug,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(_0,"onTransitionRun"),Un(v0,"onTransitionStart"),Un(E0,"onTransitionCancel"),Un(cg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function Dy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(H){Bu(H)}c.currentTarget=null,f=b}else for(y=0;y<o.length;y++){if(E=o[y],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(H){Bu(H)}c.currentTarget=null,f=b}}}}function Ct(e,n){var r=n[ho];r===void 0&&(r=n[ho]=new Set);var o=e+"__bubble";r.has(o)||(Ny(n,e,2,!1),r.add(o))}function Jf(e,n,r){var o=0;n&&(o|=4),Ny(r,e,o,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[tc]){e[tc]=!0,fo.forEach(function(r){r!=="selectionchange"&&(nA.has(r)||Jf(r,!1,e),Jf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,Jf("selectionchange",!1,n))}}function Ny(e,n,r,o){switch(t_(n)){case 2:var c=DA;break;case 8:c=NA;break;default:c=dd}r=c.bind(null,n,r,e),c=void 0,!Tn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function td(e,n,r,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=o.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=yi(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){o=f=y;continue t}E=E.parentNode}}o=o.return}nu(function(){var L=f,H=En(r),Q=[];t:{var z=hg.get(e);if(z!==void 0){var B=Zs,_t=e;switch(e){case"keypress":if(Yn(r)===0)break t;case"keydown":case"keyup":B=ia;break;case"focusin":_t="focus",B=ta;break;case"focusout":_t="blur",B=ta;break;case"beforeblur":case"afterblur":B=ta;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=cu;break;case og:case lg:case ug:B=ea;break;case cg:B=fu;break;case"scroll":case"scrollend":B=iu;break;case"wheel":B=ra;break;case"copy":case"cut":case"paste":B=na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=wo;break;case"toggle":case"beforetoggle":B=mu}var gt=(n&4)!==0,Zt=!gt&&(e==="scroll"||e==="scrollend"),x=gt?z!==null?z+"Capture":null:z;gt=[];for(var C=L,k;C!==null;){var F=C;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||x===null||(F=rs(C,x),F!=null&&gt.push(nl(C,F,k))),Zt)break;C=C.return}0<gt.length&&(z=new B(z,_t,null,r,H),Q.push({event:z,listeners:gt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&r!==Ti&&(_t=r.relatedTarget||r.fromElement)&&(yi(_t)||_t[_n]))break t;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(_t=r.relatedTarget||r.toElement,B=L,_t=_t?yi(_t):null,_t!==null&&(Zt=h(_t),gt=_t.tag,_t!==Zt||gt!==5&&gt!==27&&gt!==6)&&(_t=null)):(B=null,_t=L),B!==_t)){if(gt=An,F="onMouseLeave",x="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(gt=wo,F="onPointerLeave",x="onPointerEnter",C="pointer"),Zt=B==null?z:Gn(B),k=_t==null?z:Gn(_t),z=new gt(F,C+"leave",B,r,H),z.target=Zt,z.relatedTarget=k,F=null,yi(H)===L&&(gt=new gt(x,C+"enter",_t,r,H),gt.target=k,gt.relatedTarget=Zt,F=gt),Zt=F,B&&_t)e:{for(gt=B,x=_t,C=0,k=gt;k;k=Da(k))C++;for(k=0,F=x;F;F=Da(F))k++;for(;0<C-k;)gt=Da(gt),C--;for(;0<k-C;)x=Da(x),k--;for(;C--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=Da(gt),x=Da(x)}gt=null}else gt=null;B!==null&&Oy(Q,z,B,gt,!1),_t!==null&&Zt!==null&&Oy(Q,Zt,_t,gt,!0)}}t:{if(z=L?Gn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var lt=$m;else if(Se(z))if(Zm)lt=g0;else{lt=d0;var Rt=f0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&_o(L.elementType)&&(lt=$m):lt=m0;if(lt&&(lt=lt(e,L))){Ri(Q,lt,r,H);break t}Rt&&Rt(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&nr(z,"number",z.value)}switch(Rt=L?Gn(L):window,e){case"focusin":(Se(Rt)||Rt.contentEditable==="true")&&(sa=Rt,Nh=L,Co=null);break;case"focusout":Co=Nh=sa=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,sg(Q,r,H);break;case"selectionchange":if(y0)break;case"keydown":case"keyup":sg(Q,r,H)}var ht;if(Zn)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else xt?j(e,r)&&(pt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(p&&r.locale!=="ko"&&(xt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&xt&&(ht=Eo()):(Kn=H,ir="value"in Kn?Kn.value:Kn.textContent,xt=!0)),Rt=ec(L,pt),0<Rt.length&&(pt=new So(pt,e,null,r,H),Q.push({event:pt,listeners:Rt}),ht?pt.data=ht:(ht=tt(r),ht!==null&&(pt.data=ht)))),(ht=m?Ae(e,r):Pt(e,r))&&(pt=ec(L,"onBeforeInput"),0<pt.length&&(Rt=new So("onBeforeInput","beforeinput",null,r,H),Q.push({event:Rt,listeners:pt}),Rt.data=ht)),W0(Q,e,L,r,H)}Dy(Q,n)})}function nl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ec(e,n){for(var r=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=rs(e,r),c!=null&&o.unshift(nl(e,c,f)),c=rs(e,n),c!=null&&o.push(nl(e,c,f))),e.tag===3)return o;e=e.return}return[]}function Da(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Oy(e,n,r,o,c){for(var f=n._reactName,y=[];r!==null&&r!==o;){var E=r,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,c?(L=rs(r,f),L!=null&&y.unshift(nl(r,L,b))):c||(L=rs(r,f),L!=null&&y.push(nl(r,L,b)))),r=r.return}y.length!==0&&e.push({event:n,listeners:y})}var iA=/\r\n?/g,rA=/\u0000|\uFFFD/g;function Vy(e){return(typeof e=="string"?e:""+e).replace(iA,`
`).replace(rA,"")}function My(e,n){return n=Vy(n),Vy(e)===n}function nc(){}function $t(e,n,r,o,c,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||vn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&vn(e,""+o);break;case"className":Fn(e,"class",o);break;case"tabIndex":Fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,r,o);break;case"style":yo(e,o,f);break;case"data":if(n!=="object"){Fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=$s(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&$t(e,n,"name",c.name,c,null),$t(e,n,"formEncType",c.formEncType,c,null),$t(e,n,"formMethod",c.formMethod,c,null),$t(e,n,"formTarget",c.formTarget,c,null)):($t(e,n,"encType",c.encType,c,null),$t(e,n,"method",c.method,c,null),$t(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=$s(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=nc);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=$s(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),er(e,"popover",o);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":er(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Sh.get(r)||r,er(e,r,o))}}function ed(e,n,r,o,c,f){switch(r){case"style":yo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?vn(e,o):(typeof o=="number"||typeof o=="bigint")&&vn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fs.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[ge]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,c);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):er(e,r,o)}}}function ze(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,y,r,null)}}c&&$t(e,n,"srcSet",r.srcSet,r,null),o&&$t(e,n,"src",r.src,r,null);return;case"input":Ct("invalid",e);var E=f=y=c=null,b=null,L=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":L=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:$t(e,n,o,H,r,null)}}es(e,f,E,b,L,y,c,!1),Xs(e);return;case"select":Ct("invalid",e),o=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:$t(e,n,c,E,r,null)}n=f,r=y,e.multiple=!!o,n!=null?Ei(e,!!o,n,!1):r!=null&&Ei(e,!!o,r,!0);return;case"textarea":Ct("invalid",e),f=c=o=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,y,E,r,null)}ns(e,o,c,f),Xs(e);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(o=r[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$t(e,n,b,o,r,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)Ct(el[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(o=r[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,L,o,r,null)}return;default:if(_o(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&ed(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&$t(e,n,E,o,r,null))}function sA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,L=null,H=null;for(B in r){var Q=r[B];if(r.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:o.hasOwnProperty(B)||$t(e,n,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":f=B;break;case"name":c=B;break;case"checked":L=B;break;case"defaultChecked":H=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Q&&$t(e,n,z,B,o,Q)}}on(e,y,E,b,L,H,f,c);return;case"select":B=y=E=z=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,b)}for(c in o)if(f=o[c],b=r[c],o.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&$t(e,n,c,f,o,b)}n=E,r=y,o=B,z!=null?Ei(e,!!r,z,!1):!!o!=!!r&&(n!=null?Ei(e,!!r,n,!0):Ei(e,!!r,r?[]:"",!1));return;case"textarea":B=z=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,c)}for(y in o)if(c=o[y],f=r[y],o.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":z=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&$t(e,n,y,c,o,f)}Yt(e,z,B);return;case"option":for(var _t in r)if(z=r[_t],r.hasOwnProperty(_t)&&z!=null&&!o.hasOwnProperty(_t))switch(_t){case"selected":e.selected=!1;break;default:$t(e,n,_t,null,o,z)}for(b in o)if(z=o[b],B=r[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:$t(e,n,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)z=r[gt],r.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt)&&$t(e,n,gt,null,o,z);for(L in o)if(z=o[L],B=r[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:$t(e,n,L,z,o,B)}return;default:if(_o(n)){for(var Zt in r)z=r[Zt],r.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&ed(e,n,Zt,void 0,o,z);for(H in o)z=o[H],B=r[H],!o.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||ed(e,n,H,z,o,B);return}}for(var x in r)z=r[x],r.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&$t(e,n,x,null,o,z);for(Q in o)z=o[Q],B=r[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||$t(e,n,Q,z,o,B)}var nd=null,id=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function xy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sd=null;function aA(){var e=window.event;return e&&e.type==="popstate"?e===sd?!1:(sd=e,!0):(sd=null,!1)}var Uy=typeof setTimeout=="function"?setTimeout:void 0,oA=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,lA=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(e){return ky.resolve(null).then(e).catch(uA)}:Uy;function uA(e){setTimeout(function(){throw e})}function vr(e){return e==="head"}function Ly(e,n){var r=n,o=0,c=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<o&&8>o){r=o;var y=e.ownerDocument;if(r&1&&il(y.documentElement),r&2&&il(y.body),r&4)for(r=y.head,il(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Zr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){e.removeChild(f),hl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:o=r.charCodeAt(0)-48;else o=0;r=f}while(r);hl(n)}function ad(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ad(r),tr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function cA(e,n,r,o){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Zr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function hA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ln(e.nextSibling),e===null))return null;return e}function od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function fA(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var ld=null;function zy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function By(e,n,r){switch(n=ic(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);tr(e)}var Dn=new Map,jy=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zi=nt.d;nt.d={f:dA,r:mA,D:gA,C:pA,L:yA,m:_A,X:EA,S:vA,M:TA};function dA(){var e=zi.f(),n=Xu();return e||n}function mA(e){var n=Hn(e);n!==null&&n.tag===5&&n.type==="form"?op(n):zi.r(e)}var Na=typeof document>"u"?null:document;function qy(e,n,r){var o=Na;if(o&&typeof n=="string"&&n){var c=pe(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),jy.has(c)||(jy.add(c),e={rel:e,crossOrigin:r,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),ze(n,"link",e),ce(n),o.head.appendChild(n)))}}function gA(e){zi.D(e),qy("dns-prefetch",e,null)}function pA(e,n){zi.C(e,n),qy("preconnect",e,n)}function yA(e,n,r){zi.L(e,n,r);var o=Na;if(o&&e&&n){var c='link[rel="preload"][as="'+pe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+pe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+pe(r.imageSizes)+'"]')):c+='[href="'+pe(e)+'"]';var f=c;switch(n){case"style":f=Oa(e);break;case"script":f=Va(e)}Dn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Dn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(rl(f))||n==="script"&&o.querySelector(sl(f))||(n=o.createElement("link"),ze(n,"link",e),ce(n),o.head.appendChild(n)))}}function _A(e,n){zi.m(e,n);var r=Na;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+pe(o)+'"][href="'+pe(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!Dn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Dn.set(f,e),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(sl(f)))return}o=r.createElement("link"),ze(o,"link",e),ce(o),r.head.appendChild(o)}}}function vA(e,n,r){zi.S(e,n,r);var o=Na;if(o&&e){var c=Ze(o).hoistableStyles,f=Oa(e);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(rl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Dn.get(f))&&ud(e,r);var b=y=o.createElement("link");ce(b),ze(b,"link",e),b._p=new Promise(function(L,H){b.onload=L,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function EA(e,n){zi.X(e,n);var r=Na;if(r&&e){var o=Ze(r).hoistableScripts,c=Va(e),f=o.get(c);f||(f=r.querySelector(sl(c)),f||(e=A({src:e,async:!0},n),(n=Dn.get(c))&&cd(e,n),f=r.createElement("script"),ce(f),ze(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function TA(e,n){zi.M(e,n);var r=Na;if(r&&e){var o=Ze(r).hoistableScripts,c=Va(e),f=o.get(c);f||(f=r.querySelector(sl(c)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Dn.get(c))&&cd(e,n),f=r.createElement("script"),ce(f),ze(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Hy(e,n,r,o){var c=(c=at.current)?rc(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Oa(r.href),r=Ze(c).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Oa(r.href);var f=Ze(c).hoistableStyles,y=f.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=c.querySelector(rl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(e,r),f||AA(c,e,r,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(r),r=Ze(c).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Oa(e){return'href="'+pe(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function Gy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function AA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ze(n,"link",r),ce(n),e.head.appendChild(n))}function Va(e){return'[src="'+pe(e)+'"]'}function sl(e){return"script[async]"+e}function Fy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+pe(r.href)+'"]');if(o)return n.instance=o,ce(o),o;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ce(o),ze(o,"style",c),sc(o,r.precedence,e),n.instance=o;case"stylesheet":c=Oa(r.href);var f=e.querySelector(rl(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;o=Gy(r),(c=Dn.get(c))&&ud(o,c),f=(e.ownerDocument||e).createElement("link"),ce(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",o),n.state.loading|=4,sc(f,r.precedence,e),n.instance=f;case"script":return f=Va(r.src),(c=e.querySelector(sl(f)))?(n.instance=c,ce(c),c):(o=r,(c=Dn.get(f))&&(o=A({},r),cd(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),ce(c),ze(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,sc(o,r.precedence,e));return n.instance}function sc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ac=null;function Qy(e,n,r){if(ac===null){var o=new Map,c=ac=new Map;c.set(r,o)}else c=ac,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[Zr]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function Ky(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function SA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Yy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var al=null;function bA(){}function wA(e,n,r){if(al===null)throw Error(a(475));var o=al;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Oa(r.href),f=e.querySelector(rl(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=oc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,ce(f);return}f=e.ownerDocument||e,r=Gy(r),(c=Dn.get(c))&&ud(r,c),f=f.createElement("link"),ce(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",r),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=oc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function RA(){if(al===null)throw Error(a(475));var e=al;return e.stylesheets&&e.count===0&&hd(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&hd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function oc(){if(this.count--,this.count===0){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function hd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,n.forEach(IA,e),lc=null,oc.call(e))}function IA(e,n){if(!(n.state.loading&4)){var r=lc.get(e);if(r)var o=r.get(null);else{r=new Map,lc.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||o,f===o&&r.set(null,c),r.set(y,c),this.count++,o=oc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function CA(e,n,r,o,c,f,y,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Xy(e,n,r,o,c,f,y,E,b,L,H,Q){return e=new CA(e,n,r,y,E,b,L,Q),n=1,f===!0&&(n|=24),f=un(3,null,null,n),e.current=f,f.stateNode=e,n=Fh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Xh(f),e}function $y(e){return e?(e=ua,e):ua}function Zy(e,n,r,o,c,f){c=$y(c),o.context===null?o.context=c:o.pendingContext=c,o=ar(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=or(e,o,n),r!==null&&(mn(r,e,n),ko(r,e,n))}function Jy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function fd(e,n){Jy(e,n),(e=e.alternate)&&Jy(e,n)}function Wy(e){if(e.tag===13){var n=la(e,67108864);n!==null&&mn(n,e,67108864),fd(e,67108864)}}var uc=!0;function DA(e,n,r,o){var c=q.T;q.T=null;var f=nt.p;try{nt.p=2,dd(e,n,r,o)}finally{nt.p=f,q.T=c}}function NA(e,n,r,o){var c=q.T;q.T=null;var f=nt.p;try{nt.p=8,dd(e,n,r,o)}finally{nt.p=f,q.T=c}}function dd(e,n,r,o){if(uc){var c=md(o);if(c===null)td(e,n,o,cc,r),e_(e,o);else if(VA(c,e,n,r,o))o.stopPropagation();else if(e_(e,o),n&4&&-1<OA.indexOf(e)){for(;c!==null;){var f=Hn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Mn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-He(y);E.entanglements[1]|=b,y&=~b}ii(f),(Qt&6)===0&&(Ku=yn()+500,tl(0))}}break;case 13:E=la(f,2),E!==null&&mn(E,f,2),Xu(),fd(f,2)}if(f=md(o),f===null&&td(e,n,o,cc,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else td(e,n,o,null,r)}}function md(e){return e=En(e),gd(e)}var cc=null;function gd(e){if(cc=null,e=yi(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function t_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yh()){case ro:return 2;case js:return 8;case Qr:case _h:return 32;case qs:return 268435456;default:return 32}default:return 32}}var pd=!1,Er=null,Tr=null,Ar=null,ll=new Map,ul=new Map,Sr=[],OA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(e,n){switch(e){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,r,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Hn(n),n!==null&&Wy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function VA(e,n,r,o,c){switch(n){case"focusin":return Er=cl(Er,e,n,r,o,c),!0;case"dragenter":return Tr=cl(Tr,e,n,r,o,c),!0;case"mouseover":return Ar=cl(Ar,e,n,r,o,c),!0;case"pointerover":var f=c.pointerId;return ll.set(f,cl(ll.get(f)||null,e,n,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,ul.set(f,cl(ul.get(f)||null,e,n,r,o,c)),!0}return!1}function n_(e){var n=yi(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Xl(e.priority,function(){if(r.tag===13){var o=dn();o=Zi(o);var c=la(r,o);c!==null&&mn(c,r,o),fd(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=md(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Ti=o,r.target.dispatchEvent(o),Ti=null}else return n=Hn(r),n!==null&&Wy(n),e.blockedOn=r,!1;n.shift()}return!0}function i_(e,n,r){hc(e)&&r.delete(n)}function MA(){pd=!1,Er!==null&&hc(Er)&&(Er=null),Tr!==null&&hc(Tr)&&(Tr=null),Ar!==null&&hc(Ar)&&(Ar=null),ll.forEach(i_),ul.forEach(i_)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,pd||(pd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,MA)))}var dc=null;function r_(e){dc!==e&&(dc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(gd(o||r)===null)continue;break}var f=Hn(r);f!==null&&(e.splice(n,3),n-=3,gf(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function hl(e){function n(b){return fc(b,e)}Er!==null&&fc(Er,e),Tr!==null&&fc(Tr,e),Ar!==null&&fc(Ar,e),ll.forEach(n),ul.forEach(n);for(var r=0;r<Sr.length;r++){var o=Sr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Sr.length&&(r=Sr[0],r.blockedOn===null);)n_(r),r.blockedOn===null&&Sr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],y=c[ge]||null;if(typeof f=="function")y||r_(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ge]||null)E=y.formAction;else if(gd(c)!==null)continue}else E=y.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),r_(r)}}}function yd(e){this._internalRoot=e}mc.prototype.render=yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=dn();Zy(r,o,e,n,null,null)},mc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Zy(e.current,2,null,e,null,null),Xu(),n[_n]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ji();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Sr.length&&n!==0&&n<Sr[r].priority;r++);Sr.splice(r,0,e),r===0&&n_(e)}};var s_=t.version;if(s_!=="19.1.1")throw Error(a(527,s_,"19.1.1"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var xA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{oe=gc.inject(xA),Ft=gc}catch{}}return dl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",c=Tp,f=Ap,y=Sp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Xy(e,1,!1,null,null,r,o,c,f,y,E,null),e[_n]=n.current,Wf(e),new yd(n)},dl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,c="",f=Tp,y=Ap,E=Sp,b=null,L=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(L=r.formState)),n=Xy(e,1,!0,n,r??null,o,c,f,y,E,b,L),n.context=$y(null),r=n.current,o=dn(),o=Zi(o),c=ar(o),c.callback=null,or(r,c,o),r=o,n.current.lanes=r,pi(n,r),ii(n),e[_n]=n.current,Wf(e),new mc(n)},dl.version="19.1.1",dl}var g_;function GA(){if(g_)return Ed.exports;g_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ed.exports=HA(),Ed.exports}var FA=GA();const QA=()=>{};var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},KA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[i++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const h=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,v=_?s[l+2]:0,A=h>>2,D=(h&3)<<4|g>>4;let V=(g&15)<<2|v>>6,G=v&63;_||(G=64,d||(V=64)),a.push(i[A],i[D],i[V],i[G])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Qv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):KA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const h=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const D=l<s.length?i[s.charAt(l)]:64;if(++l,h==null||g==null||v==null||D==null)throw new YA;const V=h<<2|g>>4;if(a.push(V),v!==64){const G=g<<4&240|v>>2;if(a.push(G),D!==64){const Z=v<<6&192|D;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class YA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(s){const t=Qv(s);return Kv.encodeByteArray(t,!0)},xc=function(s){return XA(s).replace(/\./g,"")},Yv=function(s){try{return Kv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=()=>$A().__FIREBASE_DEFAULTS__,JA=()=>{if(typeof process>"u"||typeof p_>"u")return;const s=p_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},WA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Yv(s[1]);return t&&JSON.parse(t)},th=()=>{try{return QA()||ZA()||JA()||WA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Xv=s=>th()?.emulatorHosts?.[s],tS=s=>{const t=Xv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},$v=()=>th()?.config,Zv=s=>th()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[xc(JSON.stringify(i)),xc(JSON.stringify(d)),""].join(".")}const vl={};function iS(){const s={prod:[],emulator:[]};for(const t of Object.keys(vl))vl[t]?s.emulator.push(t):s.prod.push(t);return s}function rS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let y_=!1;function Wv(s,t){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||vl[s]===t||vl[s]||y_)return;vl[s]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",h=iS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,G){V.setAttribute("width","24"),V.setAttribute("id",G),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{y_=!0,d()},V}function A(V,G){V.setAttribute("id",G),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function D(){const V=rS(a),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),rt=i("learnmore"),W=document.getElementById(rt)||document.createElement("a"),Et=i("preprendIcon"),dt=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ft=V.element;g(ft),A(W,rt);const Lt=v();_(dt,Et),ft.append(dt,Z,W,Lt),document.body.appendChild(ft)}h?(Z.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function aS(){const s=th()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cS(){const s=$e();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function hS(){return!aS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fS(){try{return typeof indexedDB=="object"}catch{return!1}}function dS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="FirebaseError";class Xi extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=mS,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?gS(h,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Xi(l,g,a)}}function gS(s,t){return s.replace(pS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const pS=/\{\$([^}]+)}/g;function yS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Vs(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const h=s[l],d=t[l];if(__(h)&&__(d)){if(!Vs(h,d))return!1}else if(h!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function __(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function _S(s,t){const i=new vS(s,t);return i.subscribe.bind(i)}class vS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");ES(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=bd),l.error===void 0&&(l.error=bd),l.complete===void 0&&(l.complete=bd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ES(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function bd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(s){return s&&s._delegate?s._delegate:s}class Ms{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new eS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SS(t))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Is){return this.instances.has(t)}getOptions(t=Is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:AS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Is){return this.component?this.component.multipleInstances?t:Is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AS(s){return s===Is?void 0:s}function SS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new TS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const wS={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},RS=Nt.INFO,IS={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},CS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=IS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cm{constructor(t){this.name=t,this._logLevel=RS,this._logHandler=CS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const DS=(s,t)=>t.some(i=>s instanceof i);let v_,E_;function NS(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OS(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tE=new WeakMap,Ld=new WeakMap,eE=new WeakMap,wd=new WeakMap,hm=new WeakMap;function VS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Vr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&tE.set(i,s)}).catch(()=>{}),hm.set(t,s),t}function MS(s){if(Ld.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Ld.set(s,t)}let zd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Ld.get(s);if(t==="objectStoreNames")return s.objectStoreNames||eE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Vr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function xS(s){zd=s(zd)}function PS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Rd(this),t,...i);return eE.set(a,t.sort?t.sort():[t]),Vr(a)}:OS().includes(s)?function(...t){return s.apply(Rd(this),t),Vr(tE.get(this))}:function(...t){return Vr(s.apply(Rd(this),t))}}function US(s){return typeof s=="function"?PS(s):(s instanceof IDBTransaction&&MS(s),DS(s,NS())?new Proxy(s,zd):s)}function Vr(s){if(s instanceof IDBRequest)return VS(s);if(wd.has(s))return wd.get(s);const t=US(s);return t!==s&&(wd.set(s,t),hm.set(t,s)),t}const Rd=s=>hm.get(s);function kS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:h}={}){const d=indexedDB.open(s,t),g=Vr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Vr(d.result),_.oldVersion,_.newVersion,Vr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const LS=["get","getKey","getAll","getAllKeys","count"],zS=["put","add","delete","clear"],Id=new Map;function T_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Id.get(t))return Id.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=zS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||LS.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&_.done]))[0]};return Id.set(t,h),h}xS(s=>({...s,get:(t,i,a)=>T_(t,i)||s.get(t,i,a),has:(t,i)=>!!T_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function jS(s){return s.getComponent()?.type==="VERSION"}const Bd="@firebase/app",A_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new cm("@firebase/app"),qS="@firebase/app-compat",HS="@firebase/analytics-compat",GS="@firebase/analytics",FS="@firebase/app-check-compat",QS="@firebase/app-check",KS="@firebase/auth",YS="@firebase/auth-compat",XS="@firebase/database",$S="@firebase/data-connect",ZS="@firebase/database-compat",JS="@firebase/functions",WS="@firebase/functions-compat",t1="@firebase/installations",e1="@firebase/installations-compat",n1="@firebase/messaging",i1="@firebase/messaging-compat",r1="@firebase/performance",s1="@firebase/performance-compat",a1="@firebase/remote-config",o1="@firebase/remote-config-compat",l1="@firebase/storage",u1="@firebase/storage-compat",c1="@firebase/firestore",h1="@firebase/ai",f1="@firebase/firestore-compat",d1="firebase",m1="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",g1={[Bd]:"fire-core",[qS]:"fire-core-compat",[GS]:"fire-analytics",[HS]:"fire-analytics-compat",[QS]:"fire-app-check",[FS]:"fire-app-check-compat",[KS]:"fire-auth",[YS]:"fire-auth-compat",[XS]:"fire-rtdb",[$S]:"fire-data-connect",[ZS]:"fire-rtdb-compat",[JS]:"fire-fn",[WS]:"fire-fn-compat",[t1]:"fire-iid",[e1]:"fire-iid-compat",[n1]:"fire-fcm",[i1]:"fire-fcm-compat",[r1]:"fire-perf",[s1]:"fire-perf-compat",[a1]:"fire-rc",[o1]:"fire-rc-compat",[l1]:"fire-gcs",[u1]:"fire-gcs-compat",[c1]:"fire-fst",[f1]:"fire-fst-compat",[h1]:"fire-vertex","fire-js":"fire-js",[d1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,p1=new Map,qd=new Map;function S_(s,t){try{s.container.addComponent(t)}catch(i){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ha(s){const t=s.name;if(qd.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,s);for(const i of Pc.values())S_(i,s);for(const i of p1.values())S_(i,s);return!0}function fm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Nn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new xl("app","Firebase",y1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=m1;function nE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Mr.create("bad-app-name",{appName:String(l)});if(i||(i=$v()),!i)throw Mr.create("no-options");const h=Pc.get(l);if(h){if(Vs(i,h.options)&&Vs(a,h.config))return h;throw Mr.create("duplicate-app",{appName:l})}const d=new bS(l);for(const _ of qd.values())d.addComponent(_);const g=new _1(i,a,d);return Pc.set(l,g),g}function iE(s=jd){const t=Pc.get(s);if(!t&&s===jd&&$v())return nE();if(!t)throw Mr.create("no-app",{appName:s});return t}function xr(s,t,i){let a=g1[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(d.join(" "));return}Ha(new Ms(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="firebase-heartbeat-database",E1=1,wl="firebase-heartbeat-store";let Cd=null;function rE(){return Cd||(Cd=kS(v1,E1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(wl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Mr.create("idb-open",{originalErrorMessage:s.message})})),Cd}async function T1(s){try{const i=(await rE()).transaction(wl),a=await i.objectStore(wl).get(sE(s));return await i.done,a}catch(t){if(t instanceof Xi)Hi.warn(t.message);else{const i=Mr.create("idb-get",{originalErrorMessage:t?.message});Hi.warn(i.message)}}}async function b_(s,t){try{const a=(await rE()).transaction(wl,"readwrite");await a.objectStore(wl).put(t,sE(s)),await a.done}catch(i){if(i instanceof Xi)Hi.warn(i.message);else{const a=Mr.create("idb-set",{originalErrorMessage:i?.message});Hi.warn(a.message)}}}function sE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=1024,S1=30;class b1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new R1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=w_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>S1){const l=I1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=w_(),{heartbeatsToSend:i,unsentEntries:a}=w1(this._heartbeatsCache.heartbeats),l=xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Hi.warn(t),""}}}function w_(){return new Date().toISOString().substring(0,10)}function w1(s,t=A1){const i=[];let a=s.slice();for(const l of s){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),R_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),R_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class R1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fS()?dS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await T1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return b_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return b_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function R_(s){return xc(JSON.stringify({version:2,heartbeats:s})).length}function I1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(s){Ha(new Ms("platform-logger",t=>new BS(t),"PRIVATE")),Ha(new Ms("heartbeat",t=>new b1(t),"PRIVATE")),xr(Bd,A_,s),xr(Bd,A_,"esm2020"),xr("fire-js","")}C1("");var D1="firebase",N1="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(D1,N1,"app");function aE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O1=aE,oE=new xl("auth","Firebase",aE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new cm("@firebase/auth");function V1(s,...t){Uc.logLevel<=Nt.WARN&&Uc.warn(`Auth (${Za}): ${s}`,...t)}function Sc(s,...t){Uc.logLevel<=Nt.ERROR&&Uc.error(`Auth (${Za}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(s,...t){throw dm(s,...t)}function si(s,...t){return dm(s,...t)}function lE(s,t,i){const a={...O1(),[t]:i};return new xl("auth","Firebase",a).create(t,{appName:s.name})}function qi(s){return lE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return oE.create(s,...t)}function vt(s,t,...i){if(!s)throw dm(t,...i)}function Bi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Sc(t),new Error(t)}function Fi(s,t){s||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){return typeof self<"u"&&self.location?.href||""}function M1(){return I_()==="http:"||I_()==="https:"}function I_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M1()||lS()||"connection"in navigator)?navigator.onLine:!0}function P1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,i){this.shortDelay=t,this.longDelay=i,Fi(i>t,"Short delay should be less than long delay!"),this.isMobile=sS()||uS()}get(){return x1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(s,t){Fi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L1=new Ul(3e4,6e4);function kl(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Ja(s,t,i,a,l={}){return cE(s,l,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const g=Pl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v={method:t,headers:_,...h};return oS()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&$a(s.emulatorConfig.host)&&(v.credentials="include"),uE.fetch()(await hE(s,s.config.apiHost,i,g),v)})}async function cE(s,t,i){s._canInitEmulator=!1;const a={...U1,...t};try{const l=new z1(s),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw pc(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[_,v]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw pc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw pc(s,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw lE(s,A,v);Gi(s,A)}}catch(l){if(l instanceof Xi)throw l;Gi(s,"network-request-failed",{message:String(l)})}}async function gm(s,t,i,a,l={}){const h=await Ja(s,t,i,a,l);return"mfaPendingCredential"in h&&Gi(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function hE(s,t,i,a){const l=`${t}${i}?${a}`,h=s,d=h.config.emulator?mm(s.config,l):`${s.config.apiScheme}://${l}`;return k1.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class z1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(si(this.auth,"network-request-failed")),L1.get())})}}function pc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=si(s,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(s,t){return Ja(s,"POST","/v1/accounts:delete",t)}async function kc(s,t){return Ja(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function j1(s,t=!1){const i=pn(s),a=await i.getIdToken(t),l=pm(a);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:a,authTime:El(Dd(l.auth_time)),issuedAtTime:El(Dd(l.iat)),expirationTime:El(Dd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Dd(s){return Number(s)*1e3}function pm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Yv(i);return l?JSON.parse(l):(Sc("Failed to decode base64 JWT payload"),null)}catch(l){return Sc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function C_(s){const t=pm(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Xi&&q1(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function q1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(s){const t=s.auth,i=await s.getIdToken(),a=await Rl(s,kc(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?fE(l.providerUserInfo):[],d=F1(s.providerData,h),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,v=g?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(s,A)}async function G1(s){const t=pn(s);await Lc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function F1(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function fE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(s,t){const i=await cE(s,{},async()=>{const a=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,d=await hE(s,l,"/v1/token",`key=${h}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&$a(s.emulatorConfig.host)&&(_.credentials="include"),uE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function K1(s,t){return Ja(s,"POST","/v2/accounts:revokeToken",kl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):C_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=C_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:h}=await Q1(t,i);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:h}=i,d=new La;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(vt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class zn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new H1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Rl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return j1(this,t)}reload(){return G1(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Lc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(qi(this.auth));const t=await this.getIdToken();return await Rl(this,B1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:D,emailVerified:V,isAnonymous:G,providerData:Z,stsTokenManager:rt}=i;vt(D&&rt,t,"internal-error");const W=La.fromJSON(this.name,rt);vt(typeof D=="string",t,"internal-error"),wr(a,t.name),wr(l,t.name),vt(typeof V=="boolean",t,"internal-error"),vt(typeof G=="boolean",t,"internal-error"),wr(h,t.name),wr(d,t.name),wr(g,t.name),wr(_,t.name),wr(v,t.name),wr(A,t.name);const Et=new zn({uid:D,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:h,tenantId:g,stsTokenManager:W,createdAt:v,lastLoginAt:A});return Z&&Array.isArray(Z)&&(Et.providerData=Z.map(dt=>({...dt}))),_&&(Et._redirectEventId=_),Et}static async _fromIdTokenResponse(t,i,a=!1){const l=new La;l.updateFromServerResponse(i);const h=new zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Lc(h),h}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?fE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,g=new La;g.updateFromIdToken(a);const _=new zn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(_,v),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;function ji(s){Fi(s instanceof Function,"Expected a class definition");let t=D_.get(s);return t?(Fi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,D_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}dE.type="NONE";const N_=dE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(s,t,i){return`firebase:${s}:${t}:${i}`}class za{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=bc(this.userKey,l.apiKey,h),this.fullPersistenceKey=bc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await kc(this.auth,{idToken:t}).catch(()=>{});return i?zn._fromGetAccountInfoResponse(this.auth,i,t):null}return zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new za(ji(N_),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=l[0]||ji(N_);const d=bc(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){let D;if(typeof A=="string"){const V=await kc(t,{idToken:A}).catch(()=>{});if(!V)break;D=await zn._fromGetAccountInfoResponse(t,V,A)}else D=zn._fromJSON(t,A);v!==h&&(g=D),h=v;break}}catch{}const _=l.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new za(h,t,a):(h=_[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new za(h,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vE(t))return"Blackberry";if(EE(t))return"Webos";if(gE(t))return"Safari";if((t.includes("chrome/")||pE(t))&&!t.includes("edge/"))return"Chrome";if(_E(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function mE(s=$e()){return/firefox\//i.test(s)}function gE(s=$e()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pE(s=$e()){return/crios\//i.test(s)}function yE(s=$e()){return/iemobile/i.test(s)}function _E(s=$e()){return/android/i.test(s)}function vE(s=$e()){return/blackberry/i.test(s)}function EE(s=$e()){return/webos/i.test(s)}function ym(s=$e()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Y1(s=$e()){return ym(s)&&!!window.navigator?.standalone}function X1(){return cS()&&document.documentMode===10}function TE(s=$e()){return ym(s)||_E(s)||EE(s)||vE(s)||/windows phone/i.test(s)||yE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(s,t=[]){let i;switch(s){case"Browser":i=O_($e());break;case"Worker":i=`${O_($e())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Za}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,g)=>{try{const _=t(h);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(s,t={}){return Ja(s,"GET","/v2/passwordPolicy",kl(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=6;class W1{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??J1,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V_(this),this.idTokenSubscription=new V_(this),this.beforeStateQueue=new $1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await kc(this,{idToken:t}),a=await zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Nn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Lc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=P1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Nn(this.app))return Promise.reject(qi(this));const i=t?pn(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Nn(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Z1(this),i=new W1(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new xl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await K1(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ji(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=AE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&V1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ll(s){return pn(s)}class V_{constructor(t){this.auth=t,this.observer=null,this.addObserver=_S(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eb(s){_m=s}function nb(s){return _m.loadJS(s)}function ib(){return _m.gapiScript}function rb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(s,t){const i=fm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Vs(h,t??{}))return l;Gi(l,"already-initialized")}return i.initialize({options:t})}function ab(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ji);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function ob(s,t,i){const a=Ll(s);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=SE(t),{host:d,port:g}=lb(t),_=g===null?"":`:${g}`,v={url:`${h}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(Vs(v,a.config.emulator)&&Vs(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,$a(d)?(Jv(`${h}//${d}${_}`),Wv("Auth",!0)):ub()}function SE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function lb(s){const t=SE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:M_(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:M_(d)}}}function M_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function ub(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,i){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(s,t){return gm(s,"POST","/v1/accounts:signInWithIdp",kl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="http://localhost";class xs extends bE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new xs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Gi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=i;if(!a||!l)return null;const d=new xs(a,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ba(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ba(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ba(t,i)}buildRequest(){const t={requestUri:cb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Pl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends wE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends zl{constructor(){super("facebook.com")}static credential(t){return xs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ir.credential(t.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return xs._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Cr.credential(i,a)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends zl{constructor(){super("github.com")}static credential(t){return xs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dr.credential(t.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends zl{constructor(){super("twitter.com")}static credential(t,i){return xs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Nr.credential(i,a)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb(s,t){return gm(s,"POST","/v1/accounts:signUp",kl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const h=await zn._fromIdTokenResponse(t,a,l),d=x_(a);return new Qi({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=x_(a);return new Qi({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function x_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(s){if(Nn(s.app))return Promise.reject(qi(s));const t=Ll(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Qi({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await hb(t,{returnSecureToken:!0}),a=await Qi._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Xi{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new zc(t,i,a,l)}}function RE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(s,h,t,a):h})}async function db(s,t,i=!1){const a=await Rl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Qi._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(s,t,i=!1){const{auth:a}=s;if(Nn(a.app))return Promise.reject(qi(a));const l="reauthenticate";try{const h=await Rl(s,RE(a,l,t,s),i);vt(h.idToken,a,"internal-error");const d=pm(h.idToken);vt(d,a,"internal-error");const{sub:g}=d;return vt(s.uid===g,a,"user-mismatch"),Qi._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Gi(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(s,t,i=!1){if(Nn(s.app))return Promise.reject(qi(s));const a="signIn",l=await RE(s,a,t),h=await Qi._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(h.user),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(s,t){return gm(s,"POST","/v1/accounts:signInWithCustomToken",kl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(s,t){if(Nn(s.app))return Promise.reject(qi(s));const i=Ll(s),a=await pb(i,{token:t,returnSecureToken:!0}),l=await Qi._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function _b(s,t,i,a){return pn(s).onIdTokenChanged(t,i,a)}function vb(s,t,i){return pn(s).beforeAuthStateChanged(t,i)}function Eb(s,t,i,a){return pn(s).onAuthStateChanged(t,i,a)}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=1e3,Ab=10;class CE extends IE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);X1()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Ab):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Tb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}CE.type="LOCAL";const Sb=CE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE extends IE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}DE.type="SESSION";const NE=DE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new eh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,h)),_=await bb(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((g,_)=>{const v=vm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(D){const V=D;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(V.data.response);break;default:clearTimeout(A),clearTimeout(h),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function Rb(s){ai().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function Ib(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cb(){return navigator?.serviceWorker?.controller||null}function Db(){return OE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="firebaseLocalStorageDb",Nb=1,jc="firebaseLocalStorage",ME="fbase_key";class Bl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function nh(s,t){return s.transaction([jc],t?"readwrite":"readonly").objectStore(jc)}function Ob(){const s=indexedDB.deleteDatabase(VE);return new Bl(s).toPromise()}function Fd(){const s=indexedDB.open(VE,Nb);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(jc,{keyPath:ME})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(jc)?t(a):(a.close(),await Ob(),t(await Fd()))})})}async function P_(s,t,i){const a=nh(s,!0).put({[ME]:t,value:i});return new Bl(a).toPromise()}async function Vb(s,t){const i=nh(s,!1).get(t),a=await new Bl(i).toPromise();return a===void 0?null:a.value}function U_(s,t){const i=nh(s,!0).delete(t);return new Bl(i).toPromise()}const Mb=800,xb=3;class xE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>xb)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(Db()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ib(),!this.activeServiceWorker)return;this.sender=new wb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Cb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fd();return await P_(t,Bc,"1"),await U_(t,Bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>P_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Vb(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>U_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=nh(l,!1).getAll();return new Bl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xE.type="LOCAL";const Pb=xE;new Ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(s,t){return t?ji(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em extends bE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ba(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ba(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function kb(s){return gb(s.auth,new Em(s),s.bypassAuthState)}function Lb(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),mb(i,new Em(s),s.bypassAuthState)}async function zb(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),db(i,new Em(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t,i,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kb;case"linkViaPopup":case"linkViaRedirect":return zb;case"reauthViaPopup":case"reauthViaRedirect":return Lb;default:Gi(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new Ul(2e3,1e4);class ka extends PE{constructor(t,i,a,l,h){super(t,i,l,h),this.provider=a,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Bb.get())};t()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="pendingRedirect",wc=new Map;class qb extends PE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=wc.get(this.auth._key());if(!t){try{const a=await Hb(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}wc.set(this.auth._key(),t)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hb(s,t){const i=Qb(t),a=Fb(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Gb(s,t){wc.set(s._key(),t)}function Fb(s){return ji(s._redirectPersistence)}function Qb(s){return bc(jb,s.config.apiKey,s.name)}async function Kb(s,t,i=!1){if(Nn(s.app))return Promise.reject(qi(s));const a=Ll(s),l=Ub(a,t),d=await new qb(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=600*1e3;class Xb{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$b(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!UE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(si(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Yb&&this.cachedEventUids.clear(),this.cachedEventUids.has(k_(t))}saveEventToCache(t){this.cachedEventUids.add(k_(t)),this.lastProcessedEventTime=Date.now()}}function k_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function UE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function $b(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(s,t={}){return Ja(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wb=/^https?/;async function tw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Zb(s);for(const i of t)try{if(ew(i))return}catch{}Gi(s,"unauthorized-domain")}function ew(s){const t=Hd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Wb.test(i))return!1;if(Jb.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new Ul(3e4,6e4);function L_(){const s=ai().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function iw(s){return new Promise((t,i)=>{function a(){L_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{L_(),i(si(s,"network-request-failed"))},timeout:nw.get()})}if(ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ai().gapi?.load)a();else{const l=rb("iframefcb");return ai()[l]=()=>{gapi.load?a():i(si(s,"network-request-failed"))},nb(`${ib()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Rc=null,t})}let Rc=null;function rw(s){return Rc=Rc||iw(s),Rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Ul(5e3,15e3),aw="__/auth/iframe",ow="emulator/auth/iframe",lw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cw(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?mm(t,ow):`https://${s.config.authDomain}/${aw}`,a={apiKey:t.apiKey,appName:s.name,v:Za},l=uw.get(s.config.apiHost);l&&(a.eid=l);const h=s._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${Pl(a).slice(1)}`}async function hw(s){const t=await rw(s),i=ai().gapi;return vt(i,s,"internal-error"),t.open({where:document.body,url:cw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lw,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const d=si(s,"network-request-failed"),g=ai().setTimeout(()=>{h(d)},sw.get());function _(){ai().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dw=500,mw=600,gw="_blank",pw="http://localhost";class z_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yw(s,t,i,a=dw,l=mw){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...fw,width:a.toString(),height:l.toString(),top:h,left:d},v=$e().toLowerCase();i&&(g=pE(v)?gw:i),mE(v)&&(t=t||pw,_.scrollbars="yes");const A=Object.entries(_).reduce((V,[G,Z])=>`${V}${G}=${Z},`,"");if(Y1(v)&&g!=="_self")return _w(t||"",g),new z_(null);const D=window.open(t||"",g,A);vt(D,s,"popup-blocked");try{D.focus()}catch{}return new z_(D)}function _w(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="__/auth/handler",Ew="emulator/auth/handler",Tw=encodeURIComponent("fac");async function B_(s,t,i,a,l,h){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Za,eventId:l};if(t instanceof wE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",yS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,D]of Object.entries({}))d[A]=D}if(t instanceof zl){const A=t.getScopes().filter(D=>D!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await s._getAppCheckToken(),v=_?`#${Tw}=${encodeURIComponent(_)}`:"";return`${Aw(s)}?${Pl(g).slice(1)}${v}`}function Aw({config:s}){return s.emulator?mm(s,Ew):`https://${s.authDomain}/${vw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="webStorageSupport";class Sw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NE,this._completeRedirectFn=Kb,this._overrideRedirectResult=Gb}async _openPopup(t,i,a,l){Fi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await B_(t,i,a,Hd(),l);return yw(t,h,vm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const h=await B_(t,i,a,Hd(),l);return Rb(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(Fi(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await hw(t),a=new Xb(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Nd,{type:Nd},l=>{const h=l?.[0]?.[Nd];h!==void 0&&i(!!h),Gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=tw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return TE()||gE()||ym()}}const bw=Sw;var j_="@firebase/auth",q_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Iw(s){Ha(new Ms("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AE(s)},v=new tb(a,l,h,_);return ab(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ha(new Ms("auth-internal",t=>{const i=Ll(t.getProvider("auth").getImmediate());return(a=>new ww(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(j_,q_,Rw(s)),xr(j_,q_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=300,Dw=Zv("authIdTokenMaxAge")||Cw;let H_=null;const Nw=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Dw)return;const l=i?.token;H_!==l&&(H_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Ow(s=iE()){const t=fm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=sb(s,{popupRedirectResolver:bw,persistence:[Pb,Sb,NE]}),a=Zv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=Nw(h.toString());vb(i,d,()=>d(i.currentUser)),_b(i,g=>d(g))}}const l=Xv("auth");return l&&ob(i,`http://${l}`),i}function Vw(){return document.getElementsByTagName("head")?.[0]??document}eb({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const h=si("internal-error");h.customData=l,i(h)},a.type="text/javascript",a.charset="UTF-8",Vw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Iw("Browser");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pr,kE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,S){function R(){}R.prototype=S.prototype,M.D=S.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(N,O,P){for(var w=Array(arguments.length-2),me=2;me<arguments.length;me++)w[me-2]=arguments[me];return S.prototype[O].apply(N,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,S,R){R||(R=0);var N=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)N[O]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(O=0;16>O;++O)N[O]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=M.g[0],R=M.g[1],O=M.g[2];var P=M.g[3],w=S+(P^R&(O^P))+N[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=P+(O^S&(R^O))+N[1]+3905402710&4294967295,P=S+(w<<12&4294967295|w>>>20),w=O+(R^P&(S^R))+N[2]+606105819&4294967295,O=P+(w<<17&4294967295|w>>>15),w=R+(S^O&(P^S))+N[3]+3250441966&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(P^R&(O^P))+N[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(O^S&(R^O))+N[5]+1200080426&4294967295,P=S+(w<<12&4294967295|w>>>20),w=O+(R^P&(S^R))+N[6]+2821735955&4294967295,O=P+(w<<17&4294967295|w>>>15),w=R+(S^O&(P^S))+N[7]+4249261313&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(P^R&(O^P))+N[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(O^S&(R^O))+N[9]+2336552879&4294967295,P=S+(w<<12&4294967295|w>>>20),w=O+(R^P&(S^R))+N[10]+4294925233&4294967295,O=P+(w<<17&4294967295|w>>>15),w=R+(S^O&(P^S))+N[11]+2304563134&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(P^R&(O^P))+N[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(O^S&(R^O))+N[13]+4254626195&4294967295,P=S+(w<<12&4294967295|w>>>20),w=O+(R^P&(S^R))+N[14]+2792965006&4294967295,O=P+(w<<17&4294967295|w>>>15),w=R+(S^O&(P^S))+N[15]+1236535329&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(O^P&(R^O))+N[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^O&(S^R))+N[6]+3225465664&4294967295,P=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(P^S))+N[11]+643717713&4294967295,O=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(O^P))+N[0]+3921069994&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^P&(R^O))+N[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^O&(S^R))+N[10]+38016083&4294967295,P=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(P^S))+N[15]+3634488961&4294967295,O=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(O^P))+N[4]+3889429448&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^P&(R^O))+N[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^O&(S^R))+N[14]+3275163606&4294967295,P=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(P^S))+N[3]+4107603335&4294967295,O=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(O^P))+N[8]+1163531501&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^P&(R^O))+N[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^O&(S^R))+N[2]+4243563512&4294967295,P=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(P^S))+N[7]+1735328473&4294967295,O=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(O^P))+N[12]+2368359562&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(R^O^P)+N[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^O)+N[8]+2272392833&4294967295,P=S+(w<<11&4294967295|w>>>21),w=O+(P^S^R)+N[11]+1839030562&4294967295,O=P+(w<<16&4294967295|w>>>16),w=R+(O^P^S)+N[14]+4259657740&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^P)+N[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^O)+N[4]+1272893353&4294967295,P=S+(w<<11&4294967295|w>>>21),w=O+(P^S^R)+N[7]+4139469664&4294967295,O=P+(w<<16&4294967295|w>>>16),w=R+(O^P^S)+N[10]+3200236656&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^P)+N[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^O)+N[0]+3936430074&4294967295,P=S+(w<<11&4294967295|w>>>21),w=O+(P^S^R)+N[3]+3572445317&4294967295,O=P+(w<<16&4294967295|w>>>16),w=R+(O^P^S)+N[6]+76029189&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^P)+N[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^O)+N[12]+3873151461&4294967295,P=S+(w<<11&4294967295|w>>>21),w=O+(P^S^R)+N[15]+530742520&4294967295,O=P+(w<<16&4294967295|w>>>16),w=R+(O^P^S)+N[2]+3299628645&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(O^(R|~P))+N[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~O))+N[7]+1126891415&4294967295,P=S+(w<<10&4294967295|w>>>22),w=O+(S^(P|~R))+N[14]+2878612391&4294967295,O=P+(w<<15&4294967295|w>>>17),w=R+(P^(O|~S))+N[5]+4237533241&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~P))+N[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~O))+N[3]+2399980690&4294967295,P=S+(w<<10&4294967295|w>>>22),w=O+(S^(P|~R))+N[10]+4293915773&4294967295,O=P+(w<<15&4294967295|w>>>17),w=R+(P^(O|~S))+N[1]+2240044497&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~P))+N[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~O))+N[15]+4264355552&4294967295,P=S+(w<<10&4294967295|w>>>22),w=O+(S^(P|~R))+N[6]+2734768916&4294967295,O=P+(w<<15&4294967295|w>>>17),w=R+(P^(O|~S))+N[13]+1309151649&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~P))+N[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~O))+N[11]+3174756917&4294967295,P=S+(w<<10&4294967295|w>>>22),w=O+(S^(P|~R))+N[2]+718787259&4294967295,O=P+(w<<15&4294967295|w>>>17),w=R+(P^(O|~S))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+P&4294967295}a.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var R=S-this.blockSize,N=this.B,O=this.h,P=0;P<S;){if(O==0)for(;P<=R;)l(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<S;)if(N[O++]=M.charCodeAt(P++),O==this.blockSize){l(this,N),O=0;break}}else for(;P<S;)if(N[O++]=M[P++],O==this.blockSize){l(this,N),O=0;break}}this.h=O,this.o+=S},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var R=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=R&255,R/=256;for(this.u(M),M=Array(16),S=R=0;4>S;++S)for(var N=0;32>N;N+=8)M[R++]=this.g[S]>>>N&255;return M};function h(M,S){var R=g;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=S(M)}function d(M,S){this.h=S;for(var R=[],N=!0,O=M.length-1;0<=O;O--){var P=M[O]|0;N&&P==S||(R[O]=P,N=!1)}this.g=R}var g={};function _(M){return-128<=M&&128>M?h(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return D;if(0>M)return W(v(-M));for(var S=[],R=1,N=0;M>=R;N++)S[N]=M/R|0,R*=4294967296;return new d(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return W(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),N=D,O=0;O<M.length;O+=8){var P=Math.min(8,M.length-O),w=parseInt(M.substring(O,O+P),S);8>P?(P=v(Math.pow(S,P)),N=N.j(P).add(v(w))):(N=N.j(R),N=N.add(v(w)))}return N}var D=_(0),V=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(rt(this))return-W(this).m();for(var M=0,S=1,R=0;R<this.g.length;R++){var N=this.i(R);M+=(0<=N?N:4294967296+N)*S,S*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(Z(this))return"0";if(rt(this))return"-"+W(this).toString(M);for(var S=v(Math.pow(M,6)),R=this,N="";;){var O=Lt(R,S).g;R=Et(R,O.j(S));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=O,Z(R))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function Z(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function rt(M){return M.h==-1}s.l=function(M){return M=Et(this,M),rt(M)?-1:Z(M)?0:1};function W(M){for(var S=M.g.length,R=[],N=0;N<S;N++)R[N]=~M.g[N];return new d(R,~M.h).add(V)}s.abs=function(){return rt(this)?W(this):this},s.add=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],N=0,O=0;O<=S;O++){var P=N+(this.i(O)&65535)+(M.i(O)&65535),w=(P>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);N=w>>>16,P&=65535,w&=65535,R[O]=w<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function Et(M,S){return M.add(W(S))}s.j=function(M){if(Z(this)||Z(M))return D;if(rt(this))return rt(M)?W(this).j(W(M)):W(W(this).j(M));if(rt(M))return W(this.j(W(M)));if(0>this.l(G)&&0>M.l(G))return v(this.m()*M.m());for(var S=this.g.length+M.g.length,R=[],N=0;N<2*S;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<M.g.length;O++){var P=this.i(N)>>>16,w=this.i(N)&65535,me=M.i(O)>>>16,Wt=M.i(O)&65535;R[2*N+2*O]+=w*Wt,dt(R,2*N+2*O),R[2*N+2*O+1]+=P*Wt,dt(R,2*N+2*O+1),R[2*N+2*O+1]+=w*me,dt(R,2*N+2*O+1),R[2*N+2*O+2]+=P*me,dt(R,2*N+2*O+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new d(R,0)};function dt(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function ft(M,S){this.g=M,this.h=S}function Lt(M,S){if(Z(S))throw Error("division by zero");if(Z(M))return new ft(D,D);if(rt(M))return S=Lt(W(M),S),new ft(W(S.g),W(S.h));if(rt(S))return S=Lt(M,W(S)),new ft(W(S.g),S.h);if(30<M.g.length){if(rt(M)||rt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=V,N=S;0>=N.l(M);)R=Tt(R),N=Tt(N);var O=Mt(R,1),P=Mt(N,1);for(N=Mt(N,2),R=Mt(R,2);!Z(N);){var w=P.add(N);0>=w.l(M)&&(O=O.add(R),P=w),N=Mt(N,1),R=Mt(R,1)}return S=Et(M,O.j(S)),new ft(O,S)}for(O=D;0<=M.l(S);){for(R=Math.max(1,Math.floor(M.m()/S.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=v(R),w=P.j(S);rt(w)||0<w.l(M);)R-=N,P=v(R),w=P.j(S);Z(P)&&(P=V),O=O.add(P),M=Et(M,w)}return new ft(O,M)}s.A=function(M){return Lt(this,M).h},s.and=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)&M.i(N);return new d(R,this.h&M.h)},s.or=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)|M.i(N);return new d(R,this.h|M.h)},s.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)^M.i(N);return new d(R,this.h^M.h)};function Tt(M){for(var S=M.g.length+1,R=[],N=0;N<S;N++)R[N]=M.i(N)<<1|M.i(N-1)>>>31;return new d(R,M.h)}function Mt(M,S){var R=S>>5;S%=32;for(var N=M.g.length-R,O=[],P=0;P<N;P++)O[P]=0<S?M.i(P+R)>>>S|M.i(P+R+1)<<32-S:M.i(P+R);return new d(O,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,kE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Pr=d}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LE,gl,zE,Ic,Qd,BE,jE,qE;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,U={next:function(){if(!T&&p<u.length){var j=p++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function D(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function V(u,m,p){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,V.apply(null,arguments)}function G(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,U,j){for(var tt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)tt[xt-2]=arguments[xt];return m.prototype[U].apply(T,tt)}}function rt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function W(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const U=u.length||0,j=T.length||0;u.length=U+j;for(let tt=0;tt<j;tt++)u[U+tt]=T[tt]}else u.push(T)}}class Et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(u){return/^[\s\xa0]*$/.test(u)}function ft(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Lt(u){return Lt[" "](u),u}Lt[" "]=function(){};var Tt=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Mt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function M(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let j=0;j<R.length;j++)p=R[j],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function P(u){g.setTimeout(()=>{throw u},0)}function w(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,p){const T=Wt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Wt=new Et(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ut=!1,zt=new me,I=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then(X)}};var X=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){P(p)}var m=Wt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function st(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Tt){t:{try{Lt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:at[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&st.aa.h.call(this)}}Z(st,J);var at={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),Dt=0;function jn(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++Dt,this.da=this.fa=!1}function $i(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function mi(u){this.src=u,this.g={},this.h=0}mi.prototype.add=function(u,m,p,T,U){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var tt=Gr(u,m,T,U);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new jn(m,this.src,j,!!T,U),m.fa=p,u.push(m)),m};function Hr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=U)&&Array.prototype.splice.call(T,U,1),j&&($i(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Gr(u,m,p,T){for(var U=0;U<u.length;++U){var j=u[U];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return U}return-1}var Fr="closure_lm_"+(1e6*Math.random()|0),io={};function Ql(u,m,p,T,U){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Ql(u,m[j],p,T,U);return null}return p=Kl(p),u&&u[Bt]?u.K(m,p,v(T)?!!T.capture:!1,U):yn(u,m,p,!1,T,U)}function yn(u,m,p,T,U,j){if(!m)throw Error("Invalid event type");var tt=v(U)?!!U.capture:!!U,xt=qs(u);if(xt||(u[Fr]=xt=new mi(u)),p=xt.add(m,p,T,tt,j),p.proxy)return p;if(T=yh(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)Y||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Qr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function yh(){function u(p){return m.call(u.src,u.listener,p)}const m=_h;return u}function ro(u,m,p,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)ro(u,m[j],p,T,U);else T=v(T)?!!T.capture:!!T,p=Kl(p),u&&u[Bt]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],p=Gr(j,p,T,U),-1<p&&($i(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=qs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Gr(m,p,T,U)),(p=-1<u?m[u]:null)&&js(p))}function js(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Bt])Hr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Qr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=qs(m))?(Hr(p,u),p.h==0&&(p.src=null,m[Fr]=null)):$i(u)}}}function Qr(u){return u in io?io[u]:io[u]="on"+u}function _h(u,m){if(u.da)u=!0;else{m=new st(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&js(u),u=p.call(T,m)}return u}function qs(u){return u=u[Fr],u instanceof mi?u:null}var so="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kl(u){return typeof u=="function"?u:(u[so]||(u[so]=function(m){return u.handleEvent(m)}),u[so])}function oe(){et.call(this),this.i=new mi(this),this.M=this,this.F=null}Z(oe,et),oe.prototype[Bt]=!0,oe.prototype.removeEventListener=function(u,m,p,T){ro(this,u,m,p,T)};function Ft(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var U=m;m=new J(T,u),N(m,U)}if(U=!0,p)for(var j=p.length-1;0<=j;j--){var tt=m.g=p[j];U=an(tt,T,!0,m)&&U}if(tt=m.g=u,U=an(tt,T,!0,m)&&U,U=an(tt,T,!1,m)&&U,p)for(j=0;j<p.length;j++)tt=m.g=p[j],U=an(tt,T,!1,m)&&U}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)$i(p[T]);delete u.g[m],u.h--}}this.F=null},oe.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},oe.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function an(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,j=0;j<m.length;++j){var tt=m[j];if(tt&&!tt.da&&tt.capture==p){var xt=tt.listener,Ae=tt.ha||tt.src;tt.fa&&Hr(u.i,tt),U=xt.call(Ae,T)!==!1&&U}}return U&&!T.defaultPrevented}function He(u,m,p){if(typeof u=="function")p&&(u=V(u,p));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Yl(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,Yl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class vh extends et{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(u){et.call(this),this.h=u,this.g={}}Z(Kr,et);var Yr=[];function Xr(u){Mt(u.g,function(m,p){this.g.hasOwnProperty(p)&&js(m)},u),u.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),Xr(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=g.JSON.stringify,Hs=g.JSON.parse,$r=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ao(){}ao.prototype.h=null;function oo(u){return u.h||(u.h=u.i())}function lo(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){J.call(this,"d")}Z(pi,J);function uo(){J.call(this,"c")}Z(uo,J);var qn={},co=null;function Zi(){return co=co||new oe}qn.La="serverreachability";function Gs(u){J.call(this,qn.La,u)}Z(Gs,J);function Ji(u){const m=Zi();Ft(m,new Gs(m))}qn.STAT_EVENT="statevent";function Xl(u,m){J.call(this,qn.STAT_EVENT,u),this.stat=m}Z(Xl,J);function ie(u){const m=Zi();Ft(m,new Xl(m,u))}qn.Ma="timingevent";function Te(u,m){J.call(this,qn.Ma,u),this.size=m}Z(Te,J);function ge(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function ho(u,m,p,T,U,j){u.info(function(){if(u.g)if(j)for(var tt="",xt=j.split("&"),Ae=0;Ae<xt.length;Ae++){var Pt=xt[Ae].split("=");if(1<Pt.length){var Ne=Pt[0];Pt=Pt[1];var Se=Ne.split("_");tt=2<=Se.length&&Se[1]=="type"?tt+(Ne+"="+Pt+"&"):tt+(Ne+"=redacted&")}}else tt=null;else tt=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+tt})}function Eh(u,m,p,T,U,j,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+j+" "+tt})}function Wi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Zr(u,p)+(T?" "+T:"")})}function $l(u,m){u.info(function(){return"TIMEOUT: "+m})}_n.prototype.info=function(){};function Zr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var tt=1;tt<U.length;tt++)U[tt]=""}}}}return Mn(p)}catch{return m}}var tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Gn(){}Z(Gn,ao),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Hn=new Gn;function Ze(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var fo={},Fs={};function xn(u,m,p){u.L=1,u.v=ns(on(m)),u.m=p,u.P=!0,_i(u,null)}function _i(u,m){u.F=Date.now(),Jr(u),u.A=on(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),vo(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ce,u.g=fu(u.j,p?m:null,!u.m),0<u.O&&(u.M=new vh(V(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Yr[0]=U.toString()),U=Yr);for(var j=0;j<U.length;j++){var tt=Ql(p,U[j],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ji(),ho(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)t:{const Se=An(this.g);var m=this.g.Ba();const Ri=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||ru(this.g)))){this.J||Se!=4||m==7||(m==8||0>=Ri?Ji(3):Ji(2)),er(this);var p=this.g.Z();this.X=p;e:if(Zl(this)){var T=ru(this.g);u="";var U=T.length,j=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Fn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,Eh(this.i,this.u,this.A,this.l,this.R,Se,p),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Ae=this.g;if((xt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(xt)){var Pt=xt;break e}}Pt=null}if(p=Pt)Wi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wr(this,p);else{this.o=!1,this.s=3,ie(12),Pe(this),Fn(this);break t}}if(this.P){p=!0;let Ue;for(;!this.J&&this.C<tt.length;)if(Ue=Jl(this,tt),Ue==Fs){Se==4&&(this.s=4,ie(14),p=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==fo){this.s=4,ie(15),Wi(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else Wi(this.i,this.l,Ue,null),Wr(this,Ue);if(Zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||tt.length!=0||this.h.h||(this.s=1,ie(16),p=!1),this.o=this.o&&p,!p)Wi(this.i,this.l,tt,"[Invalid Chunked Response]"),Pe(this),Fn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),cs(Ne),Ne.M=!0,ie(11))}}else Wi(this.i,this.l,tt,null),Wr(this,tt);Se==4&&Pe(this),this.o&&!this.J&&(Se==4?uu(this.j,this):(this.o=!1,Jr(this)))}else wh(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Pe(this),Fn(this)}}}catch{}finally{}};function Zl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Jl(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Fs:(p=Number(m.substring(p,T)),isNaN(p)?fo:(T+=1,T+p>m.length?Fs:(m=m.slice(T,T+p),u.C=T+p,m)))}Ze.prototype.cancel=function(){this.J=!0,Pe(this)};function Jr(u){u.S=Date.now()+u.I,Wl(u,u.I)}function Wl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ge(V(u.ba,u),m)}function er(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?($l(this.i,this.A),this.L!=2&&(Ji(),ie(17)),Pe(this),this.s=2,Fn(this)):Wl(this,this.S-u)};function Fn(u){u.j.G==0||u.J||uu(u.j,u)}function Pe(u){er(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Xr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Wr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||mo(p.h,u))){if(!u.K&&mo(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)ia(p),ea(p);else break t;bo(p),ie(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=ge(V(p.Za,p),6e3));if(1>=Ks(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else wi(p,11)}else if((u.K||p.g==u)&&ia(p),!dt(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let Pt=U[m];if(p.T=Pt[0],Pt=Pt[1],p.G==2)if(Pt[0]=="c"){p.K=Pt[1],p.ia=Pt[2];const Ne=Pt[3];Ne!=null&&(p.la=Ne,p.j.info("VER="+p.la));const Se=Pt[4];Se!=null&&(p.Aa=Se,p.j.info("SVER="+p.Aa));const Ri=Pt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(T=1.5*Ri,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ue=u.g;if(Ue){const Jn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var j=T.h;j.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ys(j,j.h),j.h=null))}if(T.D){const Ro=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(T.ya=Ro,Yt(T.I,T.D,Ro))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=hu(T,T.J?T.ia:null,T.W),tt.K){Je(T.h,tt);var xt=tt,Ae=T.L;Ae&&(xt.I=Ae),xt.B&&(er(xt),Jr(xt)),T.g=tt}else ou(T);0<p.i.length&&na(p)}else Pt[0]!="stop"&&Pt[0]!="close"||wi(p,7);else p.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?wi(p,7):Ao(p):Pt[0]!="noop"&&p.l&&p.l.ta(Pt),p.v=0)}}Ji(4)}catch{}}var tu=class{constructor(u,m){this.g=u,this.map=m}};function vi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ks(u){return u.h?1:u.g?u.g.size:0}function mo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ys(u,m){u.g?u.g.add(m):u.h=m}function Je(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vi.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function go(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return rt(u.i)}function Th(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Xs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function po(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Xs(u),T=Th(u),U=T.length,j=0;j<U;j++)m.call(void 0,T[j],p&&p[j],u)}var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ah(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),U=null;if(0<=T){var j=u[p].substring(0,T);U=u[p].substring(T+1)}else j=u[p];m(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function pe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pe){this.h=u.h,es(this,u.j),this.o=u.o,this.g=u.g,nr(this,u.s),this.l=u.l;var m=u.i,p=new Ti;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Ei(this,p),this.m=u.m}else u&&(m=String(u).match(ts))?(this.h=!1,es(this,m[1]||"",!0),this.o=vn(m[2]||""),this.g=vn(m[3]||"",!0),nr(this,m[4]),this.l=vn(m[5]||"",!0),Ei(this,m[6]||"",!0),this.m=vn(m[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}pe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(is(m,yo,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(is(m,yo,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(is(p,p.charAt(0)=="/"?Sh:_o,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",is(p,$s)),u.join("")};function on(u){return new pe(u)}function es(u,m,p){u.j=p?vn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function nr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ei(u,m,p){m instanceof Ti?(u.i=m,nu(u.i,u.h)):(p||(m=is(m,bh)),u.i=new Ti(m,u.h))}function Yt(u,m,p){u.i.set(m,p)}function ns(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function vn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function is(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,eu),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function eu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yo=/[#\/\?@]/g,_o=/[#\?:]/g,Sh=/[#\?]/g,bh=/[#\?@]/g,$s=/#/g;function Ti(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&Ah(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Ti.prototype,s.add=function(u,m){En(this),this.i=null,u=Qn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Ai(u,m){En(u),m=Qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Si(u,m){return En(u),m=Qn(u,m),u.g.has(m)}s.forEach=function(u,m){En(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)},s.na=function(){En(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=u[T];for(let j=0;j<U.length;j++)p.push(m[T])}return p},s.V=function(u){En(this);let m=[];if(typeof u=="string")Si(this,u)&&(m=m.concat(this.g.get(Qn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return En(this),this.i=null,u=Qn(this,u),Si(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function vo(u,m,p){Ai(u,m),0<p.length&&(u.i=null,u.g.set(Qn(u,m),rt(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const j=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var U=j;tt[T]!==""&&(U+="="+encodeURIComponent(String(tt[T]))),u.push(U)}}return this.i=u.join("&")};function Qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function nu(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(Ai(this,T),vo(this,U,p))},u)),u.j=m}function rs(u,m){const p=new _n;if(g.Image){const T=new Image;T.onload=G(Tn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=G(Tn,p,"TestLoadImage: error",!1,m,T),T.onabort=G(Tn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(Tn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Pn(u,m){const p=new _n,T=new AbortController,U=setTimeout(()=>{T.abort(),Tn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?Tn(p,"TestPingServer: ok",!0,m):Tn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Tn(p,"TestPingServer: error",!1,m)})}function Tn(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function ss(){this.g=new $r}function Kn(u,m,p){const T=p||"";try{po(u,function(U,j){let tt=U;v(U)&&(tt=Mn(U)),m.push(T+j+"="+encodeURIComponent(tt))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function ir(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(ir,ao),ir.prototype.g=function(){return new bi(this.l,this.j)},ir.prototype.i=function(u){return function(){return u}}({});function bi(u,m){oe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(bi,oe),s=bi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Xn(this),this.readyState==3&&Eo(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},s.Qa=function(u){this.g&&(this.response=u,Yn(this))},s.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function To(u){let m="";return Mt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=To(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Yt(u,m,p))}function Ht(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Ht,oe);var Zs=/^https?$/i,as=["POST","PUT"];s=Ht.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?oo(this.o):oo(Hn),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){iu(this,j);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(as,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of p)this.g.setRequestHeader(j,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){iu(this,j)}};function iu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Js(u),$n(u)}function Js(u){u.A||(u.A=!0,Ft(u,"complete"),Ft(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ft(this,"complete"),Ft(this,"abort"),$n(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),Ht.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ws(this):this.bb())},s.bb=function(){Ws(this)};function Ws(u){if(u.h&&typeof d<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)He(u.Ea,0,u);else if(Ft(u,"readystatechange"),An(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var U=String(u.D).match(ts)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!Zs.test(U?U.toLowerCase():"")}p=T}if(p)Ft(u,"complete"),Ft(u,"success");else{u.m=6;try{var j=2<An(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Js(u)}}finally{$n(u)}}}}function $n(u,m){if(u.g){os(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ft(u,"ready");try{p.onreadystatechange=T}catch{}}}function os(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Hs(m)}};function ru(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wh(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(dt(u[T]))continue;var p=O(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[U]||[];m[U]=j,j.push(p)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ta(u){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ls("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ls("baseRetryDelayMs",5e3,u),this.cb=ls("retryDelaySeedMs",1e4,u),this.Wa=ls("forwardChannelMaxRetries",2,u),this.wa=ls("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(u&&u.concurrentRequestLimit),this.Da=new ss,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ta.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){ie(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=hu(this,null,this.W),na(this)};function Ao(u){if(su(u),u.G==3){var m=u.U++,p=on(u.I);if(Yt(p,"SID",u.K),Yt(p,"RID",m),Yt(p,"TYPE","terminate"),us(u,p),m=new Ze(u,u.j,m),m.L=2,m.v=ns(on(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=fu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Jr(m)}cu(u)}function ea(u){u.g&&(cs(u),u.g.cancel(),u.g=null)}function su(u){ea(u),u.u&&(g.clearTimeout(u.u),u.u=null),ia(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function na(u){if(!Qs(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||I(),ut||(nt(),ut=!0),zt.add(m,u),u.B=0}}function Rh(u,m){return Ks(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ge(V(u.Ga,u,m),wo(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ze(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=au(this,U,m),p=on(this.I),Yt(p,"RID",u),Yt(p,"CVER",22),this.D&&Yt(p,"X-HTTP-Session-Id",this.D),us(this,p),j&&(this.O?m="headers="+encodeURIComponent(String(To(j)))+"&"+m:this.m&&De(p,this.m,j)),Ys(this.h,U),this.Ua&&Yt(p,"TYPE","init"),this.P?(Yt(p,"$req",m),Yt(p,"SID","null"),U.T=!0,xn(U,p,null)):xn(U,p,m),this.G=2}}else this.G==3&&(u?So(this,u):this.i.length==0||Qs(this.h)||So(this))};function So(u,m){var p;m?p=m.l:p=u.U++;const T=on(u.I);Yt(T,"SID",u.K),Yt(T,"RID",p),Yt(T,"AID",u.T),us(u,T),u.m&&u.o&&De(T,u.m,u.o),p=new Ze(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=au(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ys(u.h,p),xn(p,T,m)}function us(u,m){u.H&&Mt(u.H,function(p,T){Yt(m,T,p)}),u.l&&po({},function(p,T){Yt(m,T,p)})}function au(u,m,p){p=Math.min(u.i.length,p);var T=u.l?V(u.l.Na,u.l,u):null;t:{var U=u.i;let j=-1;for(;;){const tt=["count="+p];j==-1?0<p?(j=U[0].g,tt.push("ofs="+j)):j=0:tt.push("ofs="+j);let xt=!0;for(let Ae=0;Ae<p;Ae++){let Pt=U[Ae].g;const Ne=U[Ae].map;if(Pt-=j,0>Pt)j=Math.max(0,U[Ae].g-100),xt=!1;else try{Kn(Ne,tt,"req"+Pt+"_")}catch{T&&T(Ne)}}if(xt){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function ou(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||I(),ut||(nt(),ut=!0),zt.add(m,u),u.v=0}}function bo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ge(V(u.Fa,u),wo(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ge(V(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),ea(this),lu(this))};function cs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function lu(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Yt(m,"RID","rpc"),Yt(m,"SID",u.K),Yt(m,"AID",u.T),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(m,"TO",u.ja),Yt(m,"TYPE","xmlhttp"),us(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=ns(on(m)),p.m=null,p.P=!0,_i(p,u)}s.Za=function(){this.C!=null&&(this.C=null,ea(this),bo(this),ie(19))};function ia(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function uu(u,m){var p=null;if(u.g==m){ia(u),cs(u),u.g=null;var T=2}else if(mo(u.h,m))p=m.D,Je(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Zi(),Ft(T,new Te(T,p)),na(u)}else ou(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Rh(u,m)||T==2&&bo(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),U){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function wo(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var p=V(u.fb,u),T=u.Xa;const U=!T;T=new pe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||es(T,"https"),ns(T),U?rs(T.toString(),p):Pn(T.toString(),p)}else ie(2);u.G=0,u.l&&u.l.sa(m),cu(u),su(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function cu(u){if(u.G=0,u.ka=[],u.l){const m=go(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ka,m),W(u.ka,u.i),u.h.i.length=0,rt(u.i),u.i.length=0),u.l.ra()}}function hu(u,m,p){var T=p instanceof pe?on(p):new pe(p);if(T.g!="")m&&(T.g=m+"."+T.g),nr(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var j=new pe(null);T&&es(j,T),m&&(j.g=m),U&&nr(j,U),p&&(j.l=p),T=j}return p=u.D,m=u.ya,p&&m&&Yt(T,p,m),Yt(T,"VER",u.la),us(u,T),T}function fu(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new ir({eb:p})):new Ht(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}s=du.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ra(){}ra.prototype.g=function(u,m){return new We(u,m)};function We(u,m){oe.call(this),this.g=new ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!dt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}Z(We,oe),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Ao(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Mn(u),u=p);m.i.push(new tu(m.Ya++,u)),m.G==3&&na(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,We.aa.N.call(this)};function mu(u){pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(mu,pi);function gu(){uo.call(this),this.status=1}Z(gu,uo);function Zn(u){this.g=u}Z(Zn,du),Zn.prototype.ua=function(){Ft(this.g,"a")},Zn.prototype.ta=function(u){Ft(this.g,new mu(u))},Zn.prototype.sa=function(u){Ft(this.g,new gu)},Zn.prototype.ra=function(){Ft(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,qE=function(){return new ra},jE=function(){return Zi()},BE=qn,Qd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,Ic=tr,yi.COMPLETE="complete",zE=yi,lo.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,gl=lo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,LE=Ht}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const F_="@firebase/firestore",Q_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new cm("@firebase/firestore");function Ma(){return Ps.logLevel}function ot(s,...t){if(Ps.logLevel<=Nt.DEBUG){const i=t.map(Tm);Ps.debug(`Firestore (${Wa}): ${s}`,...i)}}function Ki(s,...t){if(Ps.logLevel<=Nt.ERROR){const i=t.map(Tm);Ps.error(`Firestore (${Wa}): ${s}`,...i)}}function Ga(s,...t){if(Ps.logLevel<=Nt.WARN){const i=t.map(Tm);Ps.warn(`Firestore (${Wa}): ${s}`,...i)}}function Tm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,HE(s,a,i)}function HE(s,t,i){let a=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ki(a),new Error(a)}function Gt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||HE(t,l,a)}function St(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Xi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Mw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class xw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Pw{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ds,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const _=h;t.enqueueRetryable(async()=>{await _.promise,await l(this.currentUser)})},g=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ds)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new GE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class Uw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Uw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>a(h))};const l=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new K_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=zw(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<i&&(a+=t.charAt(l[h]%62))}return a}}function Ot(s,t){return s<t?-1:s>t?1:0}function Kd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),h=t.charAt(a);if(l!==h)return Od(l)===Od(h)?Ot(l,h):Od(l)?1:-1}return Ot(s.length,t.length)}const Bw=55296,jw=57343;function Od(s){const t=s.charCodeAt(0);return t>=Bw&&t<=jw}function Fa(s,t,i){return s.length===t.length&&s.every((a,l)=>i(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class ri{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const h=ri.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Ot(t.length,i.length)}static compareSegments(t,i){const a=ri.isNumericId(t),l=ri.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ri.extractNumericId(t).compare(ri.extractNumericId(i)):Kd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Pr.fromString(t.substring(4,t.length-2))}}class ee extends ri{construct(t,i,a){return new ee(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const qw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends ri{construct(t,i,a){return new je(t,i,a)}static isValidIdentifier(t){return qw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new je([Y_])}static fromServerFormat(t){const i=[];let a="",l=0;const h=()=>{if(a.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ct($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(h(),l++)}if(h(),d)throw new ct($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ee.fromString(t))}static fromName(t){return new mt(ee.fromString(t).popFirst(5))}static empty(){return new mt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(s,t,i){if(!i)throw new ct($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Hw(s,t,i,a){if(t===!0&&a===!0)throw new ct($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function X_(s){if(!mt.isDocumentKey(s))throw new ct($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $_(s){if(mt.isDocumentKey(s))throw new ct($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function QE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Sm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Ns(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sm(s);throw new ct($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(s,t){const i={typeString:s};return t&&(i.value=t),i}function jl(s,t){if(!QE(s))throw new ct($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new ct($.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=-62135596800,J_=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*J_);return new ne(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Z_)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J_}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Z_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ee("string",ne._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ne(0,0))}static max(){return new At(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function Gw(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new ne(i+1,0):new ne(i,a));return new kr(l,mt.empty(),t)}function Fw(s){return new kr(s.readTime,s.key,Il)}class kr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new kr(At.min(),mt.empty(),Il)}static max(){return new kr(At.max(),mt.empty(),Il)}}function Qw(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,t.documentKey),i!==0?i:Ot(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Kw)throw s;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):K.reject(i)}static resolve(t){return new K((i,a)=>{i(t)})}static reject(t){return new K((i,a)=>{a(t)})}static waitFor(t){return new K((i,a)=>{let l=0,h=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++h,d&&h===l&&i()},_=>a(_))}),d=!0,h===l&&i()})}static or(t){let i=K.resolve(!1);for(const a of t)i=i.next(l=>l?K.resolve(l):a());return i}static forEach(t,i){const a=[];return t.forEach((l,h)=>{a.push(i.call(this,l,h))}),this.waitFor(a)}static mapArray(t,i){return new K((a,l)=>{const h=t.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(t[v]).next(A=>{d[v]=A,++g,g===h&&a(d)},A=>l(A))}})}static doWhile(t,i){return new K((a,l)=>{const h=()=>{t()===!0?i().next(()=>{h()},l):a()};h()})}}function Xw(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function eo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ih.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=-1;function rh(s){return s==null}function qc(s){return s===0&&1/s==-1/0}function $w(s){return typeof s=="number"&&Number.isInteger(s)&&!qc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="";function Zw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=W_(t)),t=Jw(s.get(i),t);return W_(t)}function Jw(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const h=s.charAt(l);switch(h){case"\0":i+="";break;case KE:i+="";break;default:i+=h}}return i}function W_(s){return s+KE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ks(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function YE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,i){this.comparator=t,this.root=i||Be.EMPTY}insert(t,i){return new ae(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,i,a,l,h){this.key=t,this.value=i,this.color=a??Be.RED,this.left=l??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,h){return new Be(t??this.key,i??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,a),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Be.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,h){return this}insert(t,i,a){return new Be(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new ev(this.data.getIterator())}getIteratorFrom(t){return new ev(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ce(this.comparator);return i.data=t,i}}class ev{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new Bn([])}unionWith(t){let i=new Ce(je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fa(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new XE("Invalid base64 string: "+h):h}}(t);return new qe(i)}static fromUint8Array(t){const i=function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h}(t);return new qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const Ww=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(s){if(Gt(!!s,39018),typeof s=="string"){let t=0;const i=Ww.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function zr(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="server_timestamp",ZE="__type__",JE="__previous_value__",WE="__local_write_time__";function wm(s){return(s?.mapValue?.fields||{})[ZE]?.stringValue===$E}function sh(s){const t=s.mapValue.fields[JE];return wm(t)?sh(t):t}function Cl(s){const t=Lr(s.mapValue.fields[WE].timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,i,a,l,h,d,g,_,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Hc="(default)";class Dl{constructor(t,i){this.projectId=t,this.database=i||Hc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__type__",eR="__max__",vc={mapValue:{}},eT="__vector__",Gc="value";function Br(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?wm(s)?4:iR(s)?9007199254740991:nR(s)?10:11:yt(28295,{value:s})}function fi(s,t){if(s===t)return!0;const i=Br(s);if(i!==Br(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Cl(s).isEqual(Cl(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Lr(l.timestampValue),g=Lr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(l,h){return zr(l.bytesValue).isEqual(zr(h.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(l,h){return de(l.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(h.geoPointValue.longitude)}(s,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return de(l.integerValue)===de(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=de(l.doubleValue),g=de(h.doubleValue);return d===g?qc(d)===qc(g):isNaN(d)&&isNaN(g)}return!1}(s,t);case 9:return Fa(s.arrayValue.values||[],t.arrayValue.values||[],fi);case 10:case 11:return function(l,h){const d=l.mapValue.fields||{},g=h.mapValue.fields||{};if(tv(d)!==tv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!fi(d[_],g[_])))return!1;return!0}(s,t);default:return yt(52216,{left:s})}}function Nl(s,t){return(s.values||[]).find(i=>fi(i,t))!==void 0}function Qa(s,t){if(s===t)return 0;const i=Br(s),a=Br(t);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(s.booleanValue,t.booleanValue);case 2:return function(h,d){const g=de(h.integerValue||h.doubleValue),_=de(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,t);case 3:return nv(s.timestampValue,t.timestampValue);case 4:return nv(Cl(s),Cl(t));case 5:return Kd(s.stringValue,t.stringValue);case 6:return function(h,d){const g=zr(h),_=zr(d);return g.compareTo(_)}(s.bytesValue,t.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Ot(g[v],_[v]);if(A!==0)return A}return Ot(g.length,_.length)}(s.referenceValue,t.referenceValue);case 8:return function(h,d){const g=Ot(de(h.latitude),de(d.latitude));return g!==0?g:Ot(de(h.longitude),de(d.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return iv(s.arrayValue,t.arrayValue);case 10:return function(h,d){const g=h.fields||{},_=d.fields||{},v=g[Gc]?.arrayValue,A=_[Gc]?.arrayValue,D=Ot(v?.values?.length||0,A?.values?.length||0);return D!==0?D:iv(v,A)}(s.mapValue,t.mapValue);case 11:return function(h,d){if(h===vc.mapValue&&d===vc.mapValue)return 0;if(h===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let D=0;D<_.length&&D<A.length;++D){const V=Kd(_[D],A[D]);if(V!==0)return V;const G=Qa(g[_[D]],v[A[D]]);if(G!==0)return G}return Ot(_.length,A.length)}(s.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function nv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ot(s,t);const i=Lr(s),a=Lr(t),l=Ot(i.seconds,a.seconds);return l!==0?l:Ot(i.nanos,a.nanos)}function iv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const h=Qa(i[l],a[l]);if(h)return h}return Ot(i.length,a.length)}function Ka(s){return Yd(s)}function Yd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Lr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return zr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return mt.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=Yd(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of a)h?h=!1:l+=",",l+=`${d}:${Yd(i.fields[d])}`;return l+"}"}(s.mapValue):yt(61005,{value:s})}function Cc(s){switch(Br(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sh(s);return t?16+Cc(t):16;case 5:return 2*s.stringValue.length;case 6:return zr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,h)=>l+Cc(h),0)}(s.arrayValue);case 10:case 11:return function(a){let l=0;return ks(a.fields,(h,d)=>{l+=h.length+Cc(d)}),l}(s.mapValue);default:throw yt(13486,{value:s})}}function Xd(s){return!!s&&"integerValue"in s}function Rm(s){return!!s&&"arrayValue"in s}function rv(s){return!!s&&"nullValue"in s}function sv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Dc(s){return!!s&&"mapValue"in s}function nR(s){return(s?.mapValue?.fields||{})[tT]?.stringValue===eT}function Tl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ks(s.mapValue.fields,(i,a)=>t.mapValue.fields[i]=Tl(a)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Tl(s.arrayValue.values[i]);return t}return{...s}}function iR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===eR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.value=t}static empty(){return new On({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Dc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tl(i)}setAll(t){let i=je.emptyPath(),a={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Tl(d):l.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,l)}delete(t){const i=this.field(t.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return fi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Dc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ks(i,(l,h)=>t[l]=h);for(const l of a)delete t[l]}clone(){return new On(Tl(this.value))}}function nT(s){const t=[];return ks(s.fields,(i,a)=>{const l=new je([i]);if(Dc(a)){const h=nT(a.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)}),new Bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,i,a,l,h,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Xe(t,0,At.min(),At.min(),At.min(),On.empty(),0)}static newFoundDocument(t,i,a,l){return new Xe(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,At.min(),At.min(),On.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,At.min(),At.min(),On.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,i){this.position=t,this.inclusive=i}}function av(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const h=t[l],d=s.position[l];if(h.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Qa(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function ov(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!fi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function rR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{}class Re extends iT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new aR(t,i,a):i==="array-contains"?new uR(t,a):i==="in"?new cR(t,a):i==="not-in"?new hR(t,a):i==="array-contains-any"?new fR(t,a):new Re(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new oR(t,a):new lR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&Br(this.value)===Br(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends iT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new di(t,i)}matches(t){return rT(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rT(s){return s.op==="and"}function sT(s){return sR(s)&&rT(s)}function sR(s){for(const t of s.filters)if(t instanceof di)return!1;return!0}function $d(s){if(s instanceof Re)return s.field.canonicalString()+s.op.toString()+Ka(s.value);if(sT(s))return s.filters.map(t=>$d(t)).join(",");{const t=s.filters.map(i=>$d(i)).join(",");return`${s.op}(${t})`}}function aT(s,t){return s instanceof Re?function(a,l){return l instanceof Re&&a.op===l.op&&a.field.isEqual(l.field)&&fi(a.value,l.value)}(s,t):s instanceof di?function(a,l){return l instanceof di&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((h,d,g)=>h&&aT(d,l.filters[g]),!0):!1}(s,t):void yt(19439)}function oT(s){return s instanceof Re?function(i){return`${i.field.canonicalString()} ${i.op} ${Ka(i.value)}`}(s):s instanceof di?function(i){return i.op.toString()+" {"+i.getFilters().map(oT).join(" ,")+"}"}(s):"Filter"}class aR extends Re{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class oR extends Re{constructor(t,i){super(t,"in",i),this.keys=lT("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class lR extends Re{constructor(t,i){super(t,"not-in",i),this.keys=lT("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function lT(s,t){return(t.arrayValue?.values||[]).map(i=>mt.fromName(i.referenceValue))}class uR extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Rm(i)&&Nl(i.arrayValue,this.value)}}class cR extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Nl(this.value.arrayValue,i)}}class hR extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Nl(this.value.arrayValue,i)}}class fR extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Rm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Nl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t,i=null,a=[],l=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function lv(s,t=null,i=[],a=[],l=null,h=null,d=null){return new dR(s,t,i,a,l,h,d)}function Im(s){const t=St(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>$d(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),rh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Ka(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Ka(a)).join(",")),t.Te=i}return t.Te}function Cm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!rR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!aT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!ov(s.startAt,t.startAt)&&ov(s.endAt,t.endAt)}function Zd(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,i=null,a=[],l=[],h=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mR(s,t,i,a,l,h,d,g){return new ah(s,t,i,a,l,h,d,g)}function Dm(s){return new ah(s)}function uv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function gR(s){return s.collectionGroup!==null}function Al(s){const t=St(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(je.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Qc(h,a))}),i.has(je.keyField().canonicalString())||t.Ie.push(new Qc(je.keyField(),a))}return t.Ie}function oi(s){const t=St(s);return t.Ee||(t.Ee=pR(t,Al(s))),t.Ee}function pR(s,t){if(s.limitType==="F")return lv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new Qc(l.field,h)});const i=s.endAt?new Fc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Fc(s.startAt.position,s.startAt.inclusive):null;return lv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Jd(s,t,i){return new ah(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function oh(s,t){return Cm(oi(s),oi(t))&&s.limitType===t.limitType}function uT(s){return`${Im(oi(s))}|lt:${s.limitType}`}function xa(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(l=>oT(l)).join(", ")}]`),rh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(l=>Ka(l)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(l=>Ka(l)).join(",")),`Target(${a})`}(oi(s))}; limitType=${s.limitType})`}function lh(s,t){return t.isFoundDocument()&&function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):mt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,t)&&function(a,l){for(const h of Al(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(s,t)&&function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0}(s,t)&&function(a,l){return!(a.startAt&&!function(d,g,_){const v=av(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,Al(a),l)||a.endAt&&!function(d,g,_){const v=av(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,Al(a),l))}(s,t)}function yR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function cT(s){return(t,i)=>{let a=!1;for(const l of Al(s)){const h=_R(l,t,i);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function _R(s,t,i){const a=s.field.isKeyField()?mt.comparator(t.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?Qa(_,v):yt(42886)}(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ks(this.inner,(i,a)=>{for(const[l,h]of a)t(l,h)})}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new ae(mt.comparator);function Yi(){return vR}const hT=new ae(mt.comparator);function pl(...s){let t=hT;for(const i of s)t=t.insert(i.key,i);return t}function fT(s){let t=hT;return s.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function Cs(){return Sl()}function dT(){return Sl()}function Sl(){return new Ls(s=>s.toString(),(s,t)=>s.isEqual(t))}const ER=new ae(mt.comparator),TR=new Ce(mt.comparator);function Vt(...s){let t=TR;for(const i of s)t=t.add(i);return t}const AR=new Ce(Ot);function SR(){return AR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(t)?"-0":t}}function mT(s){return{integerValue:""+s}}function bR(s,t){return $w(t)?mT(t):Nm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function wR(s,t,i){return s instanceof Kc?function(l,h){const d={fields:{[ZE]:{stringValue:$E},[WE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&wm(h)&&(h=sh(h)),h&&(d.fields[JE]=h),{mapValue:d}}(i,t):s instanceof Ol?pT(s,t):s instanceof Vl?yT(s,t):function(l,h){const d=gT(l,h),g=cv(d)+cv(l.Ae);return Xd(d)&&Xd(l.Ae)?mT(g):Nm(l.serializer,g)}(s,t)}function RR(s,t,i){return s instanceof Ol?pT(s,t):s instanceof Vl?yT(s,t):i}function gT(s,t){return s instanceof Yc?function(a){return Xd(a)||function(h){return!!h&&"doubleValue"in h}(a)}(t)?t:{integerValue:0}:null}class Kc extends uh{}class Ol extends uh{constructor(t){super(),this.elements=t}}function pT(s,t){const i=_T(t);for(const a of s.elements)i.some(l=>fi(l,a))||i.push(a);return{arrayValue:{values:i}}}class Vl extends uh{constructor(t){super(),this.elements=t}}function yT(s,t){let i=_T(t);for(const a of s.elements)i=i.filter(l=>!fi(l,a));return{arrayValue:{values:i}}}class Yc extends uh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function cv(s){return de(s.integerValue||s.doubleValue)}function _T(s){return Rm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function IR(s,t){return s.field.isEqual(t.field)&&function(a,l){return a instanceof Ol&&l instanceof Ol||a instanceof Vl&&l instanceof Vl?Fa(a.elements,l.elements,fi):a instanceof Yc&&l instanceof Yc?fi(a.Ae,l.Ae):a instanceof Kc&&l instanceof Kc}(s.transform,t.transform)}class CR{constructor(t,i){this.version=t,this.transformResults=i}}class li{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new li}static exists(t){return new li(void 0,t)}static updateTime(t){return new li(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class ch{}function vT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Om(s.key,li.none()):new ql(s.key,s.data,li.none());{const i=s.data,a=On.empty();let l=new Ce(je.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),l=l.add(h)}return new zs(s.key,a,new Bn(l.toArray()),li.none())}}function DR(s,t,i){s instanceof ql?function(l,h,d){const g=l.value.clone(),_=fv(l.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,t,i):s instanceof zs?function(l,h,d){if(!Nc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const g=fv(l.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(ET(l)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,t,i):function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function bl(s,t,i,a){return s instanceof ql?function(h,d,g,_){if(!Nc(h.precondition,d))return g;const v=h.value.clone(),A=dv(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,t,i,a):s instanceof zs?function(h,d,g,_){if(!Nc(h.precondition,d))return g;const v=dv(h.fieldTransforms,_,d),A=d.data;return A.setAll(ET(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(D=>D.field))}(s,t,i,a):function(h,d,g){return Nc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,t,i)}function NR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),h=gT(a.transform,l||null);h!=null&&(i===null&&(i=On.empty()),i.set(a.field,h))}return i||null}function hv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Fa(a,l,(h,d)=>IR(h,d))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ql extends ch{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class zs extends ch{constructor(t,i,a,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ET(s){const t=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}}),t}function fv(s,t,i){const a=new Map;Gt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const h=s[l],d=h.transform,g=t.data.field(h.field);a.set(h.field,RR(d,g,i[l]))}return a}function dv(s,t,i){const a=new Map;for(const l of s){const h=l.transform,d=i.data.field(l.field);a.set(l.field,wR(h,d,t))}return a}class Om extends ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OR extends ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&DR(h,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=bl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=bl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=dT();return this.mutations.forEach(l=>{const h=t.get(l.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(l.key)?null:g;const _=vT(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Fa(this.mutations,t.mutations,(i,a)=>hv(i,a))&&Fa(this.baseMutations,t.baseMutations,(i,a)=>hv(i,a))}}class Vm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=function(){return ER}();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,a[d].version);return new Vm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,kt;function PR(s){switch(s){case $.OK:return yt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function TT(s){if(s===void 0)return Ki("GRPC error has no .code"),$.UNKNOWN;switch(s){case ve.OK:return $.OK;case ve.CANCELLED:return $.CANCELLED;case ve.UNKNOWN:return $.UNKNOWN;case ve.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ve.INTERNAL:return $.INTERNAL;case ve.UNAVAILABLE:return $.UNAVAILABLE;case ve.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ve.NOT_FOUND:return $.NOT_FOUND;case ve.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ve.ABORTED:return $.ABORTED;case ve.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ve.DATA_LOSS:return $.DATA_LOSS;default:return yt(39323,{code:s})}}(kt=ve||(ve={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Pr([4294967295,4294967295],0);function mv(s){const t=UR().encode(s),i=new kE;return i.update(t),new Uint8Array(i.digest())}function gv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Pr([i,a],0),new Pr([l,h],0)]}class Mm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new yl(`Invalid padding: ${i}`);if(a<0)throw new yl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Pr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Pr.fromNumber(a)));return l.compare(kR)===1&&(l=new Pr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=mv(t),[a,l]=gv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Mm(h,l,i);return a.forEach(g=>d.insert(g)),d}insert(t){if(this.ge===0)return;const i=mv(t),[a,l]=gv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,i,a,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Hl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new hh(At.min(),l,new ae(Ot),Yi(),Vt())}}class Hl{constructor(t,i,a,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Hl(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class AT{constructor(t,i){this.targetId=t,this.Ce=i}}class ST{constructor(t,i,a=qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class pv{constructor(){this.ve=0,this.Fe=yv(),this.Me=qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:h})}}),new Hl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=yv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Yi(),this.Je=Ec(),this.He=Ec(),this.Ye=new ae(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach((a,l)=>{this.rt(l)&&i(l)})}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Zd(h))if(a===0){const d=new mt(h.path);this.et(i,d,Xe.newNoDocument(d,At.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=i;let d,g;try{d=zr(a).toUint8Array()}catch(_){if(_ instanceof XE)return Ga("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Mm(d,l,h)}catch(_){return Ga(_ instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.et(i,h,null),l++)}),l}Tt(t){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Zd(g.target)){const _=new mt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Xe.newNoDocument(_,t))}h.Be&&(i.set(d,h.ke()),h.qe())}});let a=Vt();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.je.forEach((h,d)=>d.setReadTime(t));const l=new hh(t,i,this.Ye,this.je,a);return this.je=Yi(),this.Je=Ec(),this.He=Ec(),this.Ye=new ae(Ot),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new pv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ce(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ce(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new pv),this.Ge.getRemoteKeysForTarget(t).forEach(i=>{this.et(t,i,null)})}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new ae(mt.comparator)}function yv(){return new ae(mt.comparator)}const zR={asc:"ASCENDING",desc:"DESCENDING"},BR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jR={and:"AND",or:"OR"};class qR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Wd(s,t){return s.useProto3Json||rh(t)?t:{value:t}}function Xc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function HR(s,t){return Xc(s,t.toTimestamp())}function ui(s){return Gt(!!s,49232),At.fromTimestamp(function(i){const a=Lr(i);return new ne(a.seconds,a.nanos)}(s))}function xm(s,t){return tm(s,t).canonicalString()}function tm(s,t){const i=function(l){return new ee(["projects",l.projectId,"databases",l.database])}(s).child("documents");return t===void 0?i:i.child(t)}function wT(s){const t=ee.fromString(s);return Gt(NT(t),10190,{key:t.toString()}),t}function em(s,t){return xm(s.databaseId,t.path)}function Vd(s,t){const i=wT(t);if(i.get(1)!==s.databaseId.projectId)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(IT(i))}function RT(s,t){return xm(s.databaseId,t)}function GR(s){const t=wT(s);return t.length===4?ee.emptyPath():IT(t)}function nm(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function IT(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function _v(s,t,i){return{name:em(s,t),fields:i.value.mapValue.fields}}function FR(s,t){let i;if("targetChange"in t){t.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))}(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?$.UNKNOWN:TT(v.code);return new ct(A,v.message||"")}(d);i=new ST(a,l,h,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Vd(s,a.document.name),h=ui(a.document.updateTime),d=a.document.createTime?ui(a.document.createTime):At.min(),g=new On({mapValue:{fields:a.document.fields}}),_=Xe.newFoundDocument(l,h,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Oc(v,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Vd(s,a.document),h=a.readTime?ui(a.readTime):At.min(),d=Xe.newNoDocument(l,h),g=a.removedTargetIds||[];i=new Oc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Vd(s,a.document),h=a.removedTargetIds||[];i=new Oc([],h,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,d=new xR(l,h),g=a.targetId;i=new AT(g,d)}}return i}function QR(s,t){let i;if(t instanceof ql)i={update:_v(s,t.key,t.value)};else if(t instanceof Om)i={delete:em(s,t.key)};else if(t instanceof zs)i={update:_v(s,t.key,t.data),updateMask:eI(t.fieldMask)};else{if(!(t instanceof OR))return yt(16599,{Vt:t.type});i={verify:em(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Kc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ol)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Yc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})}(0,a))),t.precondition.isNone||(i.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:HR(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)}(s,t.precondition)),i}function KR(s,t){return s&&s.length>0?(Gt(t!==void 0,14353),s.map(i=>function(l,h){let d=l.updateTime?ui(l.updateTime):ui(h);return d.isEqual(At.min())&&(d=ui(h)),new CR(d,l.transformResults||[])}(i,t))):[]}function YR(s,t){return{documents:[RT(s,t.path)]}}function XR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=RT(s,l);const h=function(v){if(v.length!==0)return DT(di.create(v,"and"))}(t.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(V){return{field:Pa(V.field),direction:JR(V.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Wd(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ft:i,parent:l}}function $R(s){let t=GR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Gt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=function(D){const V=CT(D);return V instanceof di&&sT(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(V=>function(Z){return new Qc(Ua(Z.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(V))}(i.orderBy));let g=null;i.limit&&(g=function(D){let V;return V=typeof D=="object"?D.value:D,rh(V)?null:V}(i.limit));let _=null;i.startAt&&(_=function(D){const V=!!D.before,G=D.values||[];return new Fc(G,V)}(i.startAt));let v=null;return i.endAt&&(v=function(D){const V=!D.before,G=D.values||[];return new Fc(G,V)}(i.endAt)),mR(t,l,d,h,g,"F",_,v)}function ZR(s,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function CT(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ua(i.unaryFilter.field);return Re.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ua(i.unaryFilter.field);return Re.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Re.create(Ua(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return di.create(i.compositeFilter.filters.map(a=>CT(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(i.compositeFilter.op))}(s):yt(30097,{filter:s})}function JR(s){return zR[s]}function WR(s){return BR[s]}function tI(s){return jR[s]}function Pa(s){return{fieldPath:s.canonicalString()}}function Ua(s){return je.fromServerFormat(s.fieldPath)}function DT(s){return s instanceof Re?function(i){if(i.op==="=="){if(sv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(rv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(sv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(rv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:WR(i.op),value:i.value}}}(s):s instanceof di?function(i){const a=i.getFilters().map(l=>DT(l));return a.length===1?a[0]:{compositeFilter:{op:tI(i.op),filters:a}}}(s):yt(54877,{filter:s})}function eI(s){const t=[];return s.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function NT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,i,a,l,h=At.min(),d=At.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t){this.yt=t}}function iI(s){const t=$R({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Jd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.Cn=new sI}addToCollectionParentIndex(t,i){return this.Cn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(kr.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(kr.min())}updateCollectionGroup(t,i,a){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class sI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ce(ee.comparator),h=!l.has(a);return this.index[i]=l.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ce(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OT=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(OT,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="LruGarbageCollector",aI=1048576;function Tv([s,t],[i,a]){const l=Ot(s,i);return l===0?Ot(t,a):l}class oI{constructor(t){this.Ir=t,this.buffer=new Ce(Tv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Tv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class lI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(Ev,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){eo(i)?ot(Ev,"Ignoring IndexedDB error during garbage collection: ",i):await to(i)}await this.Vr(3e5)})}}class uI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return K.resolve(ih.ce);const a=new oI(i);return this.mr.forEachTarget(t,l=>a.Ar(l.sequenceNumber)).next(()=>this.mr.pr(t,l=>a.Ar(l))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(vv)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vv):this.yr(t,i))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),l=this.params.maximumSequenceNumbersToCollect):l=D,d=Date.now(),this.nthSequenceNumber(t,l))).next(D=>(a=D,g=Date.now(),this.removeTargets(t,a,i))).next(D=>(h=D,_=Date.now(),this.removeOrphanedDocuments(t,a))).next(D=>(v=Date.now(),Ma()<=Nt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${D} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:D})))}}function cI(s,t){return new uI(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.changes=new Ls(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(a!==null&&bl(a.mutation,l,Bn.empty(),ne.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Vt()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Cs();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,a).next(h=>{let d=pl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const a=Cs();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Vt()))}populateOverlays(t,i,a){const l=[];return a.forEach(h=>{i.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,a,l){let h=Yi();const d=Sl(),g=function(){return Sl()}();return i.forEach((_,v)=>{const A=a.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof zs)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),bl(A.mutation,v,A.mutation.getFieldMask(),ne.now())):d.set(v.key,Bn.empty())}),this.recalculateAndSaveOverlays(t,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>g.set(v,new fI(A,d.get(v)??null))),g))}recalculateAndSaveOverlays(t,i){const a=Sl();let l=new ae((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||Bn.empty();A=g.applyToLocalView(v,A),a.set(_,A);const D=(l.get(g.batchId)||Vt()).add(_);l=l.insert(g.batchId,D)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,D=dT();A.forEach(V=>{if(!h.has(V)){const G=vT(i.get(V),a.get(V));G!==null&&D.set(V,G),h=h.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,D))}return K.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,l){return function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):gR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next(h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-h.size):K.resolve(Cs());let g=Il,_=h;return d.next(v=>K.forEach(v,(A,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next(V=>{_=_.insert(A,V)}))).next(()=>this.populateOverlays(t,v,h)).next(()=>this.computeViews(t,_,v,Vt())).next(A=>({batchId:g,changes:fT(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next(a=>{let l=pl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const h=i.collectionGroup;let d=pl();return this.indexManager.getCollectionParents(t,h).next(g=>K.forEach(g,_=>{const v=function(D,V){return new ah(V,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next(A=>{A.forEach((D,V)=>{d=d.insert(D,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,l))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))});let g=pl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&bl(A.mutation,v,Bn.empty(),ne.now()),lh(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ui(l.createTime)}}(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,function(l){return{name:l.name,query:iI(l.bundledQuery),readTime:ui(l.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.overlays=new ae(mt.comparator),this.qr=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Cs();return K.forEach(i,l=>this.getOverlay(t,l).next(h=>{h!==null&&a.set(l,h)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((l,h)=>{this.St(t,i,h)}),K.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(a)),K.resolve()}getOverlaysForCollection(t,i,a){const l=Cs(),h=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&l.set(_.getKey(),_)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let h=new ae((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=Cs(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Cs(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return K.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new MR(i,a));let h=this.qr.get(i);h===void 0&&(h=Vt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.Qr=new Ce(xe.$r),this.Ur=new Ce(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new xe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.Gr(new xe(t,i))}zr(t,i){t.forEach(a=>this.removeReference(a,i))}jr(t){const i=new mt(new ee([])),a=new xe(i,t),l=new xe(i,t+1),h=[];return this.Ur.forEachInRange([a,l],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new ee([])),a=new xe(i,t),l=new xe(i,t+1);let h=Vt();return this.Ur.forEachInRange([a,l],d=>{h=h.add(d.key)}),h}containsKey(t){const i=new xe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class xe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(xe.$r)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VR(h,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new xe(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),h=l<0?0:l;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?bm:this.tr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new xe(i,0),l=new xe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,l],d=>{const g=this.Xr(d.Yr);h.push(g)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ce(Ot);return i.forEach(l=>{const h=new xe(l,0),d=new xe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{a=a.add(g.Yr)})}),K.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let h=a;mt.isDocumentKey(h)||(h=h.child(""));const d=new xe(new mt(h),0);let g=new Ce(Ot);return this.Zr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(g=g.add(_.Yr)),!0)},d),K.resolve(this.ti(g))}ti(t){const i=[];return t.forEach(a=>{const l=this.Xr(a);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return K.forEach(i.mutations,l=>{const h=new xe(l.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Zr=a})}ir(t){}containsKey(t,i){const a=new xe(i,0),l=this.Zr.firstAfterOrEqual(a);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t){this.ri=t,this.docs=function(){return new ae(mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let a=Yi();return i.forEach(l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Xe.newInvalidDocument(l))}),K.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let h=Yi();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Qw(Fw(A),a)<=0||(l.has(A.key)||lh(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return K.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new vI(this)}getSize(t){return K.resolve(this.size)}}class vI extends hI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)}),K.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.persistence=t,this.si=new Ls(i=>Im(i),Cm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(t,i){return this.si.forEach((a,l)=>i(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),K.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ya(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.Pr(i),K.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,a){let l=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(h).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return K.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),K.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach(d=>{h.push(l.markPotentiallyOrphaned(t,d))}),K.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return K.resolve(a)}containsKey(t,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(t,i){this.ui={},this.overlays={},this.ci=new ih(0),this.li=!1,this.li=!0,this.hi=new pI,this.referenceDelegate=t(this),this.Pi=new EI(this),this.indexManager=new rI,this.remoteDocumentCache=function(l){return new _I(l)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new nI(i),this.Ii=new mI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new gI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new yI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new TI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next(h=>this.referenceDelegate.di(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ai(t,i){return K.or(Object.values(this.ui).map(a=>()=>a.containsKey(t,i)))}}class TI extends Yw{constructor(t){super(),this.currentSequenceNumber=t}}class Um{constructor(t){this.persistence=t,this.Ri=new Pm,this.Vi=null}static mi(t){return new Um(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),K.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach(l=>this.fi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(h=>this.fi.add(h.toString()))}).next(()=>a.removeTargetData(t,i))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,a=>{const l=mt.fromPath(a);return this.gi(t,l).next(h=>{h||i.removeEntry(l,At.min())})}).next(()=>(this.Vi=null,i.apply(t)))}updateLimboDocument(t,i){return this.gi(t,i).next(a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(t){return 0}gi(t,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class $c{constructor(t,i){this.persistence=t,this.pi=new Ls(a=>Zw(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=cI(this,i)}static mi(t,i){return new $c(t,i)}Ei(){}di(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(l=>a+l))}wr(t){let i=0;return this.pr(t,a=>{i++}).next(()=>i)}pr(t,i){return K.forEach(this.pi,(a,l)=>this.br(t,a,l).next(h=>h?K.resolve():i(l)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,d=>this.br(t,d,i).next(g=>{g||(a++,h.removeEntry(d,At.min()))})).next(()=>h.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),K.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Cc(t.data.value)),i}br(t,i,a){return K.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return K.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Vt(),l=Vt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new km(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return hS()?8:Xw($e())>0?6:4}()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const h={result:null};return this.ys(t,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(t,i,l,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new AI;return this.Ss(t,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(t,i,d,g.size)})}).next(()=>h.result)}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ma()<=Nt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Ma()<=Nt.DEBUG&&ot("QueryEngine","Query:",xa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ma()<=Nt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(i))):K.resolve())}ys(t,i){if(uv(i))return K.resolve(null);let a=oi(i);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Jd(i,null,"F"),a=oi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(h=>{const d=Vt(...h);return this.ps.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,a).next(_=>{const v=this.Ds(i,g);return this.Cs(i,v,d,_.readTime)?this.ys(t,Jd(i,null,"F")):this.vs(t,v,i,_)}))})))}ws(t,i,a,l){return uv(i)||l.isEqual(At.min())?K.resolve(null):this.ps.getDocuments(t,a).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,l)?K.resolve(null):(Ma()<=Nt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xa(i)),this.vs(t,d,i,Gw(l,Il)).next(g=>g))})}Ds(t,i){let a=new Ce(cT(t));return i.forEach((l,h)=>{lh(t,h)&&(a=a.add(h))}),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,a){return Ma()<=Nt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",xa(i)),this.ps.getDocumentsMatchingQuery(t,i,kr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="LocalStore",bI=3e8;class wI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ae(Ot),this.xs=new Ls(h=>Im(h),Cm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ms))}}function RI(s,t,i,a){return new wI(s,t,i,a)}async function MT(s,t){const i=St(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next(h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=Vt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Ls:v,removedBatchIds:d,addedBatchIds:g}))})})}function II(s,t){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const D=v.batch,V=D.keys();let G=K.resolve();return V.forEach(Z=>{G=G.next(()=>A.getEntry(_,Z)).next(rt=>{const W=v.docVersions.get(Z);Gt(W!==null,48541),rt.version.compareTo(W)<0&&(D.applyToRemoteDocument(rt,v),rt.isValidDocument()&&(rt.setReadTime(v.commitVersion),A.addEntry(rt)))})}),G.next(()=>g.mutationQueue.removeMutationBatch(_,D))}(i,a,t,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Vt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(t))).next(()=>i.localDocuments.getDocuments(a,l))})}function xT(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Pi.getLastRemoteSnapshotVersion(i))}function CI(s,t){const i=St(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach((A,D)=>{const V=l.get(D);if(!V)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,D).next(()=>i.Pi.addMatchingKeys(h,A.addedDocuments,D)));let G=V.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(D)!==null?G=G.withResumeToken(qe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(D,G),function(rt,W,Et){return rt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=bI?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0}(V,G,A)&&g.push(i.Pi.updateTargetData(h,G))});let _=Yi(),v=Vt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(DI(h,d,t.documentUpdates).next(A=>{_=A.ks,v=A.qs})),!a.isEqual(At.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next(D=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return K.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ms=l,h))}function DI(s,t,i){let a=Vt(),l=Vt();return i.forEach(h=>a=a.add(h)),t.getEntries(s,a).next(h=>{let d=Yi();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):ot(Lm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{ks:d,qs:l}})}function NI(s,t){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function OI(s,t){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return i.Pi.getTargetData(a,t).next(h=>h?(l=h,K.resolve(l)):i.Pi.allocateTargetId(a).next(d=>(l=new Or(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a})}async function im(s,t,i){const a=St(s),l=a.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!eo(d))throw d;ot(Lm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Av(s,t,i){const a=St(s);let l=At.min(),h=Vt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const D=St(_),V=D.xs.get(A);return V!==void 0?K.resolve(D.Ms.get(V)):D.Pi.getTargetData(v,A)}(a,d,oi(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?h:Vt())).next(g=>(VI(a,yR(t),g),{documents:g,Qs:h})))}function VI(s,t,i){let a=s.Os.get(t)||At.min();i.forEach((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Os.set(t,a)}class Sv{constructor(){this.activeTargetIds=SR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MI{constructor(){this.Mo=new Sv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Sv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="ConnectivityMonitor";class wv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(bv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(bv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function rm(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="RestConnection",PI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Hc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,h){const d=rm(),g=this.zo(t,i.toUriEncodedString());ot(Md,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,h);const{host:v}=new URL(g),A=$a(v);return this.Jo(t,g,_,a,A).then(D=>(ot(Md,`Received RPC '${t}' ${d}: `,D),D),D=>{throw Ga(Md,`RPC '${t}' ${d} failed with error: `,D,"url: ",g,"request:",a),D})}Ho(t,i,a,l,h,d){return this.Go(t,i,a,l,h)}jo(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),a&&a.headers.forEach((l,h)=>t[h]=l)}zo(t,i){const a=PI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class LI extends UI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,h){const d=rm();return new Promise((g,_)=>{const v=new LE;v.setWithCredentials(!0),v.listenOnce(zE.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Ic.NO_ERROR:const D=v.getResponseJson();ot(Qe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(D)),g(D);break;case Ic.TIMEOUT:ot(Qe,`RPC '${t}' ${d} timed out`),_(new ct($.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const V=v.getStatus();if(ot(Qe,`RPC '${t}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const rt=function(Et){const dt=Et.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(dt)>=0?dt:$.UNKNOWN}(Z.status);_(new ct(rt,Z.message))}else _(new ct($.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ct($.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ot(Qe,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(l);ot(Qe,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,a,15)})}T_(t,i,a){const l=rm(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=qE(),g=jE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");ot(Qe,`Creating RPC '${t}' stream ${l}: ${A}`,_);const D=d.createWebChannel(A,_);this.I_(D);let V=!1,G=!1;const Z=new kI({Yo:W=>{G?ot(Qe,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(V||(ot(Qe,`Opening RPC '${t}' stream ${l} transport.`),D.open(),V=!0),ot(Qe,`RPC '${t}' stream ${l} sending:`,W),D.send(W))},Zo:()=>D.close()}),rt=(W,Et,dt)=>{W.listen(Et,ft=>{try{dt(ft)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return rt(D,gl.EventType.OPEN,()=>{G||(ot(Qe,`RPC '${t}' stream ${l} transport opened.`),Z.o_())}),rt(D,gl.EventType.CLOSE,()=>{G||(G=!0,ot(Qe,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(D))}),rt(D,gl.EventType.ERROR,W=>{G||(G=!0,Ga(Qe,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Z.a_(new ct($.UNAVAILABLE,"The operation could not be completed")))}),rt(D,gl.EventType.MESSAGE,W=>{if(!G){const Et=W.data[0];Gt(!!Et,16349);const dt=Et,ft=dt?.error||dt[0]?.error;if(ft){ot(Qe,`RPC '${t}' stream ${l} received error:`,ft);const Lt=ft.status;let Tt=function(S){const R=ve[S];if(R!==void 0)return TT(R)}(Lt),Mt=ft.message;Tt===void 0&&(Tt=$.INTERNAL,Mt="Unknown error status: "+Lt+" with message "+ft.message),G=!0,Z.a_(new ct(Tt,Mt)),D.close()}else ot(Qe,`RPC '${t}' stream ${l} received:`,Et),Z.u_(Et)}}),rt(g,BE.STAT_EVENT,W=>{W.stat===Qd.PROXY?ot(Qe,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Qd.NOPROXY&&ot(Qe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Z.__()},0),Z}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(i=>i===t)}}function xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(s){return new qR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,i,a=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="PersistentStream";class UT{constructor(t,i,a,l,h,d,g,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Ki(i.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.D_===i&&this.G_(a,l)},a=>{t(()=>{const l=new ct($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)})})}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(l=>{a(()=>this.z_(l))}),this.stream.onMessage(l=>{a(()=>++this.F_==1?this.J_(l):this.onNext(l))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ot(Rv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget(()=>this.D_===t?i():(ot(Rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zI extends UT{constructor(t,i,a,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=FR(this.serializer,t),a=function(h){if(!("targetChange"in h))return At.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ui(d.readTime):At.min()}(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=nm(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Zd(_)?{documents:YR(h,_)}:{query:XR(h,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=bT(h,d.resumeToken);const v=Wd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=Xc(h,d.snapshotVersion.toTimestamp());const v=Wd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const a=ZR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=nm(this.serializer),i.removeTarget=t,this.q_(i)}}class BI extends UT{constructor(t,i,a,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=KR(t.writeResults,t.commitTime),a=ui(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=nm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>QR(this.serializer,a))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{}class qI extends jI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(t,tm(i,a),l,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct($.UNKNOWN,h.toString())})}Ho(t,i,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(t,tm(i,a),l,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct($.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class HI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ki(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class GI{constructor(t,i,a,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{a.enqueueAndForget(async()=>{Bs(this)&&(ot(Us,"Restarting streams for network reachability change."),await async function(_){const v=St(_);v.Ea.add(4),await Gl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await dh(v)}(this))})}),this.Ra=new HI(a,l)}}async function dh(s){if(Bs(s))for(const t of s.da)await t(!0)}async function Gl(s){for(const t of s.da)await t(!1)}function kT(s,t){const i=St(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),qm(i)?jm(i):no(i).O_()&&Bm(i,t))}function zm(s,t){const i=St(s),a=no(i);i.Ia.delete(t),a.O_()&&LT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Bs(i)&&i.Ra.set("Unknown"))}function Bm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}no(s).Y_(t)}function LT(s,t){s.Va.Ue(t),no(s).Z_(t)}function jm(s){s.Va=new LR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),no(s).start(),s.Ra.ua()}function qm(s){return Bs(s)&&!no(s).x_()&&s.Ia.size>0}function Bs(s){return St(s).Ea.size===0}function zT(s){s.Va=void 0}async function FI(s){s.Ra.set("Online")}async function QI(s){s.Ia.forEach((t,i)=>{Bm(s,t)})}async function KI(s,t){zT(s),qm(s)?(s.Ra.ha(t),jm(s)):s.Ra.set("Unknown")}async function YI(s,t,i){if(s.Ra.set("Online"),t instanceof ST&&t.state===2&&t.cause)try{await async function(l,h){const d=h.cause;for(const g of h.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))}(s,t)}catch(a){ot(Us,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Zc(s,a)}else if(t instanceof Oc?s.Va.Ze(t):t instanceof AT?s.Va.st(t):s.Va.tt(t),!i.isEqual(At.min()))try{const a=await xT(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ia.get(v);A&&h.Ia.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Ia.get(_);if(!A)return;h.Ia.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),LT(h,_);const D=new Or(A.target,_,v,A.sequenceNumber);Bm(h,D)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){ot(Us,"Failed to raise snapshot:",a),await Zc(s,a)}}async function Zc(s,t,i){if(!eo(t))throw t;s.Ea.add(1),await Gl(s),s.Ra.set("Offline"),i||(i=()=>xT(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ot(Us,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await dh(s)})}function BT(s,t){return t().catch(i=>Zc(s,i,t))}async function mh(s){const t=St(s),i=jr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bm;for(;XI(t);)try{const l=await NI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,$I(t,l)}catch(l){await Zc(t,l)}jT(t)&&qT(t)}function XI(s){return Bs(s)&&s.Ta.length<10}function $I(s,t){s.Ta.push(t);const i=jr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function jT(s){return Bs(s)&&!jr(s).x_()&&s.Ta.length>0}function qT(s){jr(s).start()}async function ZI(s){jr(s).ra()}async function JI(s){const t=jr(s);for(const i of s.Ta)t.ea(i.mutations)}async function WI(s,t,i){const a=s.Ta.shift(),l=Vm.from(a,t,i);await BT(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await mh(s)}async function t2(s,t){t&&jr(s).X_&&await async function(a,l){if(function(d){return PR(d)&&d!==$.ABORTED}(l.code)){const h=a.Ta.shift();jr(a).B_(),await BT(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l)),await mh(a)}}(s,t),jT(s)&&qT(s)}async function Iv(s,t){const i=St(s);i.asyncQueue.verifyOperationInProgress(),ot(Us,"RemoteStore received new credentials");const a=Bs(i);i.Ea.add(3),await Gl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await dh(i)}async function e2(s,t){const i=St(s);t?(i.Ea.delete(2),await dh(i)):t||(i.Ea.add(2),await Gl(i),i.Ra.set("Unknown"))}function no(s){return s.ma||(s.ma=function(i,a,l){const h=St(i);return h.sa(),new zI(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{Xo:FI.bind(null,s),t_:QI.bind(null,s),r_:KI.bind(null,s),H_:YI.bind(null,s)}),s.da.push(async t=>{t?(s.ma.B_(),qm(s)?jm(s):s.Ra.set("Unknown")):(await s.ma.stop(),zT(s))})),s.ma}function jr(s){return s.fa||(s.fa=function(i,a,l){const h=St(i);return h.sa(),new BI(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZI.bind(null,s),r_:t2.bind(null,s),ta:JI.bind(null,s),na:WI.bind(null,s)}),s.da.push(async t=>{t?(s.fa.B_(),await mh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(Us,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,i,a,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,h){const d=Date.now()+a,g=new Hm(t,i,d,l,h);return g.start(a),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(s,t){if(Ki("AsyncQueue",`${t}: ${s}`),eo(s))return new ct($.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(t){return new ja(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=pl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ja;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.ga=new ae(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal((i,a)=>{t.push(a)}),t}}class Xa{constructor(t,i,a,l,h,d,g,_,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Xa(t,i,ja.emptySet(i),d,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class i2{constructor(){this.queries=Dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),h=l.queries;l.queries=Dv(),h.forEach((d,g)=>{for(const _ of g.Sa)_.onError(a)})})(this,new ct($.ABORTED,"Firestore shutting down"))}}function Dv(){return new Ls(s=>uT(s),oh)}async function r2(s,t){const i=St(s);let a=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(a=2):(h=new n2,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Gm(d,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Fm(i)}async function s2(s,t){const i=St(s),a=t.query;let l=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function a2(s,t){const i=St(s);let a=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&Fm(i)}function o2(s,t,i){const a=St(s),l=a.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);a.queries.delete(t)}function Fm(s){s.Ca.forEach(t=>{t.next()})}var sm,Nv;(Nv=sm||(sm={})).Ma="default",Nv.Cache="cache";class l2{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Xa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Xa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t){this.key=t}}class GT{constructor(t){this.key=t}}class u2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=cT(t),this.tu=new ja(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Cv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,D)=>{const V=l.get(A),G=lh(this.query,D)?D:null,Z=!!V&&this.mutatedKeys.has(V.key),rt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;V&&G?V.data.isEqual(G.data)?Z!==rt&&(a.track({type:3,doc:G}),W=!0):this.su(V,G)||(a.track({type:2,doc:G}),W=!0,(_&&this.eu(G,_)>0||v&&this.eu(G,v)<0)&&(g=!0)):!V&&G?(a.track({type:0,doc:G}),W=!0):V&&!G&&(a.track({type:1,doc:V}),W=!0,(_||v)&&(g=!0)),W&&(G?(d=d.add(G),h=rt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort((A,D)=>function(G,Z){const rt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:W})}};return rt(G)-rt(Z)}(A.type,D.type)||this.eu(A.doc,D.doc)),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Xa(this.query,t.tu,h,d,t.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const i=[];return t.forEach(a=>{this.Xa.has(a)||i.push(new GT(a))}),this.Xa.forEach(a=>{t.has(a)||i.push(new HT(a))}),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qm="SyncEngine";class c2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class h2{constructor(t){this.key=t,this.hu=!1}}class f2{constructor(t,i,a,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ls(g=>uT(g),oh),this.Iu=new Map,this.Eu=new Set,this.du=new ae(mt.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function d2(s,t,i=!0){const a=$T(s);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await FT(a,t,i,!0),l}async function m2(s,t){const i=$T(s);await FT(i,t,!0,!1)}async function FT(s,t,i,a){const l=await OI(s.localStore,oi(t)),h=l.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await g2(s,t,h,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&kT(s.remoteStore,l),g}async function g2(s,t,i,a,l){s.pu=(D,V,G)=>async function(rt,W,Et,dt){let ft=W.view.ru(Et);ft.Cs&&(ft=await Av(rt.localStore,W.query,!1).then(({documents:M})=>W.view.ru(M,ft)));const Lt=dt&&dt.targetChanges.get(W.targetId),Tt=dt&&dt.targetMismatches.get(W.targetId)!=null,Mt=W.view.applyChanges(ft,rt.isPrimaryClient,Lt,Tt);return Vv(rt,W.targetId,Mt.au),Mt.snapshot}(s,D,V,G);const h=await Av(s.localStore,t,!0),d=new u2(t,h.Qs),g=d.ru(h.documents),_=Hl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),v=d.applyChanges(g,s.isPrimaryClient,_);Vv(s,i,v.au);const A=new c2(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),v.snapshot}async function p2(s,t,i){const a=St(s),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter(d=>!oh(d,t))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await im(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),i&&zm(a.remoteStore,l.targetId),am(a,l.targetId)}).catch(to)):(am(a,l.targetId),await im(a.localStore,l.targetId,!0))}async function y2(s,t){const i=St(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),zm(i.remoteStore,a.targetId))}async function _2(s,t,i){const a=w2(s);try{const l=await function(d,g){const _=St(d),v=ne.now(),A=g.reduce((G,Z)=>G.add(Z.key),Vt());let D,V;return _.persistence.runTransaction("Locally write mutations","readwrite",G=>{let Z=Yi(),rt=Vt();return _.Ns.getEntries(G,A).next(W=>{Z=W,Z.forEach((Et,dt)=>{dt.isValidDocument()||(rt=rt.add(Et))})}).next(()=>_.localDocuments.getOverlayedDocuments(G,Z)).next(W=>{D=W;const Et=[];for(const dt of g){const ft=NR(dt,D.get(dt.key).overlayedDocument);ft!=null&&Et.push(new zs(dt.key,ft,nT(ft.value.mapValue),li.exists(!0)))}return _.mutationQueue.addMutationBatch(G,v,Et,g)}).next(W=>{V=W;const Et=W.applyToLocalDocumentSet(D,rt);return _.documentOverlayCache.saveOverlays(G,W.batchId,Et)})}).then(()=>({batchId:V.batchId,changes:fT(D)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(d,g,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new ae(Ot)),v=v.insert(g,_),d.Vu[d.currentUser.toKey()]=v}(a,l.batchId,i),await Fl(a,l.changes),await mh(a.remoteStore)}catch(l){const h=Gm(l,"Failed to persist write");i.reject(h)}}async function QT(s,t){const i=St(s);try{const a=await CI(i.localStore,t);t.targetChanges.forEach((l,h)=>{const d=i.Au.get(h);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))}),await Fl(i,a,t)}catch(a){await to(a)}}function Ov(s,t,i){const a=St(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach((h,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const _=St(d);_.onlineState=g;let v=!1;_.queries.forEach((A,D)=>{for(const V of D.Sa)V.va(g)&&(v=!0)}),v&&Fm(_)}(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function v2(s,t,i){const a=St(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),h=l&&l.key;if(h){let d=new ae(mt.comparator);d=d.insert(h,Xe.newNoDocument(h,At.min()));const g=Vt().add(h),_=new hh(At.min(),new Map,new ae(Ot),d,g);await QT(a,_),a.du=a.du.remove(h),a.Au.delete(t),Km(a)}else await im(a.localStore,t,!1).then(()=>am(a,t,i)).catch(to)}async function E2(s,t){const i=St(s),a=t.batch.batchId;try{const l=await II(i.localStore,t);YT(i,a,null),KT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Fl(i,l)}catch(l){await to(l)}}async function T2(s,t,i){const a=St(s);try{const l=await function(d,g){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(D=>(Gt(D!==null,37113),A=D.keys(),_.mutationQueue.removeMutationBatch(v,D))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,t);YT(a,t,i),KT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Fl(a,l)}catch(l){await to(l)}}function KT(s,t){(s.mu.get(t)||[]).forEach(i=>{i.resolve()}),s.mu.delete(t)}function YT(s,t,i){const a=St(s);let l=a.Vu[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function am(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach(a=>{s.Ru.containsKey(a)||XT(s,a)})}function XT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(zm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Km(s))}function Vv(s,t,i){for(const a of i)a instanceof HT?(s.Ru.addReference(a.key,t),A2(s,a)):a instanceof GT?(ot(Qm,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||XT(s,a.key)):yt(19791,{wu:a})}function A2(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ot(Qm,"New document in limbo: "+i),s.Eu.add(a),Km(s))}function Km(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new mt(ee.fromString(t)),a=s.fu.next();s.Au.set(a,new h2(i)),s.du=s.du.insert(i,a),kT(s.remoteStore,new Or(oi(Dm(i.path)),a,"TargetPurposeLimboResolution",ih.ce))}}async function Fl(s,t,i){const a=St(s),l=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach((g,_)=>{d.push(a.pu(_,t,i).then(v=>{if((v||i)&&a.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){l.push(v);const A=km.As(_.targetId,v);h.push(A)}}))}),await Promise.all(d),a.Pu.H_(l),await async function(_,v){const A=St(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>K.forEach(v,V=>K.forEach(V.Es,G=>A.persistence.referenceDelegate.addReference(D,V.targetId,G)).next(()=>K.forEach(V.ds,G=>A.persistence.referenceDelegate.removeReference(D,V.targetId,G)))))}catch(D){if(!eo(D))throw D;ot(Lm,"Failed to update sequence numbers: "+D)}for(const D of v){const V=D.targetId;if(!D.fromCache){const G=A.Ms.get(V),Z=G.snapshotVersion,rt=G.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(V,rt)}}}(a.localStore,h))}async function S2(s,t){const i=St(s);if(!i.currentUser.isEqual(t)){ot(Qm,"User change. New user:",t.toKey());const a=await MT(i.localStore,t);i.currentUser=t,function(h,d){h.mu.forEach(g=>{g.forEach(_=>{_.reject(new ct($.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Fl(i,a.Ls)}}function b2(s,t){const i=St(s),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function $T(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=QT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=b2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=v2.bind(null,t),t.Pu.H_=a2.bind(null,t.eventManager),t.Pu.yu=o2.bind(null,t.eventManager),t}function w2(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=E2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=T2.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return RI(this.persistence,new SI,t.initialUser,this.serializer)}Cu(t){return new VT(Um.mi,this.serializer)}Du(t){return new MI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class R2 extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof $c,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new lI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new VT(a=>$c.mi(a,i),this.serializer)}}class om{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=S2.bind(null,this.syncEngine),await e2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new i2}()}createDatastore(t){const i=fh(t.databaseInfo.databaseId),a=function(h){return new LI(h)}(t.databaseInfo);return function(h,d,g,_){return new qI(h,d,g,_)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,l,h,d,g){return new GI(a,l,h,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>Ov(this.syncEngine,i,0),function(){return wv.v()?new wv:new xI}())}createSyncEngine(t,i){return function(l,h,d,g,_,v,A){const D=new f2(l,h,d,g,_,v);return A&&(D.gu=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const a=St(i);ot(Us,"RemoteStore shutting down."),a.Ea.add(5),await Gl(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}om.provider={build:()=>new om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ki("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="FirestoreClient";class C2{constructor(t,i,a,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=Am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{ot(qr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(ot(qr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Gm(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Pd(s,t){s.asyncQueue.verifyOperationInProgress(),ot(qr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async l=>{a.isEqual(l)||(await MT(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Mv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await D2(s);ot(qr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Iv(t.remoteStore,a)),s.setAppCheckTokenChangeListener((a,l)=>Iv(t.remoteStore,l)),s._onlineComponents=t}async function D2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(qr,"Using user provided OfflineComponentProvider");try{await Pd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Ga("Error using user provided cache. Falling back to memory cache: "+i),await Pd(s,new Jc)}}else ot(qr,"Using default OfflineComponentProvider"),await Pd(s,new R2(void 0));return s._offlineComponents}async function ZT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(qr,"Using user provided OnlineComponentProvider"),await Mv(s,s._uninitializedComponentsProvider._online)):(ot(qr,"Using default OnlineComponentProvider"),await Mv(s,new om))),s._onlineComponents}function N2(s){return ZT(s).then(t=>t.syncEngine)}async function xv(s){const t=await ZT(s),i=t.eventManager;return i.onListen=d2.bind(null,t.syncEngine),i.onUnlisten=p2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=m2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=y2.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firestore.googleapis.com",Uv=!0;class kv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WT,this.ssl=Uv}else this.host=t.host,this.ssl=t.ssl??Uv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<aI)throw new ct($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Hw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JT(t.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new Mw;switch(a.type){case"firstParty":return new kw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Pv.get(i);a&&(ot("ComponentProvider","Removing Datastore"),Pv.delete(i),a.terminate())}(this),Promise.resolve()}}function O2(s,t,i,a={}){s=Ns(s,gh);const l=$a(t),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(Jv(`https://${g}`),Wv("Firestore",!0)),h.host!==WT&&h.host!==g&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:g,ssl:l,emulatorOptions:a};if(!Vs(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=Ye.MOCK_USER;else{v=nS(a.mockUserToken,s._app?.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new ct($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(D)}s._authCredentials=new xw(new GE(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ph(this.firestore,t,this._query)}}class Ie{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(jl(i,Ie._jsonSchema))return new Ie(t,a||null,new mt(ee.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Ee("string",Ie._jsonSchemaVersion),referencePath:Ee("string")};class Ur extends ph{constructor(t,i,a){super(t,i,Dm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new mt(t))}withConverter(t){return new Ur(this.firestore,t,this._path)}}function Ac(s,t,...i){if(s=pn(s),FE("collection","path",t),s instanceof gh){const a=ee.fromString(t,...i);return $_(a),new Ur(s,null,a)}{if(!(s instanceof Ie||s instanceof Ur))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ee.fromString(t,...i));return $_(a),new Ur(s.firestore,null,a)}}function Ud(s,t,...i){if(s=pn(s),arguments.length===1&&(t=Am.newId()),FE("doc","path",t),s instanceof gh){const a=ee.fromString(t,...i);return X_(a),new Ie(s,null,new mt(a))}{if(!(s instanceof Ie||s instanceof Ur))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ee.fromString(t,...i));return X_(a),new Ie(s.firestore,s instanceof Ur?s.converter:null,new mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="AsyncQueue";class zv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PT(this,"async_queue_retry"),this._c=()=>{const a=xd();a&&ot(Lv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Ds;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!eo(t))throw t;ot(Lv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const i=this.ac.then(()=>(this.rc=!0,t().catch(a=>{throw this.nc=a,this.rc=!1,Ki("INTERNAL UNHANDLED ERROR: ",Bv(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Hm.createAndSchedule(this,t,i,a,h=>this.hc(h));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:Bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Bv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1}(s,["next","error","complete"])}class Ml extends gh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new zv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zv(t),this._firestoreClient=void 0,await t}}}function V2(s,t){const i=typeof s=="object"?s:iE(),a=typeof s=="string"?s:Hc,l=fm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=tS("firestore");h&&O2(l,...h)}return l}function t0(s){if(s._terminated)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||M2(s),s._firestoreClient}function M2(s){const t=s._freezeSettings(),i=function(l,h,d,g){return new tR(l,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,JT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new C2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(qe.fromBase64String(t))}catch(i){throw new ct($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Vn(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jl(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Ee("string",Vn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ci._jsonSchemaVersion}}static fromJSON(t){if(jl(t,ci._jsonSchema))return new ci(t.latitude,t.longitude)}}ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:Ee("string",ci._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0}(this._values,t._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jl(t,hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new hi(t.vectorValues);throw new ct($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:Ee("string",hi._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=/^__.*__$/;class P2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new zs(t,this.data,this.fieldMask,i,this.fieldTransforms):new ql(t,this.data,i,this.fieldTransforms)}}function n0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class Xm{constructor(t,i,a,l,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Xm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(n0(this.Ac)&&x2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class U2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||fh(t)}Cc(t,i,a,l=!1){return new Xm({Ac:t,methodName:i,Dc:a,path:je.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k2(s){const t=s._freezeSettings(),i=fh(s._databaseId);return new U2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function L2(s,t,i,a,l,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,t,i,l);a0("Data must be an object, but it was:",d,a);const g=r0(a,d);let _,v;if(h.merge)_=new Bn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const V=z2(t,D,i);if(!d.contains(V))throw new ct($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);j2(A,V)||A.push(V)}_=new Bn(A),v=d.fieldTransforms.filter(D=>_.covers(D.field))}else _=null,v=d.fieldTransforms;return new P2(new On(g),_,v)}function i0(s,t){if(s0(s=pn(s)))return a0("Unsupported field value:",t,s),r0(s,t);if(s instanceof e0)return function(a,l){if(!n0(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(a,l){const h=[];let d=0;for(const g of a){let _=i0(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,t)}return function(a,l){if((a=pn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return bR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ne.fromDate(a);return{timestampValue:Xc(l.serializer,h)}}if(a instanceof ne){const h=new ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,h)}}if(a instanceof ci)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Vn)return{bytesValue:bT(l.serializer,a._byteString)};if(a instanceof Ie){const h=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:xm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof hi)return function(d,g){return{mapValue:{fields:{[tT]:{stringValue:eT},[Gc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return Nm(g.serializer,v)})}}}}}}(a,l);throw l.Sc(`Unsupported field value: ${Sm(a)}`)}(s,t)}function r0(s,t){const i={};return YE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ks(s,(a,l)=>{const h=i0(l,t.mc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function s0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ne||s instanceof ci||s instanceof Vn||s instanceof Ie||s instanceof e0||s instanceof hi)}function a0(s,t,i){if(!s0(i)||!QE(i)){const a=Sm(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function z2(s,t,i){if((t=pn(t))instanceof Ym)return t._internalPath;if(typeof t=="string")return o0(s,t);throw Wc("Field path arguments must be of type string or ",s,!1,void 0,i)}const B2=new RegExp("[~\\*/\\[\\]]");function o0(s,t,i){if(t.search(B2)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ym(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Wc(s,t,i,a,l){const h=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ct($.INVALID_ARGUMENT,g+s+_)}function j2(s,t){return s.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t,i,a,l,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(u0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class q2 extends l0{data(){return super.data()}}function u0(s,t){return typeof t=="string"?o0(s,t):t instanceof Ym?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G2{convertValue(t,i="none"){switch(Br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ks(t,(l,h)=>{a[l]=this.convertValue(h,i)}),a}convertVectorValue(t){const i=t.fields?.[Gc].arrayValue?.values?.map(a=>de(a.doubleValue));return new hi(i)}convertGeoPoint(t){return new ci(de(t.latitude),de(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=sh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Cl(t));default:return null}}convertTimestamp(t){const i=Lr(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ee.fromString(t);Gt(NT(a),9688,{name:t});const l=new Dl(a.get(1),a.get(3)),h=new mt(a.popFirst(5));return l.isEqual(i)||Ki(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class _l{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Os extends l0{constructor(t,i,a,l,h,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(u0("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Os._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Os._jsonSchemaVersion="firestore/documentSnapshot/1.0",Os._jsonSchema={type:Ee("string",Os._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class Vc extends Os{data(t={}){return super.data(t)}}class qa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new _l(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(a=>{t.call(i,new Vc(this._firestore,this._userDataWriter,a.key,a,new _l(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const _=new Vc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new _l(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Vc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new _l(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Q2(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Q2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:Ee("string",qa._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class c0 extends G2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function qv(s,t,i){s=Ns(s,Ie);const a=Ns(s.firestore,Ml),l=F2(s.converter,t);return h0(a,[L2(k2(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,li.none())])}function K2(s){return h0(Ns(s.firestore,Ml),[new Om(s._key,li.none())])}function Hv(s,...t){s=pn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||jv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(jv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let h,d,g;if(s instanceof Ie)d=Ns(s.firestore,Ml),g=Dm(s._key.path),h={next:_=>{t[a]&&t[a](Y2(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=Ns(s,ph);d=Ns(_.firestore,Ml),g=_._query;const v=new c0(d);h={next:A=>{t[a]&&t[a](new qa(d,v,_,A))},error:t[a+1],complete:t[a+2]},H2(s._query)}return function(v,A,D,V){const G=new I2(V),Z=new l2(A,G,D);return v.asyncQueue.enqueueAndForget(async()=>r2(await xv(v),Z)),()=>{G.Nu(),v.asyncQueue.enqueueAndForget(async()=>s2(await xv(v),Z))}}(t0(d),g,l,h)}function h0(s,t){return function(a,l){const h=new Ds;return a.asyncQueue.enqueueAndForget(async()=>_2(await N2(a),l,h)),h.promise}(t0(s),t)}function Y2(s,t,i){const a=i.docs.get(t._key),l=new c0(s);return new Os(s,l,t._key,a,new _l(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Wa=l})(Za),Ha(new Ms("firestore",(a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Ml(new Pw(a.getProvider("auth-internal")),new Lw(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ct($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(v.options.projectId,A)}(d,l),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),xr(F_,Q_,t),xr(F_,Q_,"esm2020")})();const Gv=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},lm=typeof __initial_auth_token<"u"?__initial_auth_token:null,Rs=typeof __app_id<"u"?__app_id:"default-app-id";let kd,gn,Mc,Rr=!1;if(Object.keys(Gv).length>0&&lm)try{kd=nE(Gv),gn=V2(kd),Mc=Ow(kd),Rr=!0,console.log("Firebase a été initialisé avec succès.")}catch(s){console.error("Erreur lors de l'initialisation de Firebase:",s)}else console.error("La configuration Firebase est manquante ou le jeton d'authentification est manquant. L'application fonctionnera en mode local (non-persistant).");const ml=[{name:"Étirements",points:5,unit:"minutes",pointsPer:10,group:"Groupe 3"},{name:"Gainage (Statique/Dynamique)",points:2,unit:"secondes",pointsPer:30,group:"Groupe 3"},{name:"Basket",points:10,unit:"minutes",pointsPer:30,group:"Groupe 1"},{name:"Corde à sauter",points:3,unit:"minutes",pointsPer:1,group:"Groupe 2"},{name:"Course à pied (piste)",points:5,unit:"km",pointsPer:1,group:"Groupe 2"},{name:"Course à pied (forêt)",points:7,unit:"km",pointsPer:1,group:"Groupe 2"},{name:"Course à pied (plage)",points:10,unit:"km",pointsPer:1,group:"Groupe 2"},{name:"Natation (piscine)",points:1,unit:"longueurs (25m)",pointsPer:1,group:"Groupe 2"},{name:"Natation (mer)",points:5,unit:"minutes",pointsPer:5,group:"Groupe 2"},{name:"Sport nautique",points:10,unit:"minutes",pointsPer:30,group:"Groupe 1"},{name:"Sport de raquettes",points:10,unit:"minutes",pointsPer:30,group:"Groupe 1"},{name:"Vélo (Elliptique/Appartement)",points:4,unit:"km",pointsPer:1,group:"Groupe 2"},{name:"Vélo (Route)",points:5,unit:"km",pointsPer:1,group:"Groupe 2"},{name:"Vélo (VTT)",points:7,unit:"km",pointsPer:1,group:"Groupe 2"},{name:"Autres sports",points:10,unit:"minutes",pointsPer:30,group:"Groupe 1"},{name:"Abdominaux",points:2,unit:"séries",pointsPer:10,group:"Groupe 3"}],Fv=()=>({"Groupe 1":{goal:50,color:"bg-orange-500"},"Groupe 2":{goal:50,color:"bg-sky-500"},"Groupe 3":{goal:50,color:"bg-violet-500"}}),X2=s=>{switch(s){case"Basket":return"🏀";case"Corde à sauter":return"🤸‍♀️";case"Course à pied (piste)":case"Course à pied (forêt)":case"Course à pied (plage)":return"🏃";case"Natation (piscine)":case"Natation (mer)":return"🏊";case"Sport nautique":return"⛵";case"Sport de raquettes":return"🏸";case"Vélo (Elliptique/Appartement)":case"Vélo (Route)":case"Vélo (VTT)":return"🚴‍♀️";case"Étirements":return"🧘‍♀️";case"Gainage (Statique/Dynamique)":return"💪";case"Abdominaux":return"🤸";case"Autres sports":return"🏆";default:return"✅"}},$2=()=>{const[s,t]=Ke.useState(crypto.randomUUID()),[i,a]=Ke.useState([]),[l,h]=Ke.useState(null),[d,g]=Ke.useState([]),[_,v]=Ke.useState(!1),[A,D]=Ke.useState({date:"",exercise:"",value:""}),[V,G]=Ke.useState(!1),[Z,rt]=Ke.useState(""),[W,Et]=Ke.useState(!1),[dt,ft]=Ke.useState(null),[Lt,Tt]=Ke.useState(!1),[Mt,M]=Ke.useState(Rr);Ke.useEffect(()=>{if(Rr){(async()=>{try{lm?await yb(Mc,lm):await fb(Mc)}catch(at){console.error("Erreur lors de l'authentification:",at),M(!1)}})();const st=Eb(Mc,at=>{at?(t(at.uid),console.log("Utilisateur authentifié:",at.uid)):(t(null),console.log("Utilisateur déconnecté."))});return()=>st()}},[]),Ke.useEffect(()=>{if(Rr&&gn&&s){const Y=Ac(gn,"artifacts",Rs,"users",s,"players"),st=Hv(Y,at=>{const Bt=at.docs.map(Dt=>({id:Dt.id,...Dt.data()}));a(Bt),l&&!Bt.some(Dt=>Dt.id===l.id)&&(h(null),g([]))});return()=>st()}},[gn,s,Rs,l,Mt]),Ke.useEffect(()=>{if(Rr&&gn&&s&&l){const Y=Ac(gn,"artifacts",Rs,"users",s,"players",l.id,"activities"),st=Hv(Y,at=>{const Bt=at.docs.map(Dt=>({id:Dt.id,...Dt.data()}));g(Bt)});return()=>st()}else l&&g([])},[gn,s,Rs,l,Mt]);const S=Y=>{const st=ml.find(Bt=>Bt.name===Y.exercise);if(!st)return 0;const at=parseFloat(Y.value);return isNaN(at)?0:at/st.pointsPer*st.points},R=Y=>d.filter(st=>{const at=ml.find(Bt=>Bt.name===st.exercise);return at&&at.group===Y}).reduce((st,at)=>st+S(at),0),N=()=>d.reduce((Y,st)=>Y+S(st),0),O=async()=>{const Y=prompt("Entrez le nom du nouveau joueur:");if(Y)if(Rr&&gn&&s){const st=Ud(Ac(gn,"artifacts",Rs,"users",s,"players"));await qv(st,{name:Y,createdAt:new Date})}else{const st={id:Date.now().toString(),name:Y,createdAt:new Date};a(at=>[...at,st])}},P=Y=>{h(Y)},w=()=>{v(!0),rt("")},me=()=>{v(!1),D({date:"",exercise:"",value:""}),rt("")},Wt=Y=>{const{name:st,value:at}=Y.target;D(Bt=>({...Bt,[st]:at}))},q=async Y=>{if(Y.preventDefault(),!A.date||!A.exercise||!A.value){rt("Veuillez remplir tous les champs.");return}G(!0);try{if(Rr&&gn&&s&&l){const st=Ud(Ac(gn,"artifacts",Rs,"users",s,"players",l.id,"activities"));await qv(st,A)}else{const st={id:Date.now().toString(),...A};g(at=>[...at,st])}D({date:"",exercise:"",value:""}),me(),rt("")}catch(st){console.error("Erreur lors de l'ajout de l'activité:",st),rt("Erreur lors de l'ajout. Veuillez réessayer.")}finally{G(!1)}},nt=Y=>{ft(Y),Et(!0)},ut=()=>{ft(null),Et(!1),rt("")},zt=async()=>{if(dt){Tt(!0);try{if(Rr&&gn&&s&&l){const Y=Ud(gn,"artifacts",Rs,"users",s,"players",l.id,"activities",dt.id);await K2(Y)}else g(Y=>Y.filter(st=>st.id!==dt.id));ut(),rt("")}catch(Y){console.error("Erreur lors de la suppression de l'activité:",Y),rt("Erreur lors de la suppression. Veuillez réessayer.")}finally{Tt(!1)}}else rt("Erreur: Connexion à la base de données impossible.")},I=Y=>{const{goal:st,color:at}=Fv()[Y],Bt=R(Y),Dt=Math.min(Bt/st*100,100);return it.jsxs("div",{className:"flex items-center space-x-2 w-full",children:[it.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2.5",children:it.jsx("div",{className:`${at} h-2.5 rounded-full transition-all duration-500`,style:{width:`${Dt}%`}})}),it.jsxs("span",{className:"text-sm font-medium text-white",children:[Bt.toFixed(1)," / ",st," Pts"]})]})},X=N(),et=200,J=Math.min(X/et*100,100);return it.jsx("div",{className:"min-h-screen bg-gray-950 text-white p-4 font-sans",children:it.jsxs("div",{className:"container mx-auto max-w-4xl",children:[it.jsxs("header",{className:"text-center mb-8",children:[it.jsx("h1",{className:"text-4xl font-extrabold text-white tracking-wider",children:"Suivi d'activités TNT U12"}),it.jsxs("p",{className:"text-gray-400 mt-2",children:["ID Utilisateur: ",s||"En attente..."]}),!Mt&&it.jsx("p",{className:"text-red-400 text-sm mt-2",children:"Erreur: L'application n'est pas connectée à la base de données. Les données ne sont pas persistantes."})]}),it.jsxs("section",{className:"mb-8 p-6 bg-gray-900 rounded-3xl shadow-2xl border border-gray-700",children:[it.jsxs("div",{className:"flex justify-between items-center mb-4",children:[it.jsx("h2",{className:"text-xl font-bold text-teal-400",children:"Joueurs"}),it.jsx("button",{onClick:O,className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-amber-500 text-white font-bold rounded-full shadow-lg hover:from-orange-600 hover:to-amber-600 transition-all duration-300 transform hover:scale-105",children:"Ajouter un joueur"})]}),it.jsx("div",{className:"flex flex-wrap gap-4",children:i.map(Y=>it.jsx("button",{onClick:()=>P(Y),className:`px-6 py-3 rounded-full shadow-md transition-all duration-300 ${l&&l.id===Y.id?"bg-blue-600 text-white font-bold transform scale-105":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:Y.name},Y.id))})]}),l&&it.jsxs("section",{className:"p-6 bg-gray-900 rounded-3xl shadow-2xl border border-gray-700",children:[it.jsxs("div",{className:"flex justify-between items-center mb-4",children:[it.jsx("h2",{className:"text-2xl font-bold text-teal-400",children:l.name}),it.jsx("button",{onClick:w,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-sky-500 text-white font-bold rounded-full shadow-lg hover:from-blue-600 hover:to-sky-600 transition-all duration-300 transform hover:scale-105",children:"Ajouter une activité"})]}),it.jsxs("div",{className:"mb-6 space-y-4",children:[it.jsx("h3",{className:"text-xl font-semibold text-gray-200",children:"Points par groupe:"}),it.jsx("div",{className:"space-y-3",children:Object.keys(Fv()).map(Y=>it.jsxs("div",{children:[it.jsx("p",{className:"text-gray-300 font-medium mb-1",children:Y}),I(Y)]},Y))})]}),it.jsxs("div",{className:"mb-6 p-4 bg-gray-800 rounded-2xl shadow-inner border border-gray-700",children:[it.jsxs("div",{className:"flex items-center justify-between mb-2",children:[it.jsx("span",{className:"text-xl font-bold text-white",children:"Total des points"}),it.jsxs("span",{className:"text-3xl font-extrabold text-teal-400",children:[X.toFixed(1)," Pts"]})]}),it.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:it.jsx("div",{className:"bg-gradient-to-r from-teal-400 to-cyan-500 h-4 rounded-full transition-all duration-500",style:{width:`${J}%`}})}),it.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Objectif: ",et," points par semaine minimum"]}),X>=et?it.jsx("span",{className:"text-green-400 text-sm font-semibold mt-1",children:"Objectif atteint !"}):it.jsx("span",{className:"text-red-400 text-sm font-semibold mt-1",children:"Objectif non atteint."})]}),d.length>0?it.jsx("div",{className:"space-y-4",children:d.map(Y=>it.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow-md flex items-center justify-between border border-gray-700",children:[it.jsxs("div",{className:"flex items-center space-x-4",children:[it.jsx("span",{className:"text-3xl",children:X2(Y.exercise)}),it.jsxs("div",{children:[it.jsxs("p",{className:"text-gray-300 text-sm",children:["Date: ",it.jsx("span",{className:"font-semibold text-white",children:Y.date})]}),it.jsx("p",{className:"text-lg font-bold text-teal-400",children:Y.exercise}),it.jsxs("p",{className:"text-gray-300 text-sm",children:[Y.value," ",ml.find(st=>st.name===Y.exercise)?.unit]})]})]}),it.jsxs("div",{className:"text-right",children:[it.jsxs("p",{className:"text-2xl font-extrabold text-white",children:[S(Y).toFixed(1)," Pts"]}),it.jsx("button",{onClick:()=>nt(Y),className:"text-red-400 hover:text-red-500 transition-colors text-sm font-semibold mt-2",children:"Supprimer"})]})]},Y.id))}):it.jsx("p",{className:"text-center text-gray-400 italic",children:"Aucune activité enregistrée pour ce joueur."})]}),_&&it.jsx("div",{className:"fixed inset-0 bg-gray-950 bg-opacity-80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:it.jsxs("div",{className:"bg-gray-900 p-8 rounded-3xl shadow-2xl w-full max-w-md border border-gray-700",children:[it.jsxs("h3",{className:"text-2xl font-bold text-teal-400 mb-6",children:["Ajouter une activité pour ",l.name]}),Z&&it.jsx("p",{className:"text-sm text-center text-red-400 mb-4",children:Z}),it.jsxs("form",{onSubmit:q,className:"space-y-4",children:[it.jsxs("div",{children:[it.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-300 mb-1",children:"Date"}),it.jsx("input",{type:"date",id:"date",name:"date",value:A.date,onChange:Wt,className:"block w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),it.jsxs("div",{children:[it.jsx("label",{htmlFor:"exercise",className:"block text-sm font-medium text-gray-300 mb-1",children:"Activité"}),it.jsxs("select",{id:"exercise",name:"exercise",value:A.exercise,onChange:Wt,className:"block w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-teal-500",children:[it.jsx("option",{value:"",disabled:!0,children:"Sélectionner une activité"}),ml.map(Y=>it.jsx("option",{value:Y.name,children:Y.name},Y.name))]})]}),it.jsxs("div",{children:[it.jsxs("label",{htmlFor:"value",className:"block text-sm font-medium text-gray-300 mb-1",children:["Valeur (",A.exercise?ml.find(Y=>Y.name===A.exercise)?.unit:"Unité",")"]}),it.jsx("input",{type:"number",id:"value",name:"value",value:A.value,onChange:Wt,className:"block w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Ex: 5, 30, 250"})]}),it.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[it.jsx("button",{type:"button",onClick:me,disabled:V,className:"px-6 py-2 bg-gray-700 text-white rounded-full shadow-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Annuler"}),it.jsx("button",{type:"submit",disabled:V,className:"px-6 py-2 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-bold rounded-full shadow-lg hover:from-teal-600 hover:to-cyan-600 transition-all duration-300 disabled:opacity-50",children:V?"Ajout...":"Ajouter"})]})]})]})}),W&&it.jsx("div",{className:"fixed inset-0 bg-gray-950 bg-opacity-80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:it.jsxs("div",{className:"bg-gray-900 p-8 rounded-3xl shadow-2xl w-full max-w-md border border-gray-700",children:[it.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Confirmer la suppression"}),it.jsxs("p",{className:"text-gray-300 mb-6",children:["Êtes-vous sûr de vouloir supprimer l'activité ",it.jsx("span",{className:"font-bold text-orange-400",children:dt.exercise})," du ",it.jsx("span",{className:"font-bold",children:dt.date})," pour ",it.jsx("span",{className:"font-bold",children:l.name})," ? Cette action est irréversible."]}),Z&&it.jsxs("p",{className:"text-sm text-center text-red-400 mb-4",children:["Erreur: ",Z]}),it.jsxs("div",{className:"flex justify-end space-x-4",children:[it.jsx("button",{onClick:ut,disabled:Lt,className:"px-6 py-2 bg-gray-700 text-white rounded-full shadow-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Annuler"}),it.jsx("button",{onClick:zt,disabled:Lt,className:"px-6 py-2 bg-red-600 text-white font-bold rounded-full shadow-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:Lt?"Suppression...":"Supprimer"})]})]})})]})})};FA.createRoot(document.getElementById("root")).render(it.jsx(Ke.StrictMode,{children:it.jsx($2,{})}));
